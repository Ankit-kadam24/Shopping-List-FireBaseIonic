(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1590],{7144:(on,it,k)=>{"use strict";k.d(it,{A3:()=>fe,AL:()=>ot,AV:()=>X,Cc:()=>je,IN:()=>an,Su:()=>ae,UR:()=>Ie,Uv:()=>kt,WW:()=>ge,Wg:()=>ze,Ww:()=>Re,Y7:()=>yt,YD:()=>Qe,Yd:()=>Ke,Yj:()=>Xe,aw:()=>or,ik:()=>cn,kF:()=>ar,kx:()=>nt,my:()=>Vn,o9:()=>Oe,qk:()=>at,sX:()=>Ve,t7:()=>qt,uH:()=>Se,yW:()=>oe,yy:()=>De});const le=function(te){const se=[];let Ce=0;for(let $e=0;$e<te.length;$e++){let Je=te.charCodeAt($e);Je<128?se[Ce++]=Je:Je<2048?(se[Ce++]=Je>>6|192,se[Ce++]=63&Je|128):55296==(64512&Je)&&$e+1<te.length&&56320==(64512&te.charCodeAt($e+1))?(Je=65536+((1023&Je)<<10)+(1023&te.charCodeAt(++$e)),se[Ce++]=Je>>18|240,se[Ce++]=Je>>12&63|128,se[Ce++]=Je>>6&63|128,se[Ce++]=63&Je|128):(se[Ce++]=Je>>12|224,se[Ce++]=Je>>6&63|128,se[Ce++]=63&Je|128)}return se},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(te,se){if(!Array.isArray(te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ce=se?this.byteToCharMapWebSafe_:this.byteToCharMap_,$e=[];for(let Je=0;Je<te.length;Je+=3){const Kt=te[Je],dn=Je+1<te.length,Pn=dn?te[Je+1]:0,_r=Je+2<te.length,nr=_r?te[Je+2]:0;let Gr=(15&Pn)<<2|nr>>6,ji=63&nr;_r||(ji=64,dn||(Gr=64)),$e.push(Ce[Kt>>2],Ce[(3&Kt)<<4|Pn>>4],Ce[Gr],Ce[ji])}return $e.join("")},encodeString(te,se){return this.HAS_NATIVE_SUPPORT&&!se?btoa(te):this.encodeByteArray(le(te),se)},decodeString(te,se){return this.HAS_NATIVE_SUPPORT&&!se?atob(te):function(te){const se=[];let Ce=0,$e=0;for(;Ce<te.length;){const Je=te[Ce++];if(Je<128)se[$e++]=String.fromCharCode(Je);else if(Je>191&&Je<224){const Kt=te[Ce++];se[$e++]=String.fromCharCode((31&Je)<<6|63&Kt)}else if(Je>239&&Je<365){const _r=((7&Je)<<18|(63&te[Ce++])<<12|(63&te[Ce++])<<6|63&te[Ce++])-65536;se[$e++]=String.fromCharCode(55296+(_r>>10)),se[$e++]=String.fromCharCode(56320+(1023&_r))}else{const Kt=te[Ce++],dn=te[Ce++];se[$e++]=String.fromCharCode((15&Je)<<12|(63&Kt)<<6|63&dn)}}return se.join("")}(this.decodeStringToByteArray(te,se))},decodeStringToByteArray(te,se){this.init_();const Ce=se?this.charToByteMapWebSafe_:this.charToByteMap_,$e=[];for(let Je=0;Je<te.length;){const Kt=Ce[te.charAt(Je++)],Pn=Je<te.length?Ce[te.charAt(Je)]:0;++Je;const nr=Je<te.length?Ce[te.charAt(Je)]:64;++Je;const wn=Je<te.length?Ce[te.charAt(Je)]:64;if(++Je,null==Kt||null==Pn||null==nr||null==wn)throw new ce;$e.push(Kt<<2|Pn>>4),64!==nr&&($e.push(Pn<<4&240|nr>>2),64!==wn&&$e.push(nr<<6&192|wn))}return $e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let te=0;te<this.ENCODED_VALS.length;te++)this.byteToCharMap_[te]=this.ENCODED_VALS.charAt(te),this.charToByteMap_[this.byteToCharMap_[te]]=te,this.byteToCharMapWebSafe_[te]=this.ENCODED_VALS_WEBSAFE.charAt(te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[te]]=te,te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(te)]=te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(te)]=te)}}};class ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ze=function(te){return function(te){const se=le(te);return pe.encodeByteArray(se,!0)}(te).replace(/\./g,"")},ge=function(te){try{return pe.decodeString(te,!0)}catch(se){console.error("base64Decode failed: ",se)}return null};function Re(te,se){if(!(se instanceof Object))return se;switch(se.constructor){case Date:return new Date(se.getTime());case Object:void 0===te&&(te={});break;case Array:te=[];break;default:return se}for(const Ce in se)!se.hasOwnProperty(Ce)||!Fe(Ce)||(te[Ce]=Re(te[Ce],se[Ce]));return te}function Fe(te){return"__proto__"!==te}const Me=()=>{try{return function ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const te=process.env.__FIREBASE_DEFAULTS__;return te?JSON.parse(te):void 0})()||(()=>{if(typeof document>"u")return;let te;try{te=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const se=te&&ge(te[1]);return se&&JSON.parse(se)})()}catch(te){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${te}`)}},Ke=()=>{var te;return null===(te=Me())||void 0===te?void 0:te.config},Ve=te=>{var se;return null===(se=Me())||void 0===se?void 0:se[`_${te}`]};class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((se,Ce)=>{this.resolve=se,this.reject=Ce})}wrapCallback(se){return(Ce,$e)=>{Ce?this.reject(Ce):this.resolve($e),"function"==typeof se&&(this.promise.catch(()=>{}),1===se.length?se(Ce):se(Ce,$e))}}}function Qe(te,se){if(te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $e=se||"demo-project",Je=te.iat||0,Kt=te.sub||te.user_id;if(!Kt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const dn=Object.assign({iss:`https://securetoken.google.com/${$e}`,aud:$e,iat:Je,exp:Je+3600,auth_time:Je,sub:Kt,user_id:Kt,firebase:{sign_in_provider:"custom",identities:{}}},te);return[ze(JSON.stringify({alg:"none",type:"JWT"})),ze(JSON.stringify(dn)),""].join(".")}function ae(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function X(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ae())}function oe(){var te;const se=null===(te=Me())||void 0===te?void 0:te.forceEnvironment;if("node"===se)return!0;if("browser"===se)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Se(){return"object"==typeof self&&self.self===self}function je(){const te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof te&&void 0!==te.id}function ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function kt(){const te=ae();return te.indexOf("MSIE ")>=0||te.indexOf("Trident/")>=0}function at(){return!oe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function De(){try{return"object"==typeof indexedDB}catch{return!1}}function fe(){return new Promise((te,se)=>{try{let Ce=!0;const $e="validate-browser-context-for-indexeddb-analytics-module",Je=self.indexedDB.open($e);Je.onsuccess=()=>{Je.result.close(),Ce||self.indexedDB.deleteDatabase($e),te(!0)},Je.onupgradeneeded=()=>{Ce=!1},Je.onerror=()=>{var Kt;se((null===(Kt=Je.error)||void 0===Kt?void 0:Kt.message)||"")}}catch(Ce){se(Ce)}})}class nt extends Error{constructor(se,Ce,$e){super(Ce),this.code=se,this.customData=$e,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ie.prototype.create)}}class Ie{constructor(se,Ce,$e){this.service=se,this.serviceName=Ce,this.errors=$e}create(se,...Ce){const $e=Ce[0]||{},Je=`${this.service}/${se}`,Kt=this.errors[se],dn=Kt?function Lt(te,se){return te.replace(tn,(Ce,$e)=>{const Je=se[$e];return null!=Je?String(Je):`<${$e}?>`})}(Kt,$e):"Error";return new nt(Je,`${this.serviceName}: ${dn} (${Je}).`,$e)}}const tn=/\{\$([^}]+)}/g;function yt(te,se){return Object.prototype.hasOwnProperty.call(te,se)}function qt(te){for(const se in te)if(Object.prototype.hasOwnProperty.call(te,se))return!1;return!0}function an(te,se){if(te===se)return!0;const Ce=Object.keys(te),$e=Object.keys(se);for(const Je of Ce){if(!$e.includes(Je))return!1;const Kt=te[Je],dn=se[Je];if(Mt(Kt)&&Mt(dn)){if(!an(Kt,dn))return!1}else if(Kt!==dn)return!1}for(const Je of $e)if(!Ce.includes(Je))return!1;return!0}function Mt(te){return null!==te&&"object"==typeof te}function cn(te){const se=[];for(const[Ce,$e]of Object.entries(te))Array.isArray($e)?$e.forEach(Je=>{se.push(encodeURIComponent(Ce)+"="+encodeURIComponent(Je))}):se.push(encodeURIComponent(Ce)+"="+encodeURIComponent($e));return se.length?"&"+se.join("&"):""}function or(te){const se={};return te.replace(/^\?/,"").split("&").forEach($e=>{if($e){const[Je,Kt]=$e.split("=");se[decodeURIComponent(Je)]=decodeURIComponent(Kt)}}),se}function ar(te){const se=te.indexOf("?");if(!se)return"";const Ce=te.indexOf("#",se);return te.substring(se,Ce>0?Ce:void 0)}function Vn(te,se){const Ce=new mr(te,se);return Ce.subscribe.bind(Ce)}class mr{constructor(se,Ce){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ce,this.task.then(()=>{se(this)}).catch($e=>{this.error($e)})}next(se){this.forEachObserver(Ce=>{Ce.next(se)})}error(se){this.forEachObserver(Ce=>{Ce.error(se)}),this.close(se)}complete(){this.forEachObserver(se=>{se.complete()}),this.close()}subscribe(se,Ce,$e){let Je;if(void 0===se&&void 0===Ce&&void 0===$e)throw new Error("Missing Observer.");Je=function Ur(te,se){if("object"!=typeof te||null===te)return!1;for(const Ce of se)if(Ce in te&&"function"==typeof te[Ce])return!0;return!1}(se,["next","error","complete"])?se:{next:se,error:Ce,complete:$e},void 0===Je.next&&(Je.next=On),void 0===Je.error&&(Je.error=On),void 0===Je.complete&&(Je.complete=On);const Kt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Je.error(this.finalError):Je.complete()}catch{}}),this.observers.push(Je),Kt}unsubscribeOne(se){void 0===this.observers||void 0===this.observers[se]||(delete this.observers[se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(se){if(!this.finalized)for(let Ce=0;Ce<this.observers.length;Ce++)this.sendOne(Ce,se)}sendOne(se,Ce){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[se])try{Ce(this.observers[se])}catch($e){typeof console<"u"&&console.error&&console.error($e)}})}close(se){this.finalized||(this.finalized=!0,void 0!==se&&(this.finalError=se),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function On(){}function Xe(te){return te&&te._delegate?te._delegate:te}},9248:(on,it,k)=>{"use strict";k.d(it,{c:()=>K,r:()=>ue});const K=(ae,X)=>{ae.componentOnReady?ae.componentOnReady().then(oe=>X(oe)):ue(()=>X(ae))},ue=ae=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ae):"function"==typeof requestAnimationFrame?requestAnimationFrame(ae):setTimeout(ae)},1896:(on,it,k)=>{"use strict";k.d(it,{L:()=>u,a:()=>z,b:()=>K,c:()=>le,d:()=>be,g:()=>ae});const u="ionViewWillEnter",z="ionViewDidEnter",K="ionViewWillLeave",le="ionViewDidLeave",be="ionViewWillUnload",ae=X=>X.classList.contains("ion-page")?X:X.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||X},388:(on,it,k)=>{"use strict";k.d(it,{c:()=>rt});var u=k(4829),z=k(6384);let K;const be=Pe=>Pe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pe=Pe=>(void 0===K&&(K=void 0===Pe.style.animationName&&void 0!==Pe.style.webkitAnimationName?"-webkit-":""),K),ce=(Pe,Me,Be)=>{const vt=Me.startsWith("animation")?pe(Pe):"";Pe.style.setProperty(vt+Me,Be)},We=(Pe,Me)=>{const Be=Me.startsWith("animation")?pe(Pe):"";Pe.style.removeProperty(Be+Me)},ue=[],Ae=(Pe=[],Me)=>{if(void 0!==Me){const Be=Array.isArray(Me)?Me:[Me];return[...Pe,...Be]}return Pe},rt=Pe=>{let Me,Be,vt,Ke,Ve,Oe,Se,De,fe,we,Ne,tn,Zt,Qe=[],ae=[],X=[],oe=!1,je={},ot=[],ut=[],kt={},fn=0,jn=!1,at=!1,nt=!0,Ie=!1,Lt=!0,Rt=!1;const _n=Pe,kn=[],Hn=[],Le=[],_t=[],yt=[],jt=[],qt=[],Vt=[],an=[],Mt=[],Fn=[],cn="function"==typeof AnimationEffect||void 0!==u.w&&"function"==typeof u.w.AnimationEffect,or="function"==typeof Element&&"function"==typeof Element.prototype.animate&&cn,Nn=()=>Fn,On=(pt,j)=>{const J=j.findIndex(Ue=>Ue.c===pt);J>-1&&j.splice(J,1)},Dn=(pt,j)=>((null!=j&&j.oneTimeCallback?Hn:kn).push({c:pt,o:j}),Zt),Br=()=>{if(or)Fn.forEach(pt=>{pt.cancel()}),Fn.length=0;else{const pt=_t.slice();(0,z.r)(()=>{pt.forEach(j=>{We(j,"animation-name"),We(j,"animation-duration"),We(j,"animation-timing-function"),We(j,"animation-iteration-count"),We(j,"animation-delay"),We(j,"animation-play-state"),We(j,"animation-fill-mode"),We(j,"animation-direction")})})}},Ln=()=>{jt.forEach(pt=>{null!=pt&&pt.parentNode&&pt.parentNode.removeChild(pt)}),jt.length=0},se=()=>void 0!==Ve?Ve:Se?Se.getFill():"both",Ce=()=>void 0!==fe?fe:void 0!==Oe?Oe:Se?Se.getDirection():"normal",$e=()=>jn?"linear":void 0!==vt?vt:Se?Se.getEasing():"linear",Je=()=>at?0:void 0!==we?we:void 0!==Be?Be:Se?Se.getDuration():0,Kt=()=>void 0!==Ke?Ke:Se?Se.getIterations():1,dn=()=>void 0!==Ne?Ne:void 0!==Me?Me:Se?Se.getDelay():0,xn=()=>{0!==fn&&(fn--,0===fn&&((()=>{me(),an.forEach(He=>He()),Mt.forEach(He=>He());const pt=nt?1:0,j=ot,J=ut,Ue=kt;_t.forEach(He=>{const dt=He.classList;j.forEach(Ct=>dt.add(Ct)),J.forEach(Ct=>dt.remove(Ct));for(const Ct in Ue)Ue.hasOwnProperty(Ct)&&ce(He,Ct,Ue[Ct])}),we=void 0,fe=void 0,Ne=void 0,kn.forEach(He=>He.c(pt,Zt)),Hn.forEach(He=>He.c(pt,Zt)),Hn.length=0,Lt=!0,nt&&(Ie=!0),nt=!0})(),Se&&Se.animationFinish()))},zn=(pt=!0)=>{Ln();const j=(Pe=>(Pe.forEach(Me=>{for(const Be in Me)if(Me.hasOwnProperty(Be)){const vt=Me[Be];if("easing"===Be)Me["animation-timing-function"]=vt,delete Me[Be];else{const Ke=be(Be);Ke!==Be&&(Me[Ke]=vt,delete Me[Be])}}}),Pe))(Qe);_t.forEach(J=>{if(j.length>0){const Ue=((Pe=[])=>Pe.map(Me=>{const Be=Me.offset,vt=[];for(const Ke in Me)Me.hasOwnProperty(Ke)&&"offset"!==Ke&&vt.push(`${Ke}: ${Me[Ke]};`);return`${100*Be}% { ${vt.join(" ")} }`}).join(" "))(j);tn=void 0!==Pe?Pe:(Pe=>{let Me=ue.indexOf(Pe);return Me<0&&(Me=ue.push(Pe)-1),`ion-animation-${Me}`})(Ue);const He=((Pe,Me,Be)=>{var vt;const Ke=(Pe=>{const Me=void 0!==Pe.getRootNode?Pe.getRootNode():Pe;return Me.head||Me})(Be),Ve=pe(Be),Oe=Ke.querySelector("#"+Pe);if(Oe)return Oe;const Qe=(null!==(vt=Be.ownerDocument)&&void 0!==vt?vt:document).createElement("style");return Qe.id=Pe,Qe.textContent=`@${Ve}keyframes ${Pe} { ${Me} } @${Ve}keyframes ${Pe}-alt { ${Me} }`,Ke.appendChild(Qe),Qe})(tn,Ue,J);jt.push(He),ce(J,"animation-duration",`${Je()}ms`),ce(J,"animation-timing-function",$e()),ce(J,"animation-delay",`${dn()}ms`),ce(J,"animation-fill-mode",se()),ce(J,"animation-direction",Ce());const dt=Kt()===1/0?"infinite":Kt().toString();ce(J,"animation-iteration-count",dt),ce(J,"animation-play-state","paused"),pt&&ce(J,"animation-name",`${He.id}-alt`),(0,z.r)(()=>{ce(J,"animation-name",He.id||null)})}})},ir=(pt=!0)=>{(()=>{qt.forEach(Ue=>Ue()),Vt.forEach(Ue=>Ue());const pt=ae,j=X,J=je;_t.forEach(Ue=>{const He=Ue.classList;pt.forEach(dt=>He.add(dt)),j.forEach(dt=>He.remove(dt));for(const dt in J)J.hasOwnProperty(dt)&&ce(Ue,dt,J[dt])})})(),Qe.length>0&&(or?(_t.forEach(pt=>{const j=pt.animate(Qe,{id:_n,delay:dn(),duration:Je(),easing:$e(),iterations:Kt(),fill:se(),direction:Ce()});j.pause(),Fn.push(j)}),Fn.length>0&&(Fn[0].onfinish=()=>{xn()})):zn(pt)),oe=!0},cr=pt=>{if(pt=Math.min(Math.max(pt,0),.9999),or)Fn.forEach(j=>{j.currentTime=j.effect.getComputedTiming().delay+Je()*pt,j.pause()});else{const j=`-${Je()*pt}ms`;_t.forEach(J=>{Qe.length>0&&(ce(J,"animation-delay",j),ce(J,"animation-play-state","paused"))})}},bi=pt=>{Fn.forEach(j=>{j.effect.updateTiming({delay:dn(),duration:Je(),easing:$e(),iterations:Kt(),fill:se(),direction:Ce()})}),void 0!==pt&&cr(pt)},Vi=(pt=!0,j)=>{(0,z.r)(()=>{_t.forEach(J=>{ce(J,"animation-name",tn||null),ce(J,"animation-duration",`${Je()}ms`),ce(J,"animation-timing-function",$e()),ce(J,"animation-delay",void 0!==j?`-${j*Je()}ms`:`${dn()}ms`),ce(J,"animation-fill-mode",se()||null),ce(J,"animation-direction",Ce()||null);const Ue=Kt()===1/0?"infinite":Kt().toString();ce(J,"animation-iteration-count",Ue),pt&&ce(J,"animation-name",`${tn}-alt`),(0,z.r)(()=>{ce(J,"animation-name",tn||null)})})})},Mr=(pt=!1,j=!0,J)=>(pt&&yt.forEach(Ue=>{Ue.update(pt,j,J)}),or?bi(J):Vi(j,J),Zt),lr=()=>{oe&&(or?Fn.forEach(pt=>{pt.pause()}):_t.forEach(pt=>{ce(pt,"animation-play-state","paused")}),Rt=!0)},_e=()=>{De=void 0,xn()},me=()=>{De&&clearTimeout(De)},Wt=pt=>new Promise(j=>{null!=pt&&pt.sync&&(at=!0,Dn(()=>at=!1,{oneTimeCallback:!0})),oe||ir(),Ie&&(or?(cr(0),bi()):Vi(),Ie=!1),Lt&&(fn=yt.length+1,Lt=!1);const J=()=>{On(Ue,Hn),j()},Ue=()=>{On(J,Le),j()};Dn(Ue,{oneTimeCallback:!0}),((pt,j)=>{Le.push({c:pt,o:{oneTimeCallback:!0}})})(J),yt.forEach(He=>{He.play()}),or?(Fn.forEach(pt=>{pt.play()}),(0===Qe.length||0===_t.length)&&xn()):(()=>{if(me(),(0,z.r)(()=>{_t.forEach(pt=>{Qe.length>0&&ce(pt,"animation-play-state","running")})}),0===Qe.length||0===_t.length)xn();else{const pt=dn()||0,j=Je()||0,J=Kt()||1;isFinite(J)&&(De=setTimeout(_e,pt+j*J+100)),((Pe,Me)=>{let Be;const vt={passive:!0},Ve=Oe=>{Pe===Oe.target&&(Be&&Be(),me(),(0,z.r)(()=>{_t.forEach(pt=>{We(pt,"animation-duration"),We(pt,"animation-delay"),We(pt,"animation-play-state")}),(0,z.r)(xn)}))};Pe&&(Pe.addEventListener("webkitAnimationEnd",Ve,vt),Pe.addEventListener("animationend",Ve,vt),Be=()=>{Pe.removeEventListener("webkitAnimationEnd",Ve,vt),Pe.removeEventListener("animationend",Ve,vt)})})(_t[0])}})(),Rt=!1}),gn=(pt,j)=>{const J=Qe[0];return void 0===J||void 0!==J.offset&&0!==J.offset?Qe=[{offset:0,[pt]:j},...Qe]:J[pt]=j,Zt};return Zt={parentAnimation:Se,elements:_t,childAnimations:yt,id:_n,animationFinish:xn,from:gn,to:(pt,j)=>{const J=Qe[Qe.length-1];return void 0===J||void 0!==J.offset&&1!==J.offset?Qe=[...Qe,{offset:1,[pt]:j}]:J[pt]=j,Zt},fromTo:(pt,j,J)=>gn(pt,j).to(pt,J),parent:pt=>(Se=pt,Zt),play:Wt,pause:()=>(yt.forEach(pt=>{pt.pause()}),lr(),Zt),stop:()=>{yt.forEach(pt=>{pt.stop()}),oe&&(Br(),oe=!1),jn=!1,at=!1,Lt=!0,fe=void 0,we=void 0,Ne=void 0,fn=0,Ie=!1,nt=!0,Rt=!1,Le.forEach(pt=>pt.c(0,Zt)),Le.length=0},destroy:pt=>(yt.forEach(j=>{j.destroy(pt)}),(pt=>{Br(),pt&&Ln()})(pt),_t.length=0,yt.length=0,Qe.length=0,kn.length=0,Hn.length=0,oe=!1,Lt=!0,Zt),keyframes:pt=>{const j=Qe!==pt;return Qe=pt,j&&(pt=>{or?Nn().forEach(j=>{const J=j.effect;if(J.setKeyframes)J.setKeyframes(pt);else{const Ue=new KeyframeEffect(J.target,pt,J.getTiming());j.effect=Ue}}):zn()})(Qe),Zt},addAnimation:pt=>{if(null!=pt)if(Array.isArray(pt))for(const j of pt)j.parent(Zt),yt.push(j);else pt.parent(Zt),yt.push(pt);return Zt},addElement:pt=>{if(null!=pt)if(1===pt.nodeType)_t.push(pt);else if(pt.length>=0)for(let j=0;j<pt.length;j++)_t.push(pt[j]);else console.error("Invalid addElement value");return Zt},update:Mr,fill:pt=>(Ve=pt,Mr(!0),Zt),direction:pt=>(Oe=pt,Mr(!0),Zt),iterations:pt=>(Ke=pt,Mr(!0),Zt),duration:pt=>(!or&&0===pt&&(pt=1),Be=pt,Mr(!0),Zt),easing:pt=>(vt=pt,Mr(!0),Zt),delay:pt=>(Me=pt,Mr(!0),Zt),getWebAnimations:Nn,getKeyframes:()=>Qe,getFill:se,getDirection:Ce,getDelay:dn,getIterations:Kt,getEasing:$e,getDuration:Je,afterAddRead:pt=>(an.push(pt),Zt),afterAddWrite:pt=>(Mt.push(pt),Zt),afterClearStyles:(pt=[])=>{for(const j of pt)kt[j]="";return Zt},afterStyles:(pt={})=>(kt=pt,Zt),afterRemoveClass:pt=>(ut=Ae(ut,pt),Zt),afterAddClass:pt=>(ot=Ae(ot,pt),Zt),beforeAddRead:pt=>(qt.push(pt),Zt),beforeAddWrite:pt=>(Vt.push(pt),Zt),beforeClearStyles:(pt=[])=>{for(const j of pt)je[j]="";return Zt},beforeStyles:(pt={})=>(je=pt,Zt),beforeRemoveClass:pt=>(X=Ae(X,pt),Zt),beforeAddClass:pt=>(ae=Ae(ae,pt),Zt),onFinish:Dn,isRunning:()=>0!==fn&&!Rt,progressStart:(pt=!1,j)=>(yt.forEach(J=>{J.progressStart(pt,j)}),lr(),jn=pt,oe||ir(),Mr(!1,!0,j),Zt),progressStep:pt=>(yt.forEach(j=>{j.progressStep(pt)}),cr(pt),Zt),progressEnd:(pt,j,J)=>(jn=!1,yt.forEach(Ue=>{Ue.progressEnd(pt,j,J)}),void 0!==J&&(we=J),Ie=!1,nt=!0,0===pt?(fe="reverse"===Ce()?"normal":"reverse","reverse"===fe&&(nt=!1),or?(Mr(),cr(1-j)):(Ne=(1-j)*Je()*-1,Mr(!1,!1))):1===pt&&(or?(Mr(),cr(j)):(Ne=j*Je()*-1,Mr(!1,!1))),void 0!==pt&&!Se&&Wt(),Zt)}}},9637:(on,it,k)=>{"use strict";k.d(it,{E:()=>ge,a:()=>u,s:()=>We});const u=ue=>{try{if(ue instanceof ce)return ue.value;if(!le()||"string"!=typeof ue||""===ue)return ue;if(ue.includes("onload="))return"";const Re=document.createDocumentFragment(),Fe=document.createElement("div");Re.appendChild(Fe),Fe.innerHTML=ue,pe.forEach(Pe=>{const Me=Re.querySelectorAll(Pe);for(let Be=Me.length-1;Be>=0;Be--){const vt=Me[Be];vt.parentNode?vt.parentNode.removeChild(vt):Re.removeChild(vt);const Ke=K(vt);for(let Ve=0;Ve<Ke.length;Ve++)z(Ke[Ve])}});const ke=K(Re);for(let Pe=0;Pe<ke.length;Pe++)z(ke[Pe]);const Ae=document.createElement("div");Ae.appendChild(Re);const rt=Ae.querySelector("div");return null!==rt?rt.innerHTML:Ae.innerHTML}catch(Re){return console.error(Re),""}},z=ue=>{if(ue.nodeType&&1!==ue.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ue.attributes instanceof NamedNodeMap))return void ue.remove();for(let Fe=ue.attributes.length-1;Fe>=0;Fe--){const ke=ue.attributes.item(Fe),Ae=ke.name;if(!be.includes(Ae.toLowerCase())){ue.removeAttribute(Ae);continue}const rt=ke.value,Pe=ue[Ae];(null!=rt&&rt.toLowerCase().includes("javascript:")||null!=Pe&&Pe.toLowerCase().includes("javascript:"))&&ue.removeAttribute(Ae)}const Re=K(ue);for(let Fe=0;Fe<Re.length;Fe++)z(Re[Fe])},K=ue=>null!=ue.children?ue.children:ue.childNodes,le=()=>{var ue;const Re=window,Fe=null===(ue=null==Re?void 0:Re.Ionic)||void 0===ue?void 0:ue.config;return!Fe||(Fe.get?Fe.get("sanitizerEnabled",!0):!0===Fe.sanitizerEnabled||void 0===Fe.sanitizerEnabled)},be=["class","id","href","src","name","slot"],pe=["script","style","iframe","meta","link","object","embed"];class ce{constructor(Re){this.value=Re}}const We=ue=>{const Re=window,Fe=Re.Ionic;if(!Fe||!Fe.config||"Object"===Fe.config.constructor.name)return Re.Ionic=Re.Ionic||{},Re.Ionic.config=Object.assign(Object.assign({},Re.Ionic.config),ue),Re.Ionic.config},ge=!1},495:(on,it,k)=>{"use strict";k.d(it,{C:()=>be,a:()=>K,d:()=>le});var u=k(1528),z=k(6384);const K=function(){var pe=(0,u.c)(function*(ce,We,ze,ge,ue,Re){var Fe;if(ce)return ce.attachViewToDom(We,ze,ue,ge);if(!(Re||"string"==typeof ze||ze instanceof HTMLElement))throw new Error("framework delegate is missing");const ke="string"==typeof ze?null===(Fe=We.ownerDocument)||void 0===Fe?void 0:Fe.createElement(ze):ze;return ge&&ge.forEach(Ae=>ke.classList.add(Ae)),ue&&Object.assign(ke,ue),We.appendChild(ke),yield new Promise(Ae=>(0,z.c)(ke,Ae)),ke});return function(We,ze,ge,ue,Re,Fe){return pe.apply(this,arguments)}}(),le=(pe,ce)=>{if(ce){if(pe)return pe.removeViewFromDom(ce.parentElement,ce);ce.remove()}return Promise.resolve()},be=()=>{let pe,ce;return{attachViewToDom:function(){var ge=(0,u.c)(function*(ue,Re,Fe={},ke=[]){var Ae,rt;let Pe;if(pe=ue,Re){const Be="string"==typeof Re?null===(Ae=pe.ownerDocument)||void 0===Ae?void 0:Ae.createElement(Re):Re;ke.forEach(vt=>Be.classList.add(vt)),Object.assign(Be,Fe),pe.appendChild(Be),Pe=Be,yield new Promise(vt=>(0,z.c)(Be,vt))}else if(pe.children.length>0&&("ION-MODAL"===pe.tagName||"ION-POPOVER"===pe.tagName)&&!(Pe=pe.children[0]).classList.contains("ion-delegate-host")){const vt=null===(rt=pe.ownerDocument)||void 0===rt?void 0:rt.createElement("div");vt.classList.add("ion-delegate-host"),ke.forEach(Ke=>vt.classList.add(Ke)),vt.append(...pe.children),pe.appendChild(vt),Pe=vt}const Me=document.querySelector("ion-app")||document.body;return ce=document.createComment("ionic teleport"),pe.parentNode.insertBefore(ce,pe),Me.appendChild(pe),null!=Pe?Pe:pe});return function(Re,Fe){return ge.apply(this,arguments)}}(),removeViewFromDom:()=>(pe&&ce&&(ce.parentNode.insertBefore(pe,ce),ce.remove()),Promise.resolve())}}},6560:(on,it,k)=>{"use strict";k.d(it,{G:()=>be});class z{constructor(ce,We,ze,ge,ue){this.id=We,this.name=ze,this.disableScroll=ue,this.priority=1e6*ge+We,this.ctrl=ce}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ce=this.ctrl.capture(this.name,this.id,this.priority);return ce&&this.disableScroll&&this.ctrl.disableScroll(this.id),ce}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class K{constructor(ce,We,ze,ge){this.id=We,this.disable=ze,this.disableScroll=ge,this.ctrl=ce}block(){if(this.ctrl){if(this.disable)for(const ce of this.disable)this.ctrl.disableGesture(ce,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ce of this.disable)this.ctrl.enableGesture(ce,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const le="backdrop-no-scroll",be=new class u{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ce){var We;return new z(this,this.newID(),ce.name,null!==(We=ce.priority)&&void 0!==We?We:0,!!ce.disableScroll)}createBlocker(ce={}){return new K(this,this.newID(),ce.disable,!!ce.disableScroll)}start(ce,We,ze){return this.canStart(ce)?(this.requestedStart.set(We,ze),!0):(this.requestedStart.delete(We),!1)}capture(ce,We,ze){if(!this.start(ce,We,ze))return!1;const ge=this.requestedStart;let ue=-1e4;if(ge.forEach(Re=>{ue=Math.max(ue,Re)}),ue===ze){this.capturedId=We,ge.clear();const Re=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ce}});return document.dispatchEvent(Re),!0}return ge.delete(We),!1}release(ce){this.requestedStart.delete(ce),this.capturedId===ce&&(this.capturedId=void 0)}disableGesture(ce,We){let ze=this.disabledGestures.get(ce);void 0===ze&&(ze=new Set,this.disabledGestures.set(ce,ze)),ze.add(We)}enableGesture(ce,We){const ze=this.disabledGestures.get(ce);void 0!==ze&&ze.delete(We)}disableScroll(ce){this.disabledScroll.add(ce),1===this.disabledScroll.size&&document.body.classList.add(le)}enableScroll(ce){this.disabledScroll.delete(ce),0===this.disabledScroll.size&&document.body.classList.remove(le)}canStart(ce){return!(void 0!==this.capturedId||this.isDisabled(ce))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ce){const We=this.disabledGestures.get(ce);return!!(We&&We.size>0)}newID(){return this.gestureId++,this.gestureId}}},2784:(on,it,k)=>{"use strict";k.r(it),k.d(it,{MENU_BACK_BUTTON_PRIORITY:()=>ze,OVERLAY_BACK_BUTTON_PRIORITY:()=>We,blockHardwareBackButton:()=>pe,shoudUseCloseWatcher:()=>be,startHardwareBackButton:()=>ce});var u=k(1528),z=k(4829),K=k(8523);k(2992);const be=()=>K.c.get("experimentalCloseWatcher",!1)&&void 0!==z.w&&"CloseWatcher"in z.w,pe=()=>{document.addEventListener("backbutton",()=>{})},ce=()=>{const ge=document;let ue=!1;const Re=()=>{if(ue)return;let Fe=0,ke=[];const Ae=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Me,Be){ke.push({priority:Me,handler:Be,id:Fe++})}}});ge.dispatchEvent(Ae);const rt=function(){var Me=(0,u.c)(function*(Be){try{if(null!=Be&&Be.handler){const vt=Be.handler(Pe);null!=vt&&(yield vt)}}catch(vt){console.error(vt)}});return function(vt){return Me.apply(this,arguments)}}(),Pe=()=>{if(ke.length>0){let Me={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ke.forEach(Be=>{Be.priority>=Me.priority&&(Me=Be)}),ue=!0,ke=ke.filter(Be=>Be.id!==Me.id),rt(Me).then(()=>ue=!1)}};Pe()};if(be()){let Fe;const ke=()=>{null==Fe||Fe.destroy(),Fe=new z.w.CloseWatcher,Fe.onclose=()=>{Re(),ke()}};ke()}else ge.addEventListener("backbutton",Re)},We=100,ze=99},6384:(on,it,k)=>{"use strict";k.d(it,{a:()=>We,b:()=>ze,c:()=>K,d:()=>rt,e:()=>Ae,f:()=>ke,g:()=>ge,h:()=>Fe,i:()=>ce,j:()=>Ve,k:()=>be,l:()=>Pe,m:()=>le,n:()=>Re,o:()=>Me,p:()=>Ke,q:()=>Oe,r:()=>ue,s:()=>Qe,t:()=>u,u:()=>Be,v:()=>vt});const u=(ae,X=0)=>new Promise(oe=>{z(ae,X,oe)}),z=(ae,X=0,oe)=>{let Se,je;const ot={passive:!0},kt=()=>{Se&&Se()},fn=jn=>{(void 0===jn||ae===jn.target)&&(kt(),oe(jn))};return ae&&(ae.addEventListener("webkitTransitionEnd",fn,ot),ae.addEventListener("transitionend",fn,ot),je=setTimeout(fn,X+500),Se=()=>{void 0!==je&&(clearTimeout(je),je=void 0),ae.removeEventListener("webkitTransitionEnd",fn,ot),ae.removeEventListener("transitionend",fn,ot)}),kt},K=(ae,X)=>{ae.componentOnReady?ae.componentOnReady().then(oe=>X(oe)):ue(()=>X(ae))},le=ae=>void 0!==ae.componentOnReady,be=(ae,X=[])=>{const oe={};return X.forEach(Se=>{ae.hasAttribute(Se)&&(null!==ae.getAttribute(Se)&&(oe[Se]=ae.getAttribute(Se)),ae.removeAttribute(Se))}),oe},pe=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ce=(ae,X)=>{let oe=pe;return X&&X.length>0&&(oe=oe.filter(Se=>!X.includes(Se))),be(ae,oe)},We=(ae,X,oe,Se)=>{var je;if(typeof window<"u"){const ot=window,ut=null===(je=null==ot?void 0:ot.Ionic)||void 0===je?void 0:je.config;if(ut){const kt=ut.get("_ael");if(kt)return kt(ae,X,oe,Se);if(ut._ael)return ut._ael(ae,X,oe,Se)}}return ae.addEventListener(X,oe,Se)},ze=(ae,X,oe,Se)=>{var je;if(typeof window<"u"){const ot=window,ut=null===(je=null==ot?void 0:ot.Ionic)||void 0===je?void 0:je.config;if(ut){const kt=ut.get("_rel");if(kt)return kt(ae,X,oe,Se);if(ut._rel)return ut._rel(ae,X,oe,Se)}}return ae.removeEventListener(X,oe,Se)},ge=(ae,X=ae)=>ae.shadowRoot||X,ue=ae=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ae):"function"==typeof requestAnimationFrame?requestAnimationFrame(ae):setTimeout(ae),Re=ae=>!!ae.shadowRoot&&!!ae.attachShadow,Fe=ae=>{const X=ae.closest("ion-item");return X?X.querySelector("ion-label"):null},ke=ae=>{if(ae.focus(),ae.classList.contains("ion-focusable")){const X=ae.closest("ion-app");X&&X.setFocus([ae])}},Ae=(ae,X)=>{let oe;const Se=ae.getAttribute("aria-labelledby"),je=ae.id;let ot=null!==Se&&""!==Se.trim()?Se:X+"-lbl",ut=null!==Se&&""!==Se.trim()?document.getElementById(Se):Fe(ae);return ut?(null===Se&&(ut.id=ot),oe=ut.textContent,ut.setAttribute("aria-hidden","true")):""!==je.trim()&&(ut=document.querySelector(`label[for="${je}"]`),ut&&(""!==ut.id?ot=ut.id:ut.id=ot=`${je}-lbl`,oe=ut.textContent)),{label:ut,labelId:ot,labelText:oe}},rt=(ae,X,oe,Se,je)=>{if(ae||Re(X)){let ot=X.querySelector("input.aux-input");ot||(ot=X.ownerDocument.createElement("input"),ot.type="hidden",ot.classList.add("aux-input"),X.appendChild(ot)),ot.disabled=je,ot.name=oe,ot.value=Se||""}},Pe=(ae,X,oe)=>Math.max(ae,Math.min(X,oe)),Me=(ae,X)=>{if(!ae){const oe="ASSERT: "+X;throw console.error(oe),new Error(oe)}},Be=ae=>ae.timeStamp||Date.now(),vt=ae=>{if(ae){const X=ae.changedTouches;if(X&&X.length>0){const oe=X[0];return{x:oe.clientX,y:oe.clientY}}if(void 0!==ae.pageX)return{x:ae.pageX,y:ae.pageY}}return{x:0,y:0}},Ke=ae=>{const X="rtl"===document.dir;switch(ae){case"start":return X;case"end":return!X;default:throw new Error(`"${ae}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ve=(ae,X)=>{const oe=ae._original||ae;return{_original:ae,emit:Oe(oe.emit.bind(oe),X)}},Oe=(ae,X=0)=>{let oe;return(...Se)=>{clearTimeout(oe),oe=setTimeout(ae,X,...Se)}},Qe=(ae,X)=>{if(null!=ae||(ae={}),null!=X||(X={}),ae===X)return!0;const oe=Object.keys(ae);if(oe.length!==Object.keys(X).length)return!1;for(const Se of oe)if(!(Se in X)||ae[Se]!==X[Se])return!1;return!0}},2528:(on,it,k)=>{"use strict";k.r(it),k.d(it,{GESTURE_CONTROLLER:()=>u.G,createGesture:()=>ze});var u=k(6560);const z=(Fe,ke,Ae,rt)=>{const Pe=K(Fe)?{capture:!!rt.capture,passive:!!rt.passive}:!!rt.capture;let Me,Be;return Fe.__zone_symbol__addEventListener?(Me="__zone_symbol__addEventListener",Be="__zone_symbol__removeEventListener"):(Me="addEventListener",Be="removeEventListener"),Fe[Me](ke,Ae,Pe),()=>{Fe[Be](ke,Ae,Pe)}},K=Fe=>{if(void 0===le)try{const ke=Object.defineProperty({},"passive",{get:()=>{le=!0}});Fe.addEventListener("optsTest",()=>{},ke)}catch{le=!1}return!!le};let le;const ce=Fe=>Fe instanceof Document?Fe:Fe.ownerDocument,ze=Fe=>{let ke=!1,Ae=!1,rt=!0,Pe=!1;const Me=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Fe),Be=Me.canStart,vt=Me.onWillStart,Ke=Me.onStart,Ve=Me.onEnd,Oe=Me.notCaptured,Qe=Me.onMove,ae=Me.threshold,X=Me.passive,oe=Me.blurOnStart,Se={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},je=((Fe,ke,Ae)=>{const rt=Ae*(Math.PI/180),Pe="x"===Fe,Me=Math.cos(rt),Be=ke*ke;let vt=0,Ke=0,Ve=!1,Oe=0;return{start(Qe,ae){vt=Qe,Ke=ae,Oe=0,Ve=!0},detect(Qe,ae){if(!Ve)return!1;const X=Qe-vt,oe=ae-Ke,Se=X*X+oe*oe;if(Se<Be)return!1;const je=Math.sqrt(Se),ot=(Pe?X:oe)/je;return Oe=ot>Me?1:ot<-Me?-1:0,Ve=!1,!0},isGesture:()=>0!==Oe,getDirection:()=>Oe}})(Me.direction,Me.threshold,Me.maxAngle),ot=u.G.createGesture({name:Fe.gestureName,priority:Fe.gesturePriority,disableScroll:Fe.disableScroll}),fn=()=>{ke&&(Pe=!1,Qe&&Qe(Se))},jn=()=>!!ot.capture()&&(ke=!0,rt=!1,Se.startX=Se.currentX,Se.startY=Se.currentY,Se.startTime=Se.currentTime,vt?vt(Se).then(De):De(),!0),De=()=>{oe&&(()=>{if(typeof document<"u"){const Ie=document.activeElement;null!=Ie&&Ie.blur&&Ie.blur()}})(),Ke&&Ke(Se),rt=!0},fe=()=>{ke=!1,Ae=!1,Pe=!1,rt=!0,ot.release()},we=Ie=>{const Lt=ke,tn=rt;if(fe(),tn){if(ge(Se,Ie),Lt)return void(Ve&&Ve(Se));Oe&&Oe(Se)}},Ne=((Fe,ke,Ae,rt,Pe)=>{let Me,Be,vt,Ke,Ve,Oe,Qe,ae=0;const X=at=>{ae=Date.now()+2e3,ke(at)&&(!Be&&Ae&&(Be=z(Fe,"touchmove",Ae,Pe)),vt||(vt=z(at.target,"touchend",Se,Pe)),Ke||(Ke=z(at.target,"touchcancel",Se,Pe)))},oe=at=>{ae>Date.now()||ke(at)&&(!Oe&&Ae&&(Oe=z(ce(Fe),"mousemove",Ae,Pe)),Qe||(Qe=z(ce(Fe),"mouseup",je,Pe)))},Se=at=>{ot(),rt&&rt(at)},je=at=>{ut(),rt&&rt(at)},ot=()=>{Be&&Be(),vt&&vt(),Ke&&Ke(),Be=vt=Ke=void 0},ut=()=>{Oe&&Oe(),Qe&&Qe(),Oe=Qe=void 0},kt=()=>{ot(),ut()},fn=(at=!0)=>{at?(Me||(Me=z(Fe,"touchstart",X,Pe)),Ve||(Ve=z(Fe,"mousedown",oe,Pe))):(Me&&Me(),Ve&&Ve(),Me=Ve=void 0,kt())};return{enable:fn,stop:kt,destroy:()=>{fn(!1),rt=Ae=ke=void 0}}})(Me.el,Ie=>{const Lt=Re(Ie);return!(Ae||!rt||(ue(Ie,Se),Se.startX=Se.currentX,Se.startY=Se.currentY,Se.startTime=Se.currentTime=Lt,Se.velocityX=Se.velocityY=Se.deltaX=Se.deltaY=0,Se.event=Ie,Be&&!1===Be(Se))||(ot.release(),!ot.start()))&&(Ae=!0,0===ae?jn():(je.start(Se.startX,Se.startY),!0))},Ie=>{ke?!Pe&&rt&&(Pe=!0,ge(Se,Ie),requestAnimationFrame(fn)):(ge(Se,Ie),je.detect(Se.currentX,Se.currentY)&&(!je.isGesture()||!jn())&&nt())},we,{capture:!1,passive:X}),nt=()=>{fe(),Ne.stop(),Oe&&Oe(Se)};return{enable(Ie=!0){Ie||(ke&&we(void 0),fe()),Ne.enable(Ie)},destroy(){ot.destroy(),Ne.destroy()}}},ge=(Fe,ke)=>{if(!ke)return;const Ae=Fe.currentX,rt=Fe.currentY,Pe=Fe.currentTime;ue(ke,Fe);const Me=Fe.currentX,Be=Fe.currentY,Ke=(Fe.currentTime=Re(ke))-Pe;if(Ke>0&&Ke<100){const Oe=(Be-rt)/Ke;Fe.velocityX=(Me-Ae)/Ke*.7+.3*Fe.velocityX,Fe.velocityY=.7*Oe+.3*Fe.velocityY}Fe.deltaX=Me-Fe.startX,Fe.deltaY=Be-Fe.startY,Fe.event=ke},ue=(Fe,ke)=>{let Ae=0,rt=0;if(Fe){const Pe=Fe.changedTouches;if(Pe&&Pe.length>0){const Me=Pe[0];Ae=Me.clientX,rt=Me.clientY}else void 0!==Fe.pageX&&(Ae=Fe.pageX,rt=Fe.pageY)}ke.currentX=Ae,ke.currentY=rt},Re=Fe=>Fe.timeStamp||Date.now()},6256:(on,it,k)=>{"use strict";k.d(it,{b:()=>pe,c:()=>ce,d:()=>We,e:()=>ae,g:()=>Se,l:()=>Oe,s:()=>X,t:()=>ue,w:()=>Qe});var u=k(1528),z=k(2992),K=k(6384);const pe="ionViewWillLeave",ce="ionViewDidLeave",We="ionViewWillUnload",ue=je=>new Promise((ot,ut)=>{(0,z.w)(()=>{Re(je),Fe(je).then(kt=>{kt.animation&&kt.animation.destroy(),ke(je),ot(kt)},kt=>{ke(je),ut(kt)})})}),Re=je=>{const ot=je.enteringEl,ut=je.leavingEl;oe(ot,ut,je.direction),je.showGoBack?ot.classList.add("can-go-back"):ot.classList.remove("can-go-back"),X(ot,!1),ot.style.setProperty("pointer-events","none"),ut&&(X(ut,!1),ut.style.setProperty("pointer-events","none"))},Fe=function(){var je=(0,u.c)(function*(ot){const ut=yield Ae(ot);return ut&&z.B.isBrowser?rt(ut,ot):Pe(ot)});return function(ut){return je.apply(this,arguments)}}(),ke=je=>{const ot=je.enteringEl,ut=je.leavingEl;ot.classList.remove("ion-page-invisible"),ot.style.removeProperty("pointer-events"),void 0!==ut&&(ut.classList.remove("ion-page-invisible"),ut.style.removeProperty("pointer-events"))},Ae=function(){var je=(0,u.c)(function*(ot){return ot.leavingEl&&ot.animated&&0!==ot.duration?ot.animationBuilder?ot.animationBuilder:"ios"===ot.mode?(yield Promise.resolve().then(k.bind(k,8512))).iosTransitionAnimation:(yield Promise.resolve().then(k.bind(k,6556))).mdTransitionAnimation:void 0});return function(ut){return je.apply(this,arguments)}}(),rt=function(){var je=(0,u.c)(function*(ot,ut){yield Me(ut,!0);const kt=ot(ut.baseEl,ut);Ke(ut.enteringEl,ut.leavingEl);const fn=yield vt(kt,ut);return ut.progressCallback&&ut.progressCallback(void 0),fn&&Ve(ut.enteringEl,ut.leavingEl),{hasCompleted:fn,animation:kt}});return function(ut,kt){return je.apply(this,arguments)}}(),Pe=function(){var je=(0,u.c)(function*(ot){const ut=ot.enteringEl,kt=ot.leavingEl;return yield Me(ot,!1),Ke(ut,kt),Ve(ut,kt),{hasCompleted:!0}});return function(ut){return je.apply(this,arguments)}}(),Me=function(){var je=(0,u.c)(function*(ot,ut){(void 0!==ot.deepWait?ot.deepWait:ut)&&(yield Promise.all([ae(ot.enteringEl),ae(ot.leavingEl)])),yield Be(ot.viewIsReady,ot.enteringEl)});return function(ut,kt){return je.apply(this,arguments)}}(),Be=function(){var je=(0,u.c)(function*(ot,ut){ot&&(yield ot(ut))});return function(ut,kt){return je.apply(this,arguments)}}(),vt=(je,ot)=>{const ut=ot.progressCallback,kt=new Promise(fn=>{je.onFinish(jn=>fn(1===jn))});return ut?(je.progressStart(!0),ut(je)):je.play(),kt},Ke=(je,ot)=>{Oe(ot,pe),Oe(je,"ionViewWillEnter")},Ve=(je,ot)=>{Oe(je,"ionViewDidEnter"),Oe(ot,ce)},Oe=(je,ot)=>{if(je){const ut=new CustomEvent(ot,{bubbles:!1,cancelable:!1});je.dispatchEvent(ut)}},Qe=()=>new Promise(je=>(0,K.r)(()=>(0,K.r)(()=>je()))),ae=function(){var je=(0,u.c)(function*(ot){const ut=ot;if(ut){if(null!=ut.componentOnReady){if(null!=(yield ut.componentOnReady()))return}else if(null!=ut.__registerHost)return void(yield new Promise(fn=>(0,K.r)(fn)));yield Promise.all(Array.from(ut.children).map(ae))}});return function(ut){return je.apply(this,arguments)}}(),X=(je,ot)=>{ot?(je.setAttribute("aria-hidden","true"),je.classList.add("ion-page-hidden")):(je.hidden=!1,je.removeAttribute("aria-hidden"),je.classList.remove("ion-page-hidden"))},oe=(je,ot,ut)=>{void 0!==je&&(je.style.zIndex="back"===ut?"99":"101"),void 0!==ot&&(ot.style.zIndex="100")},Se=je=>je.classList.contains("ion-page")?je:je.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||je},2992:(on,it,k)=>{"use strict";k.d(it,{B:()=>Re,H:()=>jn,a:()=>Dr,b:()=>rr,c:()=>tn,d:()=>kn,e:()=>ui,f:()=>_n,g:()=>Zt,h:()=>kt,i:()=>se,j:()=>Fe,r:()=>zn,w:()=>pt});var u=k(1528);let le,be,pe,ce=!1,We=!1,ze=!1,ge=!1,ue=!1;const Re={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Fe=j=>{const J=new URL(j,lr.$resourcesUrl$);return J.origin!==Ai.location.origin?J.href:J.pathname},vt="s-id",Ke="sty-id",Qe="slot-fb{display:contents}slot-fb[hidden]{display:none}",ae="http://www.w3.org/1999/xlink",X={},ot=j=>"object"==(j=typeof j)||"function"===j;function ut(j){var J,Ue,He;return null!==(He=null===(Ue=null===(J=j.head)||void 0===J?void 0:J.querySelector('meta[name="csp-nonce"]'))||void 0===Ue?void 0:Ue.getAttribute("content"))&&void 0!==He?He:void 0}const kt=(j,J,...Ue)=>{let He=null,dt=null,Ct=null,Ot=!1,Qt=!1;const $t=[],wt=rn=>{for(let pn=0;pn<rn.length;pn++)He=rn[pn],Array.isArray(He)?wt(He):null!=He&&"boolean"!=typeof He&&((Ot="function"!=typeof j&&!ot(He))&&(He=String(He)),Ot&&Qt?$t[$t.length-1].$text$+=He:$t.push(Ot?fn(null,He):He),Qt=Ot)};if(wt(Ue),J){J.key&&(dt=J.key),J.name&&(Ct=J.name);{const rn=J.className||J.class;rn&&(J.class="object"!=typeof rn?rn:Object.keys(rn).filter(pn=>rn[pn]).join(" "))}}if("function"==typeof j)return j(null===J?{}:J,$t,De);const Ht=fn(j,null);return Ht.$attrs$=J,$t.length>0&&(Ht.$children$=$t),Ht.$key$=dt,Ht.$name$=Ct,Ht},fn=(j,J)=>({$flags$:0,$tag$:j,$text$:J,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),jn={},De={forEach:(j,J)=>j.map(fe).forEach(J),map:(j,J)=>j.map(fe).map(J).map(we)},fe=j=>({vattrs:j.$attrs$,vchildren:j.$children$,vkey:j.$key$,vname:j.$name$,vtag:j.$tag$,vtext:j.$text$}),we=j=>{if("function"==typeof j.vtag){const Ue=Object.assign({},j.vattrs);return j.vkey&&(Ue.key=j.vkey),j.vname&&(Ue.name=j.vname),kt(j.vtag,Ue,...j.vchildren||[])}const J=fn(j.vtag,j.vtext);return J.$attrs$=j.vattrs,J.$children$=j.vchildren,J.$key$=j.vkey,J.$name$=j.vname,J},nt=(j,J,Ue,He,dt,Ct,Ot)=>{let Qt,$t,wt,Ht;if(1===Ct.nodeType){for(Qt=Ct.getAttribute("c-id"),Qt&&($t=Qt.split("."),($t[0]===Ot||"0"===$t[0])&&(wt={$flags$:0,$hostId$:$t[0],$nodeId$:$t[1],$depth$:$t[2],$index$:$t[3],$tag$:Ct.tagName.toLowerCase(),$elm$:Ct,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},J.push(wt),Ct.removeAttribute("c-id"),j.$children$||(j.$children$=[]),j.$children$[wt.$index$]=wt,j=wt,He&&"0"===wt.$depth$&&(He[wt.$index$]=wt.$elm$))),Ht=Ct.childNodes.length-1;Ht>=0;Ht--)nt(j,J,Ue,He,dt,Ct.childNodes[Ht],Ot);if(Ct.shadowRoot)for(Ht=Ct.shadowRoot.childNodes.length-1;Ht>=0;Ht--)nt(j,J,Ue,He,dt,Ct.shadowRoot.childNodes[Ht],Ot)}else if(8===Ct.nodeType)$t=Ct.nodeValue.split("."),($t[1]===Ot||"0"===$t[1])&&(Qt=$t[0],wt={$flags$:0,$hostId$:$t[1],$nodeId$:$t[2],$depth$:$t[3],$index$:$t[4],$elm$:Ct,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Qt?(wt.$elm$=Ct.nextSibling,wt.$elm$&&3===wt.$elm$.nodeType&&(wt.$text$=wt.$elm$.textContent,J.push(wt),Ct.remove(),j.$children$||(j.$children$=[]),j.$children$[wt.$index$]=wt,He&&"0"===wt.$depth$&&(He[wt.$index$]=wt.$elm$))):wt.$hostId$===Ot&&("s"===Qt?(wt.$tag$="slot",Ct["s-sn"]=$t[5]?wt.$name$=$t[5]:"",Ct["s-sr"]=!0,He&&(wt.$elm$=Nr.createElement(wt.$tag$),wt.$name$&&wt.$elm$.setAttribute("name",wt.$name$),Ct.parentNode.insertBefore(wt.$elm$,Ct),Ct.remove(),"0"===wt.$depth$&&(He[wt.$index$]=wt.$elm$)),Ue.push(wt),j.$children$||(j.$children$=[]),j.$children$[wt.$index$]=wt):"r"===Qt&&(He?Ct.remove():(dt["s-cr"]=Ct,Ct["s-cn"]=!0))));else if(j&&"style"===j.$tag$){const rn=fn(null,Ct.textContent);rn.$elm$=Ct,rn.$index$="0",j.$children$=[rn]}},Ie=(j,J)=>{if(1===j.nodeType){let Ue=0;for(;Ue<j.childNodes.length;Ue++)Ie(j.childNodes[Ue],J);if(j.shadowRoot)for(Ue=0;Ue<j.shadowRoot.childNodes.length;Ue++)Ie(j.shadowRoot.childNodes[Ue],J)}else if(8===j.nodeType){const Ue=j.nodeValue.split(".");"o"===Ue[0]&&(J.set(Ue[1]+"."+Ue[2],j),j.nodeValue="",j["s-en"]=Ue[3])}},tn=j=>Oi.push(j),Zt=j=>xn(j).$modeName$,_n=j=>xn(j).$hostElement$,kn=(j,J,Ue)=>{const He=_n(j);return{emit:dt=>Hn(He,J,{bubbles:!!(4&Ue),composed:!!(2&Ue),cancelable:!!(1&Ue),detail:dt})}},Hn=(j,J,Ue)=>{const He=lr.ce(J,Ue);return j.dispatchEvent(He),He},Le=new WeakMap,_t=(j,J,Ue)=>{let He=Mr.get(j);he&&Ue?(He=He||new CSSStyleSheet,"string"==typeof He?He=J:He.replaceSync(J)):He=J,Mr.set(j,He)},yt=(j,J,Ue)=>{var He;const dt=qt(J,Ue),Ct=Mr.get(dt);if(j=11===j.nodeType?j:Nr,Ct)if("string"==typeof Ct){let Qt,Ot=Le.get(j=j.head||j);if(Ot||Le.set(j,Ot=new Set),!Ot.has(dt)){if(j.host&&(Qt=j.querySelector(`[${Ke}="${dt}"]`)))Qt.innerHTML=Ct;else{Qt=Nr.createElement("style"),Qt.innerHTML=Ct;const $t=null!==(He=lr.$nonce$)&&void 0!==He?He:ut(Nr);null!=$t&&Qt.setAttribute("nonce",$t),j.insertBefore(Qt,j.querySelector("link"))}4&J.$flags$&&(Qt.innerHTML+=Qe),Ot&&Ot.add(dt)}}else j.adoptedStyleSheets.includes(Ct)||(j.adoptedStyleSheets=[...j.adoptedStyleSheets,Ct]);return dt},qt=(j,J)=>"sc-"+(J&&32&j.$flags$?j.$tagName$+"-"+J:j.$tagName$),Vt=j=>j.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),an=(j,J,Ue,He,dt,Ct)=>{if(Ue!==He){let Ot=ir(j,J),Qt=J.toLowerCase();if("class"===J){const $t=j.classList,wt=Fn(Ue),Ht=Fn(He);$t.remove(...wt.filter(rn=>rn&&!Ht.includes(rn))),$t.add(...Ht.filter(rn=>rn&&!wt.includes(rn)))}else if("style"===J){for(const $t in Ue)(!He||null==He[$t])&&($t.includes("-")?j.style.removeProperty($t):j.style[$t]="");for(const $t in He)(!Ue||He[$t]!==Ue[$t])&&($t.includes("-")?j.style.setProperty($t,He[$t]):j.style[$t]=He[$t])}else if("key"!==J)if("ref"===J)He&&He(j);else if(Ot||"o"!==J[0]||"n"!==J[1]){const $t=ot(He);if((Ot||$t&&null!==He)&&!dt)try{if(j.tagName.includes("-"))j[J]=He;else{const Ht=null==He?"":He;"list"===J?Ot=!1:(null==Ue||j[J]!=Ht)&&(j[J]=Ht)}}catch{}let wt=!1;Qt!==(Qt=Qt.replace(/^xlink\:?/,""))&&(J=Qt,wt=!0),null==He||!1===He?(!1!==He||""===j.getAttribute(J))&&(wt?j.removeAttributeNS(ae,J):j.removeAttribute(J)):(!Ot||4&Ct||dt)&&!$t&&(He=!0===He?"":He,wt?j.setAttributeNS(ae,J,He):j.setAttribute(J,He))}else if(J="-"===J[2]?J.slice(3):ir(Ai,Qt)?Qt.slice(2):Qt[2]+J.slice(3),Ue||He){const $t=J.endsWith(cn);J=J.replace(or,""),Ue&&lr.rel(j,J,Ue,$t),He&&lr.ael(j,J,He,$t)}}},Mt=/\s/,Fn=j=>j?j.split(Mt):[],cn="Capture",or=new RegExp(cn+"$"),ar=(j,J,Ue,He)=>{const dt=11===J.$elm$.nodeType&&J.$elm$.host?J.$elm$.host:J.$elm$,Ct=j&&j.$attrs$||X,Ot=J.$attrs$||X;for(He in Ct)He in Ot||an(dt,He,Ct[He],void 0,Ue,J.$flags$);for(He in Ot)an(dt,He,Ct[He],Ot[He],Ue,J.$flags$)},Nn=(j,J,Ue,He)=>{const dt=J.$children$[Ue];let Ot,Qt,$t,Ct=0;if(ce||(ze=!0,"slot"===dt.$tag$&&(le&&He.classList.add(le+"-s"),dt.$flags$|=dt.$children$?2:1)),null!==dt.$text$)Ot=dt.$elm$=Nr.createTextNode(dt.$text$);else if(1&dt.$flags$)Ot=dt.$elm$=Nr.createTextNode("");else{if(ge||(ge="svg"===dt.$tag$),Ot=dt.$elm$=Nr.createElementNS(ge?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&dt.$flags$?"slot-fb":dt.$tag$),ge&&"foreignObject"===dt.$tag$&&(ge=!1),ar(null,dt,ge),(j=>null!=j)(le)&&Ot["s-si"]!==le&&Ot.classList.add(Ot["s-si"]=le),dt.$children$)for(Ct=0;Ct<dt.$children$.length;++Ct)Qt=Nn(j,dt,Ct,Ot),Qt&&Ot.appendChild(Qt);"svg"===dt.$tag$?ge=!1:"foreignObject"===Ot.tagName&&(ge=!0)}return Ot["s-hn"]=pe,3&dt.$flags$&&(Ot["s-sr"]=!0,Ot["s-cr"]=be,Ot["s-sn"]=dt.$name$||"",$t=j&&j.$children$&&j.$children$[Ue],$t&&$t.$tag$===dt.$tag$&&j.$elm$&&Vn(j.$elm$,!1)),Ot},Vn=(j,J)=>{lr.$flags$|=1;const Ue=j.childNodes;for(let He=Ue.length-1;He>=0;He--){const dt=Ue[He];dt["s-hn"]!==pe&&dt["s-ol"]&&(Dn(dt).insertBefore(dt,kr(dt)),dt["s-ol"].remove(),dt["s-ol"]=void 0,dt["s-sh"]=void 0,ze=!0),J&&Vn(dt,J)}lr.$flags$&=-2},mr=(j,J,Ue,He,dt,Ct)=>{let Qt,Ot=j["s-cr"]&&j["s-cr"].parentNode||j;for(Ot.shadowRoot&&Ot.tagName===pe&&(Ot=Ot.shadowRoot);dt<=Ct;++dt)He[dt]&&(Qt=Nn(null,Ue,dt,j),Qt&&(He[dt].$elm$=Qt,Ot.insertBefore(Qt,kr(J))))},fi=(j,J,Ue)=>{for(let He=J;He<=Ue;++He){const dt=j[He];if(dt){const Ct=dt.$elm$;Sr(dt),Ct&&(We=!0,Ct["s-ol"]?Ct["s-ol"].remove():Vn(Ct,!0),Ct.remove())}}},On=(j,J,Ue=!1)=>j.$tag$===J.$tag$&&("slot"===j.$tag$?j.$name$===J.$name$:!!Ue||j.$key$===J.$key$),kr=j=>j&&j["s-ol"]||j,Dn=j=>(j["s-ol"]?j["s-ol"]:j).parentNode,Tn=(j,J,Ue=!1)=>{const He=J.$elm$=j.$elm$,dt=j.$children$,Ct=J.$children$,Ot=J.$tag$,Qt=J.$text$;let $t;null===Qt?(ge="svg"===Ot||"foreignObject"!==Ot&&ge,"slot"===Ot&&!ce||ar(j,J,ge),null!==dt&&null!==Ct?((j,J,Ue,He,dt=!1)=>{let qr,T,Ct=0,Ot=0,Qt=0,$t=0,wt=J.length-1,Ht=J[0],rn=J[wt],pn=He.length-1,qn=He[0],Pr=He[pn];for(;Ct<=wt&&Ot<=pn;)if(null==Ht)Ht=J[++Ct];else if(null==rn)rn=J[--wt];else if(null==qn)qn=He[++Ot];else if(null==Pr)Pr=He[--pn];else if(On(Ht,qn,dt))Tn(Ht,qn,dt),Ht=J[++Ct],qn=He[++Ot];else if(On(rn,Pr,dt))Tn(rn,Pr,dt),rn=J[--wt],Pr=He[--pn];else if(On(Ht,Pr,dt))("slot"===Ht.$tag$||"slot"===Pr.$tag$)&&Vn(Ht.$elm$.parentNode,!1),Tn(Ht,Pr,dt),j.insertBefore(Ht.$elm$,rn.$elm$.nextSibling),Ht=J[++Ct],Pr=He[--pn];else if(On(rn,qn,dt))("slot"===Ht.$tag$||"slot"===Pr.$tag$)&&Vn(rn.$elm$.parentNode,!1),Tn(rn,qn,dt),j.insertBefore(rn.$elm$,Ht.$elm$),rn=J[--wt],qn=He[++Ot];else{for(Qt=-1,$t=Ct;$t<=wt;++$t)if(J[$t]&&null!==J[$t].$key$&&J[$t].$key$===qn.$key$){Qt=$t;break}Qt>=0?(T=J[Qt],T.$tag$!==qn.$tag$?qr=Nn(J&&J[Ot],Ue,Qt,j):(Tn(T,qn,dt),J[Qt]=void 0,qr=T.$elm$),qn=He[++Ot]):(qr=Nn(J&&J[Ot],Ue,Ot,j),qn=He[++Ot]),qr&&Dn(Ht.$elm$).insertBefore(qr,kr(Ht.$elm$))}Ct>wt?mr(j,null==He[pn+1]?null:He[pn+1].$elm$,Ue,He,Ot,pn):Ot>pn&&fi(J,Ct,wt)})(He,dt,J,Ct,Ue):null!==Ct?(null!==j.$text$&&(He.textContent=""),mr(He,null,J,Ct,0,Ct.length-1)):null!==dt&&fi(dt,0,dt.length-1),ge&&"svg"===Ot&&(ge=!1)):($t=He["s-cr"])?$t.parentNode.textContent=Qt:j.$text$!==Qt&&(He.data=Qt)},Br=j=>{const J=j.childNodes;for(const Ue of J)if(1===Ue.nodeType){if(Ue["s-sr"]){const He=Ue["s-sn"];Ue.hidden=!1;for(const dt of J)if(dt!==Ue)if(dt["s-hn"]!==Ue["s-hn"]||""!==He){if(1===dt.nodeType&&(He===dt.getAttribute("slot")||He===dt["s-sn"])){Ue.hidden=!0;break}}else if(1===dt.nodeType||3===dt.nodeType&&""!==dt.textContent.trim()){Ue.hidden=!0;break}}Br(Ue)}},Ln=[],$r=j=>{let J,Ue,He;for(const dt of j.childNodes){if(dt["s-sr"]&&(J=dt["s-cr"])&&J.parentNode){Ue=J.parentNode.childNodes;const Ct=dt["s-sn"];for(He=Ue.length-1;He>=0;He--)if(J=Ue[He],!J["s-cn"]&&!J["s-nr"]&&J["s-hn"]!==dt["s-hn"])if(zr(J,Ct)){let Ot=Ln.find(Qt=>Qt.$nodeToRelocate$===J);We=!0,J["s-sn"]=J["s-sn"]||Ct,Ot?(Ot.$nodeToRelocate$["s-sh"]=dt["s-hn"],Ot.$slotRefNode$=dt):(J["s-sh"]=dt["s-hn"],Ln.push({$slotRefNode$:dt,$nodeToRelocate$:J})),J["s-sr"]&&Ln.map(Qt=>{zr(Qt.$nodeToRelocate$,J["s-sn"])&&(Ot=Ln.find($t=>$t.$nodeToRelocate$===J),Ot&&!Qt.$slotRefNode$&&(Qt.$slotRefNode$=Ot.$slotRefNode$))})}else Ln.some(Ot=>Ot.$nodeToRelocate$===J)||Ln.push({$nodeToRelocate$:J})}1===dt.nodeType&&$r(dt)}},zr=(j,J)=>1===j.nodeType?null===j.getAttribute("slot")&&""===J||j.getAttribute("slot")===J:j["s-sn"]===J||""===J,Sr=j=>{j.$attrs$&&j.$attrs$.ref&&j.$attrs$.ref(null),j.$children$&&j.$children$.map(Sr)},Ar=(j,J)=>{J&&!j.$onRenderResolve$&&J["s-p"]&&J["s-p"].push(new Promise(Ue=>j.$onRenderResolve$=Ue))},oi=(j,J)=>{if(j.$flags$|=16,!(4&j.$flags$))return Ar(j,j.$ancestorComponent$),pt(()=>ti(j,J));j.$flags$|=512},ti=(j,J)=>{const He=j.$lazyInstance$;let dt;return J&&(j.$flags$|=256,j.$queuedListeners$&&(j.$queuedListeners$.map(([Ct,Ot])=>$e(He,Ct,Ot)),j.$queuedListeners$=void 0),dt=$e(He,"componentWillLoad")),dt=It(dt,()=>$e(He,"componentWillRender")),It(dt,()=>Dt(j,He,J))},It=(j,J)=>et(j)?j.then(J):J(),et=j=>j instanceof Promise||j&&j.then&&"function"==typeof j.then,Dt=function(){var j=(0,u.c)(function*(J,Ue,He){var dt;const Ct=J.$hostElement$,Qt=Ct["s-rc"];He&&(j=>{const J=j.$cmpMeta$,Ue=j.$hostElement$,He=J.$flags$,Ct=yt(Ue.shadowRoot?Ue.shadowRoot:Ue.getRootNode(),J,j.$modeName$);10&He&&(Ue["s-sc"]=Ct,Ue.classList.add(Ct+"-h"),2&He&&Ue.classList.add(Ct+"-s"))})(J);Xe(J,Ue,Ct,He),Qt&&(Qt.map(wt=>wt()),Ct["s-rc"]=void 0);{const wt=null!==(dt=Ct["s-p"])&&void 0!==dt?dt:[],Ht=()=>te(J);0===wt.length?Ht():(Promise.all(wt).then(Ht),J.$flags$|=4,wt.length=0)}});return function(Ue,He,dt){return j.apply(this,arguments)}}(),Xe=(j,J,Ue,He)=>{try{J=J.render&&J.render(),j.$flags$&=-17,j.$flags$|=2,((j,J,Ue=!1)=>{var He,dt,Ct,Ot;const Qt=j.$hostElement$,$t=j.$cmpMeta$,wt=j.$vnode$||fn(null,null),Ht=(j=>j&&j.$tag$===jn)(J)?J:kt(null,null,J);if(pe=Qt.tagName,$t.$attrsToReflect$&&(Ht.$attrs$=Ht.$attrs$||{},$t.$attrsToReflect$.map(([rn,pn])=>Ht.$attrs$[pn]=Qt[rn])),Ue&&Ht.$attrs$)for(const rn of Object.keys(Ht.$attrs$))Qt.hasAttribute(rn)&&!["key","ref","style","class"].includes(rn)&&(Ht.$attrs$[rn]=Qt[rn]);if(Ht.$tag$=null,Ht.$flags$|=4,j.$vnode$=Ht,Ht.$elm$=wt.$elm$=Qt.shadowRoot||Qt,le=Qt["s-sc"],ce=0!=(1&$t.$flags$),be=Qt["s-cr"],We=!1,Tn(wt,Ht,Ue),lr.$flags$|=1,ze){$r(Ht.$elm$);for(const rn of Ln){const pn=rn.$nodeToRelocate$;if(!pn["s-ol"]){const qn=Nr.createTextNode("");qn["s-nr"]=pn,pn.parentNode.insertBefore(pn["s-ol"]=qn,pn)}}for(const rn of Ln){const pn=rn.$nodeToRelocate$,qn=rn.$slotRefNode$;if(qn){const Pr=qn.parentNode;let qr=qn.nextSibling;{let T=null===(He=pn["s-ol"])||void 0===He?void 0:He.previousSibling;for(;T;){let re=null!==(dt=T["s-nr"])&&void 0!==dt?dt:null;if(re&&re["s-sn"]===pn["s-sn"]&&Pr===re.parentNode&&(re=re.nextSibling,!re||!re["s-nr"])){qr=re;break}T=T.previousSibling}}(!qr&&Pr!==pn.parentNode||pn.nextSibling!==qr)&&pn!==qr&&(!pn["s-hn"]&&pn["s-ol"]&&(pn["s-hn"]=pn["s-ol"].parentNode.nodeName),Pr.insertBefore(pn,qr),1===pn.nodeType&&(pn.hidden=null!==(Ct=pn["s-ih"])&&void 0!==Ct&&Ct))}else 1===pn.nodeType&&(Ue&&(pn["s-ih"]=null!==(Ot=pn.hidden)&&void 0!==Ot&&Ot),pn.hidden=!0)}}We&&Br(Ht.$elm$),lr.$flags$&=-2,Ln.length=0,be=void 0})(j,J,He)}catch(dt){cr(dt,j.$hostElement$)}return null},te=j=>{const Ue=j.$hostElement$,dt=j.$lazyInstance$,Ct=j.$ancestorComponent$;$e(dt,"componentDidRender"),64&j.$flags$?$e(dt,"componentDidUpdate"):(j.$flags$|=64,Je(Ue),$e(dt,"componentDidLoad"),j.$onReadyResolve$(Ue),Ct||Ce()),j.$onInstanceResolve$(Ue),j.$onRenderResolve$&&(j.$onRenderResolve$(),j.$onRenderResolve$=void 0),512&j.$flags$&&Un(()=>oi(j,!1)),j.$flags$&=-517},se=j=>{{const J=xn(j),Ue=J.$hostElement$.isConnected;return Ue&&2==(18&J.$flags$)&&oi(J,!1),Ue}},Ce=j=>{Je(Nr.documentElement),Un(()=>Hn(Ai,"appload",{detail:{namespace:"ionic"}}))},$e=(j,J,Ue)=>{if(j&&j[J])try{return j[J](Ue)}catch(He){cr(He)}},Je=j=>j.classList.add("hydrated"),Pn=(j,J,Ue)=>{var He;const dt=j.prototype;if(J.$members$){j.watchers&&(J.$watchers$=j.watchers);const Ct=Object.entries(J.$members$);if(Ct.map(([Ot,[Qt]])=>{31&Qt||2&Ue&&32&Qt?Object.defineProperty(dt,Ot,{get(){return((j,J)=>xn(this).$instanceValues$.get(J))(0,Ot)},set($t){((j,J,Ue,He)=>{const dt=xn(j),Ct=dt.$hostElement$,Ot=dt.$instanceValues$.get(J),Qt=dt.$flags$,$t=dt.$lazyInstance$;Ue=((j,J)=>null==j||ot(j)?j:4&J?"false"!==j&&(""===j||!!j):2&J?parseFloat(j):1&J?String(j):j)(Ue,He.$members$[J][0]);const wt=Number.isNaN(Ot)&&Number.isNaN(Ue);if((!(8&Qt)||void 0===Ot)&&Ue!==Ot&&!wt&&(dt.$instanceValues$.set(J,Ue),$t)){if(He.$watchers$&&128&Qt){const rn=He.$watchers$[J];rn&&rn.map(pn=>{try{$t[pn](Ue,Ot,J)}catch(qn){cr(qn,Ct)}})}2==(18&Qt)&&oi(dt,!1)}})(this,Ot,$t,J)},configurable:!0,enumerable:!0}):1&Ue&&64&Qt&&Object.defineProperty(dt,Ot,{value(...$t){var wt;const Ht=xn(this);return null===(wt=null==Ht?void 0:Ht.$onInstancePromise$)||void 0===wt?void 0:wt.then(()=>{var rn;return null===(rn=Ht.$lazyInstance$)||void 0===rn?void 0:rn[Ot](...$t)})}})}),1&Ue){const Ot=new Map;dt.attributeChangedCallback=function(Qt,$t,wt){lr.jmp(()=>{var Ht;const rn=Ot.get(Qt);if(this.hasOwnProperty(rn))wt=this[rn],delete this[rn];else{if(dt.hasOwnProperty(rn)&&"number"==typeof this[rn]&&this[rn]==wt)return;if(null==rn){const pn=xn(this),qn=null==pn?void 0:pn.$flags$;if(qn&&!(8&qn)&&128&qn&&wt!==$t){const Pr=pn.$lazyInstance$,qr=null===(Ht=J.$watchers$)||void 0===Ht?void 0:Ht[Qt];null==qr||qr.forEach(T=>{null!=Pr[T]&&Pr[T].call(Pr,wt,$t,Qt)})}return}}this[rn]=(null!==wt||"boolean"!=typeof this[rn])&&wt})},j.observedAttributes=Array.from(new Set([...Object.keys(null!==(He=J.$watchers$)&&void 0!==He?He:{}),...Ct.filter(([Qt,$t])=>15&$t[0]).map(([Qt,$t])=>{var wt;const Ht=$t[1]||Qt;return Ot.set(Ht,Qt),512&$t[0]&&(null===(wt=J.$attrsToReflect$)||void 0===wt||wt.push([Qt,Ht])),Ht})]))}}return j},_r=function(){var j=(0,u.c)(function*(J,Ue,He,dt){let Ct;if(!(32&Ue.$flags$)){Ue.$flags$|=32;{if(Ct=Vi(He),Ct.then){const wt=()=>{};Ct=yield Ct,wt()}Ct.isProxied||(He.$watchers$=Ct.watchers,Pn(Ct,He,2),Ct.isProxied=!0);const $t=()=>{};Ue.$flags$|=8;try{new Ct(Ue)}catch(wt){cr(wt)}Ue.$flags$&=-9,Ue.$flags$|=128,$t(),nr(Ue.$lazyInstance$)}if(Ct.style){let $t=Ct.style;"string"!=typeof $t&&($t=$t[Ue.$modeName$=(j=>Oi.map(J=>J(j)).find(J=>!!J))(J)]);const wt=qt(He,Ue.$modeName$);if(!Mr.has(wt)){const Ht=()=>{};_t(wt,$t,!!(1&He.$flags$)),Ht()}}}const Ot=Ue.$ancestorComponent$,Qt=()=>oi(Ue,!0);Ot&&Ot["s-rc"]?Ot["s-rc"].push(Qt):Qt()});return function(Ue,He,dt,Ct){return j.apply(this,arguments)}}(),nr=j=>{$e(j,"connectedCallback")},wn=j=>{const J=j["s-cr"]=Nr.createComment("");J["s-cn"]=!0,j.insertBefore(J,j.firstChild)},Gr=j=>{$e(j,"disconnectedCallback")},ji=function(){var j=(0,u.c)(function*(J){if(!(1&lr.$flags$)){const Ue=xn(J);Ue.$rmListeners$&&(Ue.$rmListeners$.map(He=>He()),Ue.$rmListeners$=void 0),null!=Ue&&Ue.$lazyInstance$?Gr(Ue.$lazyInstance$):null!=Ue&&Ue.$onReadyPromise$&&Ue.$onReadyPromise$.then(()=>Gr(Ue.$lazyInstance$))}});return function(Ue){return j.apply(this,arguments)}}(),rr=(j,J={})=>{var Ue;const dt=[],Ct=J.exclude||[],Ot=Ai.customElements,Qt=Nr.head,$t=Qt.querySelector("meta[charset]"),wt=Nr.createElement("style"),Ht=[],rn=Nr.querySelectorAll(`[${Ke}]`);let pn,qn=!0,Pr=0;for(Object.assign(lr,J),lr.$resourcesUrl$=new URL(J.resourcesUrl||"./",Nr.baseURI).href,lr.$flags$|=2;Pr<rn.length;Pr++)_t(rn[Pr].getAttribute(Ke),Vt(rn[Pr].innerHTML),!0);let qr=!1;if(j.map(T=>{T[1].map(re=>{var x;const ne={$flags$:re[0],$tagName$:re[1],$members$:re[2],$listeners$:re[3]};4&ne.$flags$&&(qr=!0),ne.$members$=re[2],ne.$listeners$=re[3],ne.$attrsToReflect$=[],ne.$watchers$=null!==(x=re[4])&&void 0!==x?x:{};const Ee=ne.$tagName$,Yt=class extends HTMLElement{constructor(dr){super(dr),Cr(dr=this,ne),1&ne.$flags$&&dr.attachShadow({mode:"open",delegatesFocus:!!(16&ne.$flags$)})}connectedCallback(){pn&&(clearTimeout(pn),pn=null),qn?Ht.push(this):lr.jmp(()=>(j=>{if(!(1&lr.$flags$)){const J=xn(j),Ue=J.$cmpMeta$,He=()=>{};if(1&J.$flags$)Zn(j,J,Ue.$listeners$),null!=J&&J.$lazyInstance$?nr(J.$lazyInstance$):null!=J&&J.$onReadyPromise$&&J.$onReadyPromise$.then(()=>nr(J.$lazyInstance$));else{let dt;if(J.$flags$|=1,dt=j.getAttribute(vt),dt){if(1&Ue.$flags$){const Ct=yt(j.shadowRoot,Ue,j.getAttribute("s-mode"));j.classList.remove(Ct+"-h",Ct+"-s")}((j,J,Ue,He)=>{const Ct=j.shadowRoot,Ot=[],$t=Ct?[]:null,wt=He.$vnode$=fn(J,null);lr.$orgLocNodes$||Ie(Nr.body,lr.$orgLocNodes$=new Map),j[vt]=Ue,j.removeAttribute(vt),nt(wt,Ot,[],$t,j,j,Ue),Ot.map(Ht=>{const rn=Ht.$hostId$+"."+Ht.$nodeId$,pn=lr.$orgLocNodes$.get(rn),qn=Ht.$elm$;pn&&_e&&""===pn["s-en"]&&pn.parentNode.insertBefore(qn,pn.nextSibling),Ct||(qn["s-hn"]=J,pn&&(qn["s-ol"]=pn,qn["s-ol"]["s-nr"]=qn)),lr.$orgLocNodes$.delete(rn)}),Ct&&$t.map(Ht=>{Ht&&Ct.appendChild(Ht)})})(j,Ue.$tagName$,dt,J)}dt||12&Ue.$flags$&&wn(j);{let Ct=j;for(;Ct=Ct.parentNode||Ct.host;)if(1===Ct.nodeType&&Ct.hasAttribute("s-id")&&Ct["s-p"]||Ct["s-p"]){Ar(J,J.$ancestorComponent$=Ct);break}}Ue.$members$&&Object.entries(Ue.$members$).map(([Ct,[Ot]])=>{if(31&Ot&&j.hasOwnProperty(Ct)){const Qt=j[Ct];delete j[Ct],j[Ct]=Qt}}),_r(j,J,Ue)}He()}})(this))}disconnectedCallback(){lr.jmp(()=>ji(this))}componentOnReady(){return xn(this).$onReadyPromise$}};ne.$lazyBundleId$=T[0],!Ct.includes(Ee)&&!Ot.get(Ee)&&(dt.push(Ee),Ot.define(Ee,Pn(Yt,ne,1)))})}),dt.length>0&&(qr&&(wt.innerHTML+=Qe),wt.innerHTML+=dt+"{visibility:hidden}.hydrated{visibility:inherit}",wt.innerHTML.length)){wt.setAttribute("data-styles","");const T=null!==(Ue=lr.$nonce$)&&void 0!==Ue?Ue:ut(Nr);null!=T&&wt.setAttribute("nonce",T),Qt.insertBefore(wt,$t?$t.nextSibling:Qt.firstChild)}qn=!1,Ht.length?Ht.map(T=>T.connectedCallback()):lr.jmp(()=>pn=setTimeout(Ce,30))},Zn=(j,J,Ue,He)=>{Ue&&Ue.map(([dt,Ct,Ot])=>{const Qt=ct(j,dt),$t=ft(J,Ot),wt=Pt(dt);lr.ael(Qt,Ct,$t,wt),(J.$rmListeners$=J.$rmListeners$||[]).push(()=>lr.rel(Qt,Ct,$t,wt))})},ft=(j,J)=>Ue=>{try{256&j.$flags$?j.$lazyInstance$[J](Ue):(j.$queuedListeners$=j.$queuedListeners$||[]).push([J,Ue])}catch(He){cr(He)}},ct=(j,J)=>4&J?Nr:8&J?Ai:16&J?Nr.body:j,Pt=j=>me?{passive:0!=(1&j),capture:0!=(2&j)}:0!=(2&j),bn=new WeakMap,xn=j=>bn.get(j),zn=(j,J)=>bn.set(J.$lazyInstance$=j,J),Cr=(j,J)=>{const Ue={$flags$:0,$hostElement$:j,$cmpMeta$:J,$instanceValues$:new Map};return Ue.$onInstancePromise$=new Promise(He=>Ue.$onInstanceResolve$=He),Ue.$onReadyPromise$=new Promise(He=>Ue.$onReadyResolve$=He),j["s-p"]=[],j["s-rc"]=[],Zn(j,Ue,J.$listeners$),bn.set(j,Ue)},ir=(j,J)=>J in j,cr=(j,J)=>(0,console.error)(j,J),bi=new Map,Vi=(j,J,Ue)=>{const He=j.$tagName$.replace(/-/g,"_"),dt=j.$lazyBundleId$,Ct=bi.get(dt);return Ct?Ct[He]:k(1480)(`./${dt}.entry.js`).then(Ot=>(bi.set(dt,Ot),Ot[He]),cr)},Mr=new Map,Oi=[],Ai=typeof window<"u"?window:{},Nr=Ai.document||{head:{}},lr={$flags$:0,$resourcesUrl$:"",jmp:j=>j(),raf:j=>requestAnimationFrame(j),ael:(j,J,Ue,He)=>j.addEventListener(J,Ue,He),rel:(j,J,Ue,He)=>j.removeEventListener(J,Ue,He),ce:(j,J)=>new CustomEvent(j,J)},Dr=j=>{Object.assign(lr,j)},_e=!0,me=(()=>{let j=!1;try{Nr.addEventListener("e",null,Object.defineProperty({},"passive",{get(){j=!0}}))}catch{}return j})(),he=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),st=[],bt=[],Wt=(j,J)=>Ue=>{j.push(Ue),ue||(ue=!0,J&&4&lr.$flags$?Un(gn):lr.raf(gn))},un=j=>{for(let J=0;J<j.length;J++)try{j[J](performance.now())}catch(Ue){cr(Ue)}j.length=0},gn=()=>{un(st),un(bt),(ue=st.length>0)&&lr.raf(gn)},Un=j=>Promise.resolve(void 0).then(j),ui=Wt(st,!1),pt=Wt(bt,!0)},2032:(on,it,k)=>{"use strict";k.d(it,{a:()=>z,b:()=>K,p:()=>u});const u=(le,...be)=>console.warn(`[Ionic Warning]: ${le}`,...be),z=(le,...be)=>console.error(`[Ionic Error]: ${le}`,...be),K=(le,...be)=>console.error(`<${le.tagName.toLowerCase()}> must be used inside ${be.join(" or ")}.`)},4829:(on,it,k)=>{"use strict";k.d(it,{d:()=>z,w:()=>u});const u=typeof window<"u"?window:void 0,z=typeof document<"u"?document:void 0},3452:(on,it,k)=>{"use strict";k.d(it,{m:()=>Fe});var u=k(1528),z=k(4829),K=k(2784),le=k(2032),be=k(6384),pe=k(8523),ce=k(388);const We=ke=>(0,ce.c)().duration(ke?400:300),ze=ke=>{let Ae,rt;const Pe=ke.width+8,Me=(0,ce.c)(),Be=(0,ce.c)();ke.isEndSide?(Ae=Pe+"px",rt="0px"):(Ae=-Pe+"px",rt="0px"),Me.addElement(ke.menuInnerEl).fromTo("transform",`translateX(${Ae})`,`translateX(${rt})`);const Ke="ios"===(0,pe.b)(ke),Ve=Ke?.2:.25;return Be.addElement(ke.backdropEl).fromTo("opacity",.01,Ve),We(Ke).addAnimation([Me,Be])},ge=ke=>{let Ae,rt;const Pe=(0,pe.b)(ke),Me=ke.width;ke.isEndSide?(Ae=-Me+"px",rt=Me+"px"):(Ae=Me+"px",rt=-Me+"px");const Be=(0,ce.c)().addElement(ke.menuInnerEl).fromTo("transform",`translateX(${rt})`,"translateX(0px)"),vt=(0,ce.c)().addElement(ke.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ae})`),Ke=(0,ce.c)().addElement(ke.backdropEl).fromTo("opacity",.01,.32);return We("ios"===Pe).addAnimation([Be,vt,Ke])},ue=ke=>{const Ae=(0,pe.b)(ke),rt=ke.width*(ke.isEndSide?-1:1)+"px",Pe=(0,ce.c)().addElement(ke.contentEl).fromTo("transform","translateX(0px)",`translateX(${rt})`);return We("ios"===Ae).addAnimation(Pe)},Fe=(()=>{const ke=new Map,Ae=[],rt=function(){var fe=(0,u.c)(function*(we){const Ne=yield Oe(we,!0);return!!Ne&&Ne.open()});return function(Ne){return fe.apply(this,arguments)}}(),Pe=function(){var fe=(0,u.c)(function*(we){const Ne=yield void 0!==we?Oe(we,!0):Qe();return void 0!==Ne&&Ne.close()});return function(Ne){return fe.apply(this,arguments)}}(),Me=function(){var fe=(0,u.c)(function*(we){const Ne=yield Oe(we,!0);return!!Ne&&Ne.toggle()});return function(Ne){return fe.apply(this,arguments)}}(),Be=function(){var fe=(0,u.c)(function*(we,Ne){const nt=yield Oe(Ne);return nt&&(nt.disabled=!we),nt});return function(Ne,nt){return fe.apply(this,arguments)}}(),vt=function(){var fe=(0,u.c)(function*(we,Ne){const nt=yield Oe(Ne);return nt&&(nt.swipeGesture=we),nt});return function(Ne,nt){return fe.apply(this,arguments)}}(),Ke=function(){var fe=(0,u.c)(function*(we){if(null!=we){const Ne=yield Oe(we);return void 0!==Ne&&Ne.isOpen()}return void 0!==(yield Qe())});return function(Ne){return fe.apply(this,arguments)}}(),Ve=function(){var fe=(0,u.c)(function*(we){const Ne=yield Oe(we);return!!Ne&&!Ne.disabled});return function(Ne){return fe.apply(this,arguments)}}(),Oe=function(){var fe=(0,u.c)(function*(we,Ne=!1){if(yield De(),"start"===we||"end"===we){const Ie=Ae.filter(tn=>tn.side===we&&!tn.disabled);if(Ie.length>=1)return Ie.length>1&&Ne&&(0,le.p)(`menuController queried for a menu on the "${we}" side, but ${Ie.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ie.map(tn=>tn.el)),Ie[0].el;const Lt=Ae.filter(tn=>tn.side===we);if(Lt.length>=1)return Lt.length>1&&Ne&&(0,le.p)(`menuController queried for a menu on the "${we}" side, but ${Lt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Lt.map(tn=>tn.el)),Lt[0].el}else if(null!=we)return at(Ie=>Ie.menuId===we);return at(Ie=>!Ie.disabled)||(Ae.length>0?Ae[0].el:void 0)});return function(Ne){return fe.apply(this,arguments)}}(),Qe=function(){var fe=(0,u.c)(function*(){return yield De(),kt()});return function(){return fe.apply(this,arguments)}}(),ae=function(){var fe=(0,u.c)(function*(){return yield De(),fn()});return function(){return fe.apply(this,arguments)}}(),X=function(){var fe=(0,u.c)(function*(){return yield De(),jn()});return function(){return fe.apply(this,arguments)}}(),oe=(fe,we)=>{ke.set(fe,we)},ot=function(){var fe=(0,u.c)(function*(we,Ne,nt){if(jn())return!1;if(Ne){const Ie=yield Qe();Ie&&we.el!==Ie&&(yield Ie.setOpen(!1,!1))}return we._setOpen(Ne,nt)});return function(Ne,nt,Ie){return fe.apply(this,arguments)}}(),kt=()=>at(fe=>fe._isOpen),fn=()=>Ae.map(fe=>fe.el),jn=()=>Ae.some(fe=>fe.isAnimating),at=fe=>{const we=Ae.find(fe);if(void 0!==we)return we.el},De=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(fe=>new Promise(we=>(0,be.c)(fe,we))));return oe("reveal",ue),oe("push",ge),oe("overlay",ze),null==z.d||z.d.addEventListener("ionBackButton",fe=>{const we=kt();we&&fe.detail.register(K.MENU_BACK_BUTTON_PRIORITY,()=>we.close())}),{registerAnimation:oe,get:Oe,getMenus:ae,getOpen:Qe,isEnabled:Ve,swipeGesture:vt,isAnimating:X,isOpen:Ke,enable:Be,toggle:Me,close:Pe,open:rt,_getOpenSync:kt,_createAnimation:(fe,we)=>{const Ne=ke.get(fe);if(!Ne)throw new Error("animation not registered");return Ne(we)},_register:fe=>{Ae.indexOf(fe)<0&&Ae.push(fe)},_unregister:fe=>{const we=Ae.indexOf(fe);we>-1&&Ae.splice(we,1)},_setOpen:ot}})()},8523:(on,it,k)=>{"use strict";k.d(it,{a:()=>ue,b:()=>fn,c:()=>K,i:()=>jn});var u=k(2992);class z{constructor(){this.m=new Map}reset(De){this.m=new Map(Object.entries(De))}get(De,fe){const we=this.m.get(De);return void 0!==we?we:fe}getBoolean(De,fe=!1){const we=this.m.get(De);return void 0===we?fe:"string"==typeof we?"true"===we:!!we}getNumber(De,fe){const we=parseFloat(this.m.get(De));return isNaN(we)?void 0!==fe?fe:NaN:we}set(De,fe){this.m.set(De,fe)}}const K=new z,ze="ionic-persist-config",ue=(at,De)=>("string"==typeof at&&(De=at,at=void 0),(at=>Re(at))(at).includes(De)),Re=(at=window)=>{if(typeof at>"u")return[];at.Ionic=at.Ionic||{};let De=at.Ionic.platforms;return null==De&&(De=at.Ionic.platforms=Fe(at),De.forEach(fe=>at.document.documentElement.classList.add(`plt-${fe}`))),De},Fe=at=>{const De=K.get("platform");return Object.keys(ut).filter(fe=>{const we=null==De?void 0:De[fe];return"function"==typeof we?we(at):ut[fe](at)})},Ae=at=>!!(je(at,/iPad/i)||je(at,/Macintosh/i)&&Ve(at)),Me=at=>je(at,/android|sink/i),Ve=at=>ot(at,"(any-pointer:coarse)"),Qe=at=>ae(at)||X(at),ae=at=>!!(at.cordova||at.phonegap||at.PhoneGap),X=at=>{const De=at.Capacitor;return!(null==De||!De.isNative)},je=(at,De)=>De.test(at.navigator.userAgent),ot=(at,De)=>{var fe;return null===(fe=at.matchMedia)||void 0===fe?void 0:fe.call(at,De).matches},ut={ipad:Ae,iphone:at=>je(at,/iPhone/i),ios:at=>je(at,/iPhone|iPod/i)||Ae(at),android:Me,phablet:at=>{const De=at.innerWidth,fe=at.innerHeight,we=Math.min(De,fe),Ne=Math.max(De,fe);return we>390&&we<520&&Ne>620&&Ne<800},tablet:at=>{const De=at.innerWidth,fe=at.innerHeight,we=Math.min(De,fe),Ne=Math.max(De,fe);return Ae(at)||(at=>Me(at)&&!je(at,/mobile/i))(at)||we>460&&we<820&&Ne>780&&Ne<1400},cordova:ae,capacitor:X,electron:at=>je(at,/electron/i),pwa:at=>{var De;return!!(null!==(De=at.matchMedia)&&void 0!==De&&De.call(at,"(display-mode: standalone)").matches||at.navigator.standalone)},mobile:Ve,mobileweb:at=>Ve(at)&&!Qe(at),desktop:at=>!Ve(at),hybrid:Qe};let kt;const fn=at=>at&&(0,u.g)(at)||kt,jn=(at={})=>{if(typeof window>"u")return;const De=window.document,fe=window,we=fe.Ionic=fe.Ionic||{},Ne={};at._ael&&(Ne.ael=at._ael),at._rel&&(Ne.rel=at._rel),at._ce&&(Ne.ce=at._ce),(0,u.a)(Ne);const nt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(at=>{try{const De=at.sessionStorage.getItem(ze);return null!==De?JSON.parse(De):{}}catch{return{}}})(fe)),{persistConfig:!1}),we.config),(at=>{const De={};return at.location.search.slice(1).split("&").map(fe=>fe.split("=")).map(([fe,we])=>[decodeURIComponent(fe),decodeURIComponent(we)]).filter(([fe])=>((at,De)=>at.substr(0,De.length)===De)(fe,"ionic:")).map(([fe,we])=>[fe.slice(6),we]).forEach(([fe,we])=>{De[fe]=we}),De})(fe)),at);K.reset(nt),K.getBoolean("persistConfig")&&((at,De)=>{try{at.sessionStorage.setItem(ze,JSON.stringify(De))}catch{return}})(fe,nt),Re(fe),we.config=K,we.mode=kt=K.get("mode",De.documentElement.getAttribute("mode")||(ue(fe,"ios")?"ios":"md")),K.set("mode",kt),De.documentElement.setAttribute("mode",kt),De.documentElement.classList.add(kt),K.getBoolean("_testing")&&K.set("animated",!1);const Ie=tn=>{var Zt;return null===(Zt=tn.tagName)||void 0===Zt?void 0:Zt.startsWith("ION-")},Lt=tn=>["ios","md"].includes(tn);(0,u.c)(tn=>{for(;tn;){const Zt=tn.mode||tn.getAttribute("mode");if(Zt){if(Lt(Zt))return Zt;Ie(tn)&&console.warn('Invalid ionic mode: "'+Zt+'", expected: "ios" or "md"')}tn=tn.parentElement}return kt})}},8512:(on,it,k)=>{"use strict";k.r(it),k.d(it,{iosTransitionAnimation:()=>Fe,shadow:()=>ce});var u=k(388),z=k(6256);k(4829),k(2992);const pe=Ae=>document.querySelector(`${Ae}.ion-cloned-element`),ce=Ae=>Ae.shadowRoot||Ae,We=Ae=>{const rt="ION-TABS"===Ae.tagName?Ae:Ae.querySelector("ion-tabs"),Pe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=rt){const Me=rt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Me?Me.querySelector(Pe):null}return Ae.querySelector(Pe)},ze=(Ae,rt)=>{const Pe="ION-TABS"===Ae.tagName?Ae:Ae.querySelector("ion-tabs");let Me=[];if(null!=Pe){const Be=Pe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Be&&(Me=Be.querySelectorAll("ion-buttons"))}else Me=Ae.querySelectorAll("ion-buttons");for(const Be of Me){const vt=Be.closest("ion-header"),Ke=vt&&!vt.classList.contains("header-collapse-condense-inactive"),Ve=Be.querySelector("ion-back-button"),Oe=Be.classList.contains("buttons-collapse");if(null!==Ve&&("start"===Be.slot||""===Be.slot)&&(Oe&&Ke&&rt||!Oe))return Ve}return null},ue=(Ae,rt,Pe,Me,Be,vt,Ke,Ve,Oe)=>{var Qe,ae;const X=rt?`calc(100% - ${Be.right+4}px)`:Be.left-4+"px",oe=rt?"right":"left",Se=rt?"left":"right",je=rt?"right":"left",ot=(null===(Qe=vt.textContent)||void 0===Qe?void 0:Qe.trim())===(null===(ae=Ve.textContent)||void 0===ae?void 0:ae.trim()),kt=(Oe.height-ke)/Ke.height,fn=ot?`scale(${Oe.width/Ke.width}, ${kt})`:`scale(${kt})`,jn="scale(1)",De=ce(Me).querySelector("ion-icon").getBoundingClientRect(),fe=rt?De.width/2-(De.right-Be.right)+"px":Be.left-De.width/2+"px",we=rt?`-${window.innerWidth-Be.right}px`:`${Be.left}px`,Ne=`${Oe.top}px`,nt=`${Be.top}px`,tn=Pe?[{offset:0,transform:`translate3d(${we}, ${nt}, 0)`},{offset:1,transform:`translate3d(${fe}, ${Ne}, 0)`}]:[{offset:0,transform:`translate3d(${fe}, ${Ne}, 0)`},{offset:1,transform:`translate3d(${we}, ${nt}, 0)`}],_n=Pe?[{offset:0,opacity:1,transform:jn},{offset:1,opacity:0,transform:fn}]:[{offset:0,opacity:0,transform:fn},{offset:1,opacity:1,transform:jn}],Le=Pe?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],_t=(0,u.c)(),yt=(0,u.c)(),jt=(0,u.c)(),qt=pe("ion-back-button"),Vt=ce(qt).querySelector(".button-text"),an=ce(qt).querySelector("ion-icon");qt.text=Me.text,qt.mode=Me.mode,qt.icon=Me.icon,qt.color=Me.color,qt.disabled=Me.disabled,qt.style.setProperty("display","block"),qt.style.setProperty("position","fixed"),yt.addElement(an),_t.addElement(Vt),jt.addElement(qt),jt.beforeStyles({position:"absolute",top:"0px",[je]:"0px"}).keyframes(tn),_t.beforeStyles({"transform-origin":`${oe} top`}).beforeAddWrite(()=>{Me.style.setProperty("display","none"),qt.style.setProperty(oe,X)}).afterAddWrite(()=>{Me.style.setProperty("display",""),qt.style.setProperty("display","none"),qt.style.removeProperty(oe)}).keyframes(_n),yt.beforeStyles({"transform-origin":`${Se} center`}).keyframes(Le),Ae.addAnimation([_t,yt,jt])},Re=(Ae,rt,Pe,Me,Be,vt,Ke,Ve)=>{var Oe,Qe;const ae=rt?"right":"left",X=rt?`calc(100% - ${Be.right}px)`:`${Be.left}px`,Se=`${Be.top}px`,ot=rt?`-${window.innerWidth-Ve.right-8}px`:Ve.x-8+"px",kt=Ve.y-2+"px",fn=(null===(Oe=Ke.textContent)||void 0===Oe?void 0:Oe.trim())===(null===(Qe=Me.textContent)||void 0===Qe?void 0:Qe.trim()),at=Ve.height/(vt.height-ke),De="scale(1)",fe=fn?`scale(${Ve.width/vt.width}, ${at})`:`scale(${at})`,nt=Pe?[{offset:0,opacity:0,transform:`translate3d(${ot}, ${kt}, 0) ${fe}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Se}, 0) ${De}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Se}, 0) ${De}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ot}, ${kt}, 0) ${fe}`}],Ie=pe("ion-title"),Lt=(0,u.c)();Ie.innerText=Me.innerText,Ie.size=Me.size,Ie.color=Me.color,Lt.addElement(Ie),Lt.beforeStyles({"transform-origin":`${ae} top`,height:`${Be.height}px`,display:"",position:"relative",[ae]:X}).beforeAddWrite(()=>{Me.style.setProperty("opacity","0")}).afterAddWrite(()=>{Me.style.setProperty("opacity",""),Ie.style.setProperty("display","none")}).keyframes(nt),Ae.addAnimation(Lt)},Fe=(Ae,rt)=>{var Pe;try{const Me="cubic-bezier(0.32,0.72,0,1)",Be="opacity",vt="transform",Ke="0%",Oe="rtl"===Ae.ownerDocument.dir,Qe=Oe?"-99.5%":"99.5%",ae=Oe?"33%":"-33%",X=rt.enteringEl,oe=rt.leavingEl,Se="back"===rt.direction,je=X.querySelector(":scope > ion-content"),ot=X.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ut=X.querySelectorAll(":scope > ion-header > ion-toolbar"),kt=(0,u.c)(),fn=(0,u.c)();if(kt.addElement(X).duration((null!==(Pe=rt.duration)&&void 0!==Pe?Pe:0)||540).easing(rt.easing||Me).fill("both").beforeRemoveClass("ion-page-invisible"),oe&&null!=Ae){const fe=(0,u.c)();fe.addElement(Ae),kt.addAnimation(fe)}if(je||0!==ut.length||0!==ot.length?(fn.addElement(je),fn.addElement(ot)):fn.addElement(X.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),kt.addAnimation(fn),Se?fn.beforeClearStyles([Be]).fromTo("transform",`translateX(${ae})`,`translateX(${Ke})`).fromTo(Be,.8,1):fn.beforeClearStyles([Be]).fromTo("transform",`translateX(${Qe})`,`translateX(${Ke})`),je){const fe=ce(je).querySelector(".transition-effect");if(fe){const we=fe.querySelector(".transition-cover"),Ne=fe.querySelector(".transition-shadow"),nt=(0,u.c)(),Ie=(0,u.c)(),Lt=(0,u.c)();nt.addElement(fe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ie.addElement(we).beforeClearStyles([Be]).fromTo(Be,0,.1),Lt.addElement(Ne).beforeClearStyles([Be]).fromTo(Be,.03,.7),nt.addAnimation([Ie,Lt]),fn.addAnimation([nt])}}const jn=X.querySelector("ion-header.header-collapse-condense"),{forward:at,backward:De}=((Ae,rt,Pe,Me,Be)=>{const vt=ze(Me,Pe),Ke=We(Be),Ve=We(Me),Oe=ze(Be,Pe),Qe=null!==vt&&null!==Ke&&!Pe,ae=null!==Ve&&null!==Oe&&Pe;if(Qe){const X=Ke.getBoundingClientRect(),oe=vt.getBoundingClientRect(),Se=ce(vt).querySelector(".button-text"),je=Se.getBoundingClientRect(),ut=ce(Ke).querySelector(".toolbar-title").getBoundingClientRect();Re(Ae,rt,Pe,Ke,X,ut,Se,je),ue(Ae,rt,Pe,vt,oe,Se,je,Ke,ut)}else if(ae){const X=Ve.getBoundingClientRect(),oe=Oe.getBoundingClientRect(),Se=ce(Oe).querySelector(".button-text"),je=Se.getBoundingClientRect(),ut=ce(Ve).querySelector(".toolbar-title").getBoundingClientRect();Re(Ae,rt,Pe,Ve,X,ut,Se,je),ue(Ae,rt,Pe,Oe,oe,Se,je,Ve,ut)}return{forward:Qe,backward:ae}})(kt,Oe,Se,X,oe);if(ut.forEach(fe=>{const we=(0,u.c)();we.addElement(fe),kt.addAnimation(we);const Ne=(0,u.c)();Ne.addElement(fe.querySelector("ion-title"));const nt=(0,u.c)(),Ie=Array.from(fe.querySelectorAll("ion-buttons,[menuToggle]")),Lt=fe.closest("ion-header"),tn=null==Lt?void 0:Lt.classList.contains("header-collapse-condense-inactive");let Zt;Zt=Ie.filter(Se?Le=>{const _t=Le.classList.contains("buttons-collapse");return _t&&!tn||!_t}:Le=>!Le.classList.contains("buttons-collapse")),nt.addElement(Zt);const Rt=(0,u.c)();Rt.addElement(fe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const _n=(0,u.c)();_n.addElement(ce(fe).querySelector(".toolbar-background"));const kn=(0,u.c)(),Hn=fe.querySelector("ion-back-button");if(Hn&&kn.addElement(Hn),we.addAnimation([Ne,nt,Rt,_n,kn]),nt.fromTo(Be,.01,1),Rt.fromTo(Be,.01,1),Se)tn||Ne.fromTo("transform",`translateX(${ae})`,`translateX(${Ke})`).fromTo(Be,.01,1),Rt.fromTo("transform",`translateX(${ae})`,`translateX(${Ke})`),kn.fromTo(Be,.01,1);else if(jn||Ne.fromTo("transform",`translateX(${Qe})`,`translateX(${Ke})`).fromTo(Be,.01,1),Rt.fromTo("transform",`translateX(${Qe})`,`translateX(${Ke})`),_n.beforeClearStyles([Be,"transform"]),(null==Lt?void 0:Lt.translucent)?_n.fromTo("transform",Oe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):_n.fromTo(Be,.01,"var(--opacity)"),at||kn.fromTo(Be,.01,1),Hn&&!at){const _t=(0,u.c)();_t.addElement(ce(Hn).querySelector(".button-text")).fromTo("transform",Oe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),we.addAnimation(_t)}}),oe){const fe=(0,u.c)(),we=oe.querySelector(":scope > ion-content"),Ne=oe.querySelectorAll(":scope > ion-header > ion-toolbar"),nt=oe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(we||0!==Ne.length||0!==nt.length?(fe.addElement(we),fe.addElement(nt)):fe.addElement(oe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),kt.addAnimation(fe),Se){fe.beforeClearStyles([Be]).fromTo("transform",`translateX(${Ke})`,Oe?"translateX(-100%)":"translateX(100%)");const Ie=(0,z.g)(oe);kt.afterAddWrite(()=>{"normal"===kt.getDirection()&&Ie.style.setProperty("display","none")})}else fe.fromTo("transform",`translateX(${Ke})`,`translateX(${ae})`).fromTo(Be,1,.8);if(we){const Ie=ce(we).querySelector(".transition-effect");if(Ie){const Lt=Ie.querySelector(".transition-cover"),tn=Ie.querySelector(".transition-shadow"),Zt=(0,u.c)(),Rt=(0,u.c)(),_n=(0,u.c)();Zt.addElement(Ie).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Rt.addElement(Lt).beforeClearStyles([Be]).fromTo(Be,.1,0),_n.addElement(tn).beforeClearStyles([Be]).fromTo(Be,.7,.03),Zt.addAnimation([Rt,_n]),fe.addAnimation([Zt])}}Ne.forEach(Ie=>{const Lt=(0,u.c)();Lt.addElement(Ie);const tn=(0,u.c)();tn.addElement(Ie.querySelector("ion-title"));const Zt=(0,u.c)(),Rt=Ie.querySelectorAll("ion-buttons,[menuToggle]"),_n=Ie.closest("ion-header"),kn=null==_n?void 0:_n.classList.contains("header-collapse-condense-inactive"),Hn=Array.from(Rt).filter(Vt=>{const an=Vt.classList.contains("buttons-collapse");return an&&!kn||!an});Zt.addElement(Hn);const Le=(0,u.c)(),_t=Ie.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");_t.length>0&&Le.addElement(_t);const yt=(0,u.c)();yt.addElement(ce(Ie).querySelector(".toolbar-background"));const jt=(0,u.c)(),qt=Ie.querySelector("ion-back-button");if(qt&&jt.addElement(qt),Lt.addAnimation([tn,Zt,Le,jt,yt]),kt.addAnimation(Lt),jt.fromTo(Be,.99,0),Zt.fromTo(Be,.99,0),Le.fromTo(Be,.99,0),Se){if(kn||tn.fromTo("transform",`translateX(${Ke})`,Oe?"translateX(-100%)":"translateX(100%)").fromTo(Be,.99,0),Le.fromTo("transform",`translateX(${Ke})`,Oe?"translateX(-100%)":"translateX(100%)"),yt.beforeClearStyles([Be,"transform"]),(null==_n?void 0:_n.translucent)?yt.fromTo("transform","translateX(0px)",Oe?"translateX(-100%)":"translateX(100%)"):yt.fromTo(Be,"var(--opacity)",0),qt&&!De){const an=(0,u.c)();an.addElement(ce(qt).querySelector(".button-text")).fromTo("transform",`translateX(${Ke})`,`translateX(${(Oe?-124:124)+"px"})`),Lt.addAnimation(an)}}else kn||tn.fromTo("transform",`translateX(${Ke})`,`translateX(${ae})`).fromTo(Be,.99,0).afterClearStyles([vt,Be]),Le.fromTo("transform",`translateX(${Ke})`,`translateX(${ae})`).afterClearStyles([vt,Be]),jt.afterClearStyles([Be]),tn.afterClearStyles([Be]),Zt.afterClearStyles([Be])})}return kt}catch(Me){throw Me}},ke=10},6556:(on,it,k)=>{"use strict";k.r(it),k.d(it,{mdTransitionAnimation:()=>be});var u=k(388),z=k(6256);k(4829),k(2992);const be=(pe,ce)=>{var We,ze,ge;const Fe="back"===ce.direction,Ae=ce.leavingEl,rt=(0,z.g)(ce.enteringEl),Pe=rt.querySelector("ion-toolbar"),Me=(0,u.c)();if(Me.addElement(rt).fill("both").beforeRemoveClass("ion-page-invisible"),Fe?Me.duration((null!==(We=ce.duration)&&void 0!==We?We:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Me.duration((null!==(ze=ce.duration)&&void 0!==ze?ze:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Pe){const Be=(0,u.c)();Be.addElement(Pe),Me.addAnimation(Be)}if(Ae&&Fe){Me.duration((null!==(ge=ce.duration)&&void 0!==ge?ge:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Be=(0,u.c)();Be.addElement((0,z.g)(Ae)).onFinish(vt=>{1===vt&&Be.elements.length>0&&Be.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Me.addAnimation(Be)}return Me}},3816:(on,it,k)=>{"use strict";k.d(it,{B:()=>Zt,G:()=>Rt,O:()=>_n,a:()=>Re,b:()=>Fe,c:()=>Pe,d:()=>kn,e:()=>Hn,f:()=>jn,g:()=>De,h:()=>Ne,i:()=>Ie,j:()=>Be,k:()=>vt,m:()=>Ae,n:()=>Qe,o:()=>kt,s:()=>tn});var u=k(1528),z=k(4829),K=k(2784),le=k(8523),be=k(495),pe=k(6384),ce=k(2032);let We=0,ze=0;const ge=new WeakMap,ue=Le=>({create:_t=>Ke(Le,_t),dismiss:(_t,yt,jt)=>je(document,_t,yt,Le,jt),getTop:()=>(0,u.c)(function*(){return kt(document,Le)})()}),Re=ue("ion-alert"),Fe=ue("ion-action-sheet"),Ae=ue("ion-modal"),Pe=ue("ion-popover"),Be=Le=>{typeof document<"u"&&Se(document);const _t=We++;Le.overlayIndex=_t},vt=Le=>(Le.hasAttribute("id")||(Le.id="ion-overlay-"+ ++ze),Le.id),Ke=(Le,_t)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Le).then(()=>{const yt=document.createElement(Le);return yt.classList.add("overlay-hidden"),Object.assign(yt,Object.assign(Object.assign({},_t),{hasController:!0})),fe(document).appendChild(yt),new Promise(jt=>(0,pe.c)(yt,jt))}):Promise.resolve(),Ve='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Qe=(Le,_t)=>{const yt=Le.querySelector(Ve);X(yt,_t)},ae=(Le,_t)=>{const yt=Array.from(Le.querySelectorAll(Ve));X(yt.length>0?yt[yt.length-1]:null,_t)},X=(Le,_t)=>{let yt=Le;const jt=null==Le?void 0:Le.shadowRoot;jt&&(yt=jt.querySelector(Ve)||Le),yt?(0,pe.f)(yt):_t.focus()},Se=Le=>{0===We&&(We=1,Le.addEventListener("focus",_t=>{((Le,_t)=>{const yt=kt(_t,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),jt=Le.target;yt&&jt&&!yt.classList.contains("ion-disable-focus-trap")&&(yt.shadowRoot?(()=>{if(yt.contains(jt))yt.lastFocus=jt;else if("ION-TOAST"===jt.tagName)X(yt.lastFocus,yt);else{const an=yt.lastFocus;Qe(yt,yt),an===_t.activeElement&&ae(yt,yt),yt.lastFocus=_t.activeElement}})():(()=>{if(yt===jt)yt.lastFocus=void 0;else if("ION-TOAST"===jt.tagName)X(yt.lastFocus,yt);else{const an=(0,pe.g)(yt);if(!an.contains(jt))return;const Mt=an.querySelector(".ion-overlay-wrapper");if(!Mt)return;if(Mt.contains(jt)||jt===an.querySelector("ion-backdrop"))yt.lastFocus=jt;else{const Fn=yt.lastFocus;Qe(Mt,yt),Fn===_t.activeElement&&ae(Mt,yt),yt.lastFocus=_t.activeElement}}})())})(_t,Le)},!0),Le.addEventListener("ionBackButton",_t=>{const yt=kt(Le);null!=yt&&yt.backdropDismiss&&_t.detail.register(K.OVERLAY_BACK_BUTTON_PRIORITY,()=>{yt.dismiss(void 0,Zt)})}),(0,K.shoudUseCloseWatcher)()||Le.addEventListener("keydown",_t=>{if("Escape"===_t.key){const yt=kt(Le);null!=yt&&yt.backdropDismiss&&yt.dismiss(void 0,Zt)}}))},je=(Le,_t,yt,jt,qt)=>{const Vt=kt(Le,jt,qt);return Vt?Vt.dismiss(_t,yt):Promise.reject("overlay does not exist")},ut=(Le,_t)=>((Le,_t)=>(void 0===_t&&(_t="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Le.querySelectorAll(_t)).filter(yt=>yt.overlayIndex>0)))(Le,_t).filter(yt=>!(Le=>Le.classList.contains("overlay-hidden"))(yt)),kt=(Le,_t,yt)=>{const jt=ut(Le,_t);return void 0===yt?jt[jt.length-1]:jt.find(qt=>qt.id===yt)},fn=(Le=!1)=>{const yt=fe(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");yt&&(Le?yt.setAttribute("aria-hidden","true"):yt.removeAttribute("aria-hidden"))},jn=function(){var Le=(0,u.c)(function*(_t,yt,jt,qt,Vt){var an,Mt;if(_t.presented)return;fn(!0),void 0!==z.d&&ut(z.d).forEach(Nn=>Nn.setAttribute("aria-hidden","true")),_t.presented=!0,_t.willPresent.emit(),null===(an=_t.willPresentShorthand)||void 0===an||an.emit();const Fn=(0,le.b)(_t),cn=_t.enterAnimation?_t.enterAnimation:le.c.get(yt,"ios"===Fn?jt:qt);(yield we(_t,cn,_t.el,Vt))&&(_t.didPresent.emit(),null===(Mt=_t.didPresentShorthand)||void 0===Mt||Mt.emit()),"ION-TOAST"!==_t.el.tagName&&at(_t.el),_t.keyboardClose&&(null===document.activeElement||!_t.el.contains(document.activeElement))&&_t.el.focus(),_t.el.removeAttribute("aria-hidden")});return function(yt,jt,qt,Vt,an){return Le.apply(this,arguments)}}(),at=function(){var Le=(0,u.c)(function*(_t){let yt=document.activeElement;if(!yt)return;const jt=null==yt?void 0:yt.shadowRoot;jt&&(yt=jt.querySelector(Ve)||yt),yield _t.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&yt.focus()});return function(yt){return Le.apply(this,arguments)}}(),De=function(){var Le=(0,u.c)(function*(_t,yt,jt,qt,Vt,an,Mt){var Fn,cn,or;if(!_t.presented)return!1;void 0!==z.d&&1===ut(z.d).length&&fn(!1),_t.presented=!1;try{_t.el.style.setProperty("pointer-events","none"),_t.willDismiss.emit({data:yt,role:jt}),null===(Fn=_t.willDismissShorthand)||void 0===Fn||Fn.emit({data:yt,role:jt});const ar=(0,le.b)(_t),Nn=_t.leaveAnimation?_t.leaveAnimation:le.c.get(qt,"ios"===ar?Vt:an);jt!==Rt&&(yield we(_t,Nn,_t.el,Mt)),_t.didDismiss.emit({data:yt,role:jt}),null===(cn=_t.didDismissShorthand)||void 0===cn||cn.emit({data:yt,role:jt}),(ge.get(_t)||[]).forEach(mr=>mr.destroy()),ge.delete(_t),_t.el.classList.add("overlay-hidden"),_t.el.style.removeProperty("pointer-events"),void 0!==_t.el.lastFocus&&(_t.el.lastFocus=void 0)}catch(ar){console.error(ar)}return _t.el.remove(),void 0!==z.d&&(null===(or=kt(z.d))||void 0===or||or.removeAttribute("aria-hidden")),!0});return function(yt,jt,qt,Vt,an,Mt,Fn){return Le.apply(this,arguments)}}(),fe=Le=>Le.querySelector("ion-app")||Le.body,we=function(){var Le=(0,u.c)(function*(_t,yt,jt,qt){jt.classList.remove("overlay-hidden");const an=yt(_t.el,qt);(!_t.animated||!le.c.getBoolean("animated",!0))&&an.duration(0),_t.keyboardClose&&an.beforeAddWrite(()=>{const Fn=jt.ownerDocument.activeElement;null!=Fn&&Fn.matches("input,ion-input, ion-textarea")&&Fn.blur()});const Mt=ge.get(_t)||[];return ge.set(_t,[...Mt,an]),yield an.play(),!0});return function(yt,jt,qt,Vt){return Le.apply(this,arguments)}}(),Ne=(Le,_t)=>{let yt;const jt=new Promise(qt=>yt=qt);return nt(Le,_t,qt=>{yt(qt.detail)}),jt},nt=(Le,_t,yt)=>{const jt=qt=>{(0,pe.b)(Le,_t,jt),yt(qt)};(0,pe.a)(Le,_t,jt)},Ie=Le=>"cancel"===Le||Le===Zt,Lt=Le=>Le(),tn=(Le,_t)=>{if("function"==typeof Le)return le.c.get("_zoneGate",Lt)(()=>{try{return Le(_t)}catch(jt){throw jt}})},Zt="backdrop",Rt="gesture",_n=39,kn=Le=>{let yt,_t=!1;const jt=(0,be.C)(),qt=(Mt=!1)=>{if(yt&&!Mt)return{delegate:yt,inline:_t};const{el:Fn,hasController:cn,delegate:or}=Le;return _t=null!==Fn.parentNode&&!cn,yt=_t?or||jt:or,{inline:_t,delegate:yt}};return{attachViewToDom:function(){var Mt=(0,u.c)(function*(Fn){const{delegate:cn}=qt(!0);if(cn)return yield cn.attachViewToDom(Le.el,Fn);const{hasController:or}=Le;if(or&&void 0!==Fn)throw new Error("framework delegate is missing");return null});return function(cn){return Mt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Mt}=qt();Mt&&void 0!==Le.el&&Mt.removeViewFromDom(Le.el.parentElement,Le.el)}}},Hn=()=>{let Le;const _t=()=>{Le&&(Le(),Le=void 0)};return{addClickListener:(jt,qt)=>{_t();const Vt=void 0!==qt?document.getElementById(qt):null;Vt?Le=((Mt,Fn)=>{const cn=()=>{Fn.present()};return Mt.addEventListener("click",cn),()=>{Mt.removeEventListener("click",cn)}})(Vt,jt):(0,ce.p)(`A trigger element with the ID "${qt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,jt)},removeClickListener:_t}}},356:(on,it,k)=>{"use strict";var u=k(4476),z=k(4496),K=k(4196),le=k(4716),be=k(304),pe=k(2112);let ce=(()=>{var Ae;class rt{constructor(){}}return(Ae=rt).\u0275fac=function(Me){return new(Me||Ae)},Ae.\u0275cmp=z.In1({type:Ae,selectors:[["app-root"]],decls:2,vars:0,template:function(Me,Be){1&Me&&(z.I0R(0,"ion-app"),z.wR5(1,"ion-router-outlet"),z.C$Y())},dependencies:[pe.qk,pe.Cg]}),rt})();const We=[{path:"shopping-list",loadChildren:()=>Promise.all([k.e(9312),k.e(7690)]).then(k.bind(k,7690)).then(Ae=>Ae.ShoppingListPageModule)},{path:"",redirectTo:"shopping-list",pathMatch:"full"},{path:"home",loadChildren:()=>k.e(4068).then(k.bind(k,4068)).then(Ae=>Ae.HomePageModule)},{path:"add-item",loadChildren:()=>Promise.all([k.e(9312),k.e(7192)]).then(k.bind(k,7192)).then(Ae=>Ae.AddItemPageModule)},{path:"edit-item/:id",loadChildren:()=>Promise.all([k.e(9312),k.e(896)]).then(k.bind(k,896)).then(Ae=>Ae.EditItemPageModule)}];let ze=(()=>{var Ae;class rt{}return(Ae=rt).\u0275fac=function(Me){return new(Me||Ae)},Ae.\u0275mod=z.a4G({type:Ae}),Ae.\u0275inj=z.s3X({imports:[K.qQ.forRoot(We,{preloadingStrategy:K.eu}),K.qQ]}),rt})();var ge=k(6e3),ue=k(3552),Re=k(6564);const Fe_firebaseConfig={apiKey:"AIzaSyDDpm6qg8j37MUEXTYO5DhQkCDAFbejd1M",authDomain:"shhopinglist.firebaseapp.com",projectId:"shhopinglist",storageBucket:"shhopinglist.appspot.com",messagingSenderId:"228116690877",appId:"1:228116690877:web:3f96572cc6ceac862844d4",measurementId:"G-7C8RTRSZ94"};let ke=(()=>{var Ae;class rt{}return(Ae=rt).\u0275fac=function(Me){return new(Me||Ae)},Ae.\u0275mod=z.a4G({type:Ae,bootstrap:[ce]}),Ae.\u0275inj=z.s3X({providers:[{provide:K.XE,useClass:be.um}],imports:[u.iE,le.y,pe.wZ.forRoot(),ze,ge.UN.initializeApp(Fe_firebaseConfig),ue.Se,Re._Q]}),rt})();(0,z.agy)(),u.o_().bootstrapModule(ke).catch(Ae=>console.log(Ae))},6700:(on,it,k)=>{"use strict";k.d(it,{g:()=>z});var u=k(5657);class z extends u.E{constructor(le){super(),this._value=le}get value(){return this.getValue()}_subscribe(le){const be=super._subscribe(le);return!be.closed&&le.next(this._value),be}getValue(){const{hasError:le,thrownError:be,_value:pe}=this;if(le)throw be;return this._throwIfClosed(),pe}next(le){super.next(this._value=le)}}},3252:(on,it,k)=>{"use strict";k.d(it,{_:()=>We});var u=k(1760),z=k(6928),K=k(472),le=k(3928),be=k(4491),pe=k(8880),ce=k(2075);let We=(()=>{class Re{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const Ae=new Re;return Ae.source=this,Ae.operator=ke,Ae}subscribe(ke,Ae,rt){const Pe=function ue(Re){return Re&&Re instanceof u.yR||function ge(Re){return Re&&(0,pe.m)(Re.next)&&(0,pe.m)(Re.error)&&(0,pe.m)(Re.complete)}(Re)&&(0,z.GI)(Re)}(ke)?ke:new u.ot(ke,Ae,rt);return(0,ce.c)(()=>{const{operator:Me,source:Be}=this;Pe.add(Me?Me.call(Pe,Be):Be?this._subscribe(Pe):this._trySubscribe(Pe))}),Pe}_trySubscribe(ke){try{return this._subscribe(ke)}catch(Ae){ke.error(Ae)}}forEach(ke,Ae){return new(Ae=ze(Ae))((rt,Pe)=>{const Me=new u.ot({next:Be=>{try{ke(Be)}catch(vt){Pe(vt),Me.unsubscribe()}},error:Pe,complete:rt});this.subscribe(Me)})}_subscribe(ke){var Ae;return null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(ke)}[K.a](){return this}pipe(...ke){return(0,le.Y)(ke)(this)}toPromise(ke){return new(ke=ze(ke))((Ae,rt)=>{let Pe;this.subscribe(Me=>Pe=Me,Me=>rt(Me),()=>Ae(Pe))})}}return Re.create=Fe=>new Re(Fe),Re})();function ze(Re){var Fe;return null!==(Fe=null!=Re?Re:be.config.Promise)&&void 0!==Fe?Fe:Promise}},5657:(on,it,k)=>{"use strict";k.d(it,{E:()=>ce});var u=k(3252),z=k(6928);const le=(0,k(4912).w)(ze=>function(){ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=k(1248),pe=k(2075);let ce=(()=>{class ze extends u._{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const Re=new We(this,this);return Re.operator=ue,Re}_throwIfClosed(){if(this.closed)throw new le}next(ue){(0,pe.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Re of this.currentObservers)Re.next(ue)}})}error(ue){(0,pe.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:Re}=this;for(;Re.length;)Re.shift().error(ue)}})}complete(){(0,pe.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:Re,isStopped:Fe,observers:ke}=this;return Re||Fe?z.au:(this.currentObservers=null,ke.push(ue),new z.wH(()=>{this.currentObservers=null,(0,be.k)(ke,ue)}))}_checkFinalizedStatuses(ue){const{hasError:Re,thrownError:Fe,isStopped:ke}=this;Re?ue.error(Fe):ke&&ue.complete()}asObservable(){const ue=new u._;return ue.source=this,ue}}return ze.create=(ge,ue)=>new We(ge,ue),ze})();class We extends ce{constructor(ge,ue){super(),this.destination=ge,this.source=ue}next(ge){var ue,Re;null===(Re=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===Re||Re.call(ue,ge)}error(ge){var ue,Re;null===(Re=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===Re||Re.call(ue,ge)}complete(){var ge,ue;null===(ue=null===(ge=this.destination)||void 0===ge?void 0:ge.complete)||void 0===ue||ue.call(ge)}_subscribe(ge){var ue,Re;return null!==(Re=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(ge))&&void 0!==Re?Re:z.au}}},1760:(on,it,k)=>{"use strict";k.d(it,{ot:()=>rt,yR:()=>Re});var u=k(8880),z=k(6928),K=k(4491),le=k(1984),be=k(308);const pe=ze("C",void 0,void 0);function ze(Ke,Ve,Oe){return{kind:Ke,value:Ve,error:Oe}}var ge=k(3376),ue=k(2075);class Re extends z.wH{constructor(Ve){super(),this.isStopped=!1,Ve?(this.destination=Ve,(0,z.GI)(Ve)&&Ve.add(this)):this.destination=vt}static create(Ve,Oe,Qe){return new rt(Ve,Oe,Qe)}next(Ve){this.isStopped?Be(function We(Ke){return ze("N",Ke,void 0)}(Ve),this):this._next(Ve)}error(Ve){this.isStopped?Be(function ce(Ke){return ze("E",void 0,Ke)}(Ve),this):(this.isStopped=!0,this._error(Ve))}complete(){this.isStopped?Be(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ve){this.destination.next(Ve)}_error(Ve){try{this.destination.error(Ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function ke(Ke,Ve){return Fe.call(Ke,Ve)}class Ae{constructor(Ve){this.partialObserver=Ve}next(Ve){const{partialObserver:Oe}=this;if(Oe.next)try{Oe.next(Ve)}catch(Qe){Pe(Qe)}}error(Ve){const{partialObserver:Oe}=this;if(Oe.error)try{Oe.error(Ve)}catch(Qe){Pe(Qe)}else Pe(Ve)}complete(){const{partialObserver:Ve}=this;if(Ve.complete)try{Ve.complete()}catch(Oe){Pe(Oe)}}}class rt extends Re{constructor(Ve,Oe,Qe){let ae;if(super(),(0,u.m)(Ve)||!Ve)ae={next:null!=Ve?Ve:void 0,error:null!=Oe?Oe:void 0,complete:null!=Qe?Qe:void 0};else{let X;this&&K.config.useDeprecatedNextContext?(X=Object.create(Ve),X.unsubscribe=()=>this.unsubscribe(),ae={next:Ve.next&&ke(Ve.next,X),error:Ve.error&&ke(Ve.error,X),complete:Ve.complete&&ke(Ve.complete,X)}):ae=Ve}this.destination=new Ae(ae)}}function Pe(Ke){K.config.useDeprecatedSynchronousErrorHandling?(0,ue.q)(Ke):(0,le.U)(Ke)}function Be(Ke,Ve){const{onStoppedNotification:Oe}=K.config;Oe&&ge.u.setTimeout(()=>Oe(Ke,Ve))}const vt={closed:!0,next:be.K,error:function Me(Ke){throw Ke},complete:be.K}},6928:(on,it,k)=>{"use strict";k.d(it,{au:()=>pe,wH:()=>be,GI:()=>ce});var u=k(8880);const K=(0,k(4912).w)(ze=>function(ue){ze(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((Re,Fe)=>`${Fe+1}) ${Re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var le=k(1248);class be{constructor(ge){this.initialTeardown=ge,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ge;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const ke of ue)ke.remove(this);else ue.remove(this);const{initialTeardown:Re}=this;if((0,u.m)(Re))try{Re()}catch(ke){ge=ke instanceof K?ke.errors:[ke]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const ke of Fe)try{We(ke)}catch(Ae){ge=null!=ge?ge:[],Ae instanceof K?ge=[...ge,...Ae.errors]:ge.push(Ae)}}if(ge)throw new K(ge)}}add(ge){var ue;if(ge&&ge!==this)if(this.closed)We(ge);else{if(ge instanceof be){if(ge.closed||ge._hasParent(this))return;ge._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(ge)}}_hasParent(ge){const{_parentage:ue}=this;return ue===ge||Array.isArray(ue)&&ue.includes(ge)}_addParent(ge){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(ge),ue):ue?[ue,ge]:ge}_removeParent(ge){const{_parentage:ue}=this;ue===ge?this._parentage=null:Array.isArray(ue)&&(0,le.k)(ue,ge)}remove(ge){const{_finalizers:ue}=this;ue&&(0,le.k)(ue,ge),ge instanceof be&&ge._removeParent(this)}}be.EMPTY=(()=>{const ze=new be;return ze.closed=!0,ze})();const pe=be.EMPTY;function ce(ze){return ze instanceof be||ze&&"closed"in ze&&(0,u.m)(ze.remove)&&(0,u.m)(ze.add)&&(0,u.m)(ze.unsubscribe)}function We(ze){(0,u.m)(ze)?ze():ze.unsubscribe()}},4491:(on,it,k)=>{"use strict";k.d(it,{config:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6040:(on,it,k)=>{"use strict";k.d(it,{E:()=>ge});var u=k(3252),z=k(4300),K=k(9900),le=k(528),be=k(4187),pe=k(9472),ce=k(7904),We=k(7773),ze=k(9399);function ge(...Fe){const ke=(0,pe.e_)(Fe),Ae=(0,pe.yu)(Fe),{args:rt,keys:Pe}=(0,z.Q)(Fe);if(0===rt.length)return(0,K.Q)([],ke);const Me=new u._(function ue(Fe,ke,Ae=le.Z){return rt=>{Re(ke,()=>{const{length:Pe}=Fe,Me=new Array(Pe);let Be=Pe,vt=Pe;for(let Ke=0;Ke<Pe;Ke++)Re(ke,()=>{const Ve=(0,K.Q)(Fe[Ke],ke);let Oe=!1;Ve.subscribe((0,We.e)(rt,Qe=>{Me[Ke]=Qe,Oe||(Oe=!0,vt--),vt||rt.next(Ae(Me.slice()))},()=>{--Be||rt.complete()}))},rt)},rt)}}(rt,ke,Pe?Be=>(0,ce.q)(Pe,Be):le.Z));return Ae?Me.pipe((0,be.j)(Ae)):Me}function Re(Fe,ke,Ae){Fe?(0,ze._)(Ae,Fe,ke):ke()}},7228:(on,it,k)=>{"use strict";k.d(it,{W:()=>be});var u=k(267),K=k(9472),le=k(9900);function be(...pe){return function z(){return(0,u.u)(1)}()((0,le.Q)(pe,(0,K.e_)(pe)))}},8960:(on,it,k)=>{"use strict";k.d(it,{k:()=>z});const z=new(k(3252)._)(be=>be.complete())},9900:(on,it,k)=>{"use strict";k.d(it,{Q:()=>Ve});var u=k(560),z=k(3920),K=k(2924),pe=k(3252),We=k(3835),ze=k(8880),ge=k(9399);function Re(Oe,Qe){if(!Oe)throw new Error("Iterable cannot be null");return new pe._(ae=>{(0,ge._)(ae,Qe,()=>{const X=Oe[Symbol.asyncIterator]();(0,ge._)(ae,Qe,()=>{X.next().then(oe=>{oe.done?ae.complete():ae.next(oe.value)})},0,!0)})})}var Fe=k(5099),ke=k(5432),Ae=k(5428),rt=k(1688),Pe=k(376),Me=k(8272),Be=k(5832);function Ve(Oe,Qe){return Qe?function Ke(Oe,Qe){if(null!=Oe){if((0,Fe.O)(Oe))return function le(Oe,Qe){return(0,u.Uv)(Oe).pipe((0,K.y)(Qe),(0,z.y)(Qe))}(Oe,Qe);if((0,Ae.G)(Oe))return function ce(Oe,Qe){return new pe._(ae=>{let X=0;return Qe.schedule(function(){X===Oe.length?ae.complete():(ae.next(Oe[X++]),ae.closed||this.schedule())})})}(Oe,Qe);if((0,ke.u)(Oe))return function be(Oe,Qe){return(0,u.Uv)(Oe).pipe((0,K.y)(Qe),(0,z.y)(Qe))}(Oe,Qe);if((0,Pe.E)(Oe))return Re(Oe,Qe);if((0,rt.i)(Oe))return function ue(Oe,Qe){return new pe._(ae=>{let X;return(0,ge._)(ae,Qe,()=>{X=Oe[We.w](),(0,ge._)(ae,Qe,()=>{let oe,Se;try{({value:oe,done:Se}=X.next())}catch(je){return void ae.error(je)}Se?ae.complete():ae.next(oe)},0,!0)}),()=>(0,ze.m)(null==X?void 0:X.return)&&X.return()})}(Oe,Qe);if((0,Be.K)(Oe))return function vt(Oe,Qe){return Re((0,Be._)(Oe),Qe)}(Oe,Qe)}throw(0,Me.W)(Oe)}(Oe,Qe):(0,u.Uv)(Oe)}},800:(on,it,k)=>{"use strict";k.d(it,{w:()=>ge});var u=k(560),z=k(3252),K=k(7400),le=k(5428),be=k(8880),pe=k(4187);const ce=["addListener","removeListener"],We=["addEventListener","removeEventListener"],ze=["on","off"];function ge(Ae,rt,Pe,Me){if((0,be.m)(Pe)&&(Me=Pe,Pe=void 0),Me)return ge(Ae,rt,Pe).pipe((0,pe.j)(Me));const[Be,vt]=function ke(Ae){return(0,be.m)(Ae.addEventListener)&&(0,be.m)(Ae.removeEventListener)}(Ae)?We.map(Ke=>Ve=>Ae[Ke](rt,Ve,Pe)):function Re(Ae){return(0,be.m)(Ae.addListener)&&(0,be.m)(Ae.removeListener)}(Ae)?ce.map(ue(Ae,rt)):function Fe(Ae){return(0,be.m)(Ae.on)&&(0,be.m)(Ae.off)}(Ae)?ze.map(ue(Ae,rt)):[];if(!Be&&(0,le.G)(Ae))return(0,K.O)(Ke=>ge(Ke,rt,Pe))((0,u.Uv)(Ae));if(!Be)throw new TypeError("Invalid event target");return new z._(Ke=>{const Ve=(...Oe)=>Ke.next(1<Oe.length?Oe:Oe[0]);return Be(Ve),()=>vt(Ve)})}function ue(Ae,rt){return Pe=>Me=>Ae[Pe](rt,Me)}},560:(on,it,k)=>{"use strict";k.d(it,{Uv:()=>Fe});var u=k(1316),z=k(5428),K=k(5432),le=k(3252),be=k(5099),pe=k(376),ce=k(8272),We=k(1688),ze=k(5832),ge=k(8880),ue=k(1984),Re=k(472);function Fe(Ke){if(Ke instanceof le._)return Ke;if(null!=Ke){if((0,be.O)(Ke))return function ke(Ke){return new le._(Ve=>{const Oe=Ke[Re.a]();if((0,ge.m)(Oe.subscribe))return Oe.subscribe(Ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ke);if((0,z.G)(Ke))return function Ae(Ke){return new le._(Ve=>{for(let Oe=0;Oe<Ke.length&&!Ve.closed;Oe++)Ve.next(Ke[Oe]);Ve.complete()})}(Ke);if((0,K.u)(Ke))return function rt(Ke){return new le._(Ve=>{Ke.then(Oe=>{Ve.closed||(Ve.next(Oe),Ve.complete())},Oe=>Ve.error(Oe)).then(null,ue.U)})}(Ke);if((0,pe.E)(Ke))return Me(Ke);if((0,We.i)(Ke))return function Pe(Ke){return new le._(Ve=>{for(const Oe of Ke)if(Ve.next(Oe),Ve.closed)return;Ve.complete()})}(Ke);if((0,ze.K)(Ke))return function Be(Ke){return Me((0,ze._)(Ke))}(Ke)}throw(0,ce.W)(Ke)}function Me(Ke){return new le._(Ve=>{(function vt(Ke,Ve){var Oe,Qe,ae,X;return(0,u.kH)(this,void 0,void 0,function*(){try{for(Oe=(0,u.mA)(Ke);!(Qe=yield Oe.next()).done;)if(Ve.next(Qe.value),Ve.closed)return}catch(oe){ae={error:oe}}finally{try{Qe&&!Qe.done&&(X=Oe.return)&&(yield X.call(Oe))}finally{if(ae)throw ae.error}}Ve.complete()})})(Ke,Ve).catch(Oe=>Ve.error(Oe))})}},2700:(on,it,k)=>{"use strict";k.d(it,{of:()=>K});var u=k(9472),z=k(9900);function K(...le){const be=(0,u.e_)(le);return(0,z.Q)(le,be)}},7773:(on,it,k)=>{"use strict";k.d(it,{e:()=>z});var u=k(1760);function z(le,be,pe,ce,We){return new K(le,be,pe,ce,We)}class K extends u.yR{constructor(be,pe,ce,We,ze,ge){super(be),this.onFinalize=ze,this.shouldUnsubscribe=ge,this._next=pe?function(ue){try{pe(ue)}catch(Re){be.error(Re)}}:super._next,this._error=We?function(ue){try{We(ue)}catch(Re){be.error(Re)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch(ue){be.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var be;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(be=this.onFinalize)||void 0===be||be.call(this))}}}},2156:(on,it,k)=>{"use strict";k.d(it,{G:()=>K});var u=k(5448),z=k(7773);function K(le){return(0,u.i)((be,pe)=>{let ce=!1;be.subscribe((0,z.e)(pe,We=>{ce=!0,pe.next(We)},()=>{ce||pe.next(le),pe.complete()}))})}},4e3:(on,it,k)=>{"use strict";k.d(it,{a:()=>le});var u=k(528),z=k(5448),K=k(7773);function le(pe,ce=u.Z){return pe=null!=pe?pe:be,(0,z.i)((We,ze)=>{let ge,ue=!0;We.subscribe((0,K.e)(ze,Re=>{const Fe=ce(Re);(ue||!pe(ge,Fe))&&(ue=!1,ge=Fe,ze.next(Re))}))})}function be(pe,ce){return pe===ce}},6684:(on,it,k)=>{"use strict";k.d(it,{I:()=>K});var u=k(5448),z=k(7773);function K(le,be){return(0,u.i)((pe,ce)=>{let We=0;pe.subscribe((0,z.e)(ce,ze=>le.call(be,ze,We++)&&ce.next(ze)))})}},5084:(on,it,k)=>{"use strict";k.d(it,{K:()=>ce});var u=k(7696),z=k(6684),K=k(3992),le=k(2156),be=k(8124),pe=k(528);function ce(We,ze){const ge=arguments.length>=2;return ue=>ue.pipe(We?(0,z.I)((Re,Fe)=>We(Re,Fe,ue)):pe.Z,(0,K.U)(1),ge?(0,le.G)(ze):(0,be._)(()=>new u.G))}},4704:(on,it,k)=>{"use strict";k.d(it,{k:()=>K});var u=k(5448),z=k(7773);function K(le,be){return(0,u.i)((pe,ce)=>{let We=0;pe.subscribe((0,z.e)(ce,ze=>{ce.next(le.call(be,ze,We++))}))})}},267:(on,it,k)=>{"use strict";k.d(it,{u:()=>K});var u=k(7400),z=k(528);function K(le=1/0){return(0,u.O)(z.Z,le)}},7400:(on,it,k)=>{"use strict";k.d(it,{O:()=>We});var u=k(4704),z=k(560),K=k(5448),le=k(9399),be=k(7773),ce=k(8880);function We(ze,ge,ue=1/0){return(0,ce.m)(ge)?We((Re,Fe)=>(0,u.k)((ke,Ae)=>ge(Re,ke,Fe,Ae))((0,z.Uv)(ze(Re,Fe))),ue):("number"==typeof ge&&(ue=ge),(0,K.i)((Re,Fe)=>function pe(ze,ge,ue,Re,Fe,ke,Ae,rt){const Pe=[];let Me=0,Be=0,vt=!1;const Ke=()=>{vt&&!Pe.length&&!Me&&ge.complete()},Ve=Qe=>Me<Re?Oe(Qe):Pe.push(Qe),Oe=Qe=>{ke&&ge.next(Qe),Me++;let ae=!1;(0,z.Uv)(ue(Qe,Be++)).subscribe((0,be.e)(ge,X=>{null==Fe||Fe(X),ke?Ve(X):ge.next(X)},()=>{ae=!0},void 0,()=>{if(ae)try{for(Me--;Pe.length&&Me<Re;){const X=Pe.shift();Ae?(0,le._)(ge,Ae,()=>Oe(X)):Oe(X)}Ke()}catch(X){ge.error(X)}}))};return ze.subscribe((0,be.e)(ge,Ve,()=>{vt=!0,Ke()})),()=>{null==rt||rt()}}(Re,Fe,ze,ue)))}},3920:(on,it,k)=>{"use strict";k.d(it,{y:()=>le});var u=k(9399),z=k(5448),K=k(7773);function le(be,pe=0){return(0,z.i)((ce,We)=>{ce.subscribe((0,K.e)(We,ze=>(0,u._)(We,be,()=>We.next(ze),pe),()=>(0,u._)(We,be,()=>We.complete(),pe),ze=>(0,u._)(We,be,()=>We.error(ze),pe)))})}},208:(on,it,k)=>{"use strict";k.d(it,{K:()=>le});var u=k(5448),z=k(7773);function le(be,pe){return(0,u.i)(function K(be,pe,ce,We,ze){return(ge,ue)=>{let Re=ce,Fe=pe,ke=0;ge.subscribe((0,z.e)(ue,Ae=>{const rt=ke++;Fe=Re?be(Fe,Ae,rt):(Re=!0,Ae),We&&ue.next(Fe)},ze&&(()=>{Re&&ue.next(Fe),ue.complete()})))}}(be,pe,arguments.length>=2,!0))}},5568:(on,it,k)=>{"use strict";k.d(it,{W:()=>le});var u=k(7228),z=k(9472),K=k(5448);function le(...be){const pe=(0,z.e_)(be);return(0,K.i)((ce,We)=>{(pe?(0,u.W)(be,ce,pe):(0,u.W)(be,ce)).subscribe(We)})}},2924:(on,it,k)=>{"use strict";k.d(it,{y:()=>z});var u=k(5448);function z(K,le=0){return(0,u.i)((be,pe)=>{pe.add(K.schedule(()=>be.subscribe(pe),le))})}},7368:(on,it,k)=>{"use strict";k.d(it,{G:()=>le});var u=k(560),z=k(5448),K=k(7773);function le(be,pe){return(0,z.i)((ce,We)=>{let ze=null,ge=0,ue=!1;const Re=()=>ue&&!ze&&We.complete();ce.subscribe((0,K.e)(We,Fe=>{null==ze||ze.unsubscribe();let ke=0;const Ae=ge++;(0,u.Uv)(be(Fe,Ae)).subscribe(ze=(0,K.e)(We,rt=>We.next(pe?pe(Fe,rt,Ae,ke++):rt),()=>{ze=null,Re()}))},()=>{ue=!0,Re()}))})}},3992:(on,it,k)=>{"use strict";k.d(it,{U:()=>le});var u=k(8960),z=k(5448),K=k(7773);function le(be){return be<=0?()=>u.k:(0,z.i)((pe,ce)=>{let We=0;pe.subscribe((0,K.e)(ce,ze=>{++We<=be&&(ce.next(ze),be<=We&&ce.complete())}))})}},9212:(on,it,k)=>{"use strict";k.d(it,{y:()=>be});var u=k(8880),z=k(5448),K=k(7773),le=k(528);function be(pe,ce,We){const ze=(0,u.m)(pe)||ce||We?{next:pe,error:ce,complete:We}:pe;return ze?(0,z.i)((ge,ue)=>{var Re;null===(Re=ze.subscribe)||void 0===Re||Re.call(ze);let Fe=!0;ge.subscribe((0,K.e)(ue,ke=>{var Ae;null===(Ae=ze.next)||void 0===Ae||Ae.call(ze,ke),ue.next(ke)},()=>{var ke;Fe=!1,null===(ke=ze.complete)||void 0===ke||ke.call(ze),ue.complete()},ke=>{var Ae;Fe=!1,null===(Ae=ze.error)||void 0===Ae||Ae.call(ze,ke),ue.error(ke)},()=>{var ke,Ae;Fe&&(null===(ke=ze.unsubscribe)||void 0===ke||ke.call(ze)),null===(Ae=ze.finalize)||void 0===Ae||Ae.call(ze)}))}):le.Z}},8124:(on,it,k)=>{"use strict";k.d(it,{_:()=>le});var u=k(7696),z=k(5448),K=k(7773);function le(pe=be){return(0,z.i)((ce,We)=>{let ze=!1;ce.subscribe((0,K.e)(We,ge=>{ze=!0,We.next(ge)},()=>ze?We.complete():We.error(pe())))})}function be(){return new u.G}},1364:(on,it,k)=>{"use strict";k.d(it,{m:()=>be});var u=k(6928);class z extends u.wH{constructor(ce,We){super()}schedule(ce,We=0){return this}}const K={setInterval(pe,ce,...We){const{delegate:ze}=K;return null!=ze&&ze.setInterval?ze.setInterval(pe,ce,...We):setInterval(pe,ce,...We)},clearInterval(pe){const{delegate:ce}=K;return((null==ce?void 0:ce.clearInterval)||clearInterval)(pe)},delegate:void 0};var le=k(1248);class be extends z{constructor(ce,We){super(ce,We),this.scheduler=ce,this.work=We,this.pending=!1}schedule(ce,We=0){var ze;if(this.closed)return this;this.state=ce;const ge=this.id,ue=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(ue,ge,We)),this.pending=!0,this.delay=We,this.id=null!==(ze=this.id)&&void 0!==ze?ze:this.requestAsyncId(ue,this.id,We),this}requestAsyncId(ce,We,ze=0){return K.setInterval(ce.flush.bind(ce,this),ze)}recycleAsyncId(ce,We,ze=0){if(null!=ze&&this.delay===ze&&!1===this.pending)return We;null!=We&&K.clearInterval(We)}execute(ce,We){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ze=this._execute(ce,We);if(ze)return ze;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,We){let ge,ze=!1;try{this.work(ce)}catch(ue){ze=!0,ge=ue||new Error("Scheduled action threw falsy error")}if(ze)return this.unsubscribe(),ge}unsubscribe(){if(!this.closed){const{id:ce,scheduler:We}=this,{actions:ze}=We;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.k)(ze,this),null!=ce&&(this.id=this.recycleAsyncId(We,ce,null)),this.delay=null,super.unsubscribe()}}}},9816:(on,it,k)=>{"use strict";k.d(it,{k:()=>K});var u=k(5960);class z{constructor(be,pe=z.now){this.schedulerActionCtor=be,this.now=pe}schedule(be,pe=0,ce){return new this.schedulerActionCtor(this,be).schedule(ce,pe)}}z.now=u.K.now;class K extends z{constructor(be,pe=z.now){super(be,pe),this.actions=[],this._active=!1}flush(be){const{actions:pe}=this;if(this._active)return void pe.push(be);let ce;this._active=!0;do{if(ce=be.execute(be.state,be.delay))break}while(be=pe.shift());if(this._active=!1,ce){for(;be=pe.shift();)be.unsubscribe();throw ce}}}},112:(on,it,k)=>{"use strict";k.d(it,{M:()=>K});var u=k(1364);const K=new(k(9816).k)(u.m)},5960:(on,it,k)=>{"use strict";k.d(it,{K:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3376:(on,it,k)=>{"use strict";k.d(it,{u:()=>u});const u={setTimeout(z,K,...le){const{delegate:be}=u;return null!=be&&be.setTimeout?be.setTimeout(z,K,...le):setTimeout(z,K,...le)},clearTimeout(z){const{delegate:K}=u;return((null==K?void 0:K.clearTimeout)||clearTimeout)(z)},delegate:void 0}},3835:(on,it,k)=>{"use strict";k.d(it,{w:()=>z});const z=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},472:(on,it,k)=>{"use strict";k.d(it,{a:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7696:(on,it,k)=>{"use strict";k.d(it,{G:()=>z});const z=(0,k(4912).w)(K=>function(){K(this),this.name="EmptyError",this.message="no elements in sequence"})},9472:(on,it,k)=>{"use strict";k.d(it,{_8:()=>pe,yu:()=>le,e_:()=>be});var u=k(8880);function K(ce){return ce[ce.length-1]}function le(ce){return(0,u.m)(K(ce))?ce.pop():void 0}function be(ce){return function z(ce){return ce&&(0,u.m)(ce.schedule)}(K(ce))?ce.pop():void 0}function pe(ce,We){return"number"==typeof K(ce)?ce.pop():We}},4300:(on,it,k)=>{"use strict";k.d(it,{Q:()=>be});const{isArray:u}=Array,{getPrototypeOf:z,prototype:K,keys:le}=Object;function be(ce){if(1===ce.length){const We=ce[0];if(u(We))return{args:We,keys:null};if(function pe(ce){return ce&&"object"==typeof ce&&z(ce)===K}(We)){const ze=le(We);return{args:ze.map(ge=>We[ge]),keys:ze}}}return{args:ce,keys:null}}},1248:(on,it,k)=>{"use strict";function u(z,K){if(z){const le=z.indexOf(K);0<=le&&z.splice(le,1)}}k.d(it,{k:()=>u})},4912:(on,it,k)=>{"use strict";function u(z){const le=z(be=>{Error.call(be),be.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}k.d(it,{w:()=>u})},7904:(on,it,k)=>{"use strict";function u(z,K){return z.reduce((le,be,pe)=>(le[be]=K[pe],le),{})}k.d(it,{q:()=>u})},2075:(on,it,k)=>{"use strict";k.d(it,{c:()=>K,q:()=>le});var u=k(4491);let z=null;function K(be){if(u.config.useDeprecatedSynchronousErrorHandling){const pe=!z;if(pe&&(z={errorThrown:!1,error:null}),be(),pe){const{errorThrown:ce,error:We}=z;if(z=null,ce)throw We}}else be()}function le(be){u.config.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=be)}},9399:(on,it,k)=>{"use strict";function u(z,K,le,be=0,pe=!1){const ce=K.schedule(function(){le(),pe?z.add(this.schedule(null,be)):this.unsubscribe()},be);if(z.add(ce),!pe)return ce}k.d(it,{_:()=>u})},528:(on,it,k)=>{"use strict";function u(z){return z}k.d(it,{Z:()=>u})},5428:(on,it,k)=>{"use strict";k.d(it,{G:()=>u});const u=z=>z&&"number"==typeof z.length&&"function"!=typeof z},376:(on,it,k)=>{"use strict";k.d(it,{E:()=>z});var u=k(8880);function z(K){return Symbol.asyncIterator&&(0,u.m)(null==K?void 0:K[Symbol.asyncIterator])}},8880:(on,it,k)=>{"use strict";function u(z){return"function"==typeof z}k.d(it,{m:()=>u})},5099:(on,it,k)=>{"use strict";k.d(it,{O:()=>K});var u=k(472),z=k(8880);function K(le){return(0,z.m)(le[u.a])}},1688:(on,it,k)=>{"use strict";k.d(it,{i:()=>K});var u=k(3835),z=k(8880);function K(le){return(0,z.m)(null==le?void 0:le[u.w])}},5432:(on,it,k)=>{"use strict";k.d(it,{u:()=>z});var u=k(8880);function z(K){return(0,u.m)(null==K?void 0:K.then)}},5832:(on,it,k)=>{"use strict";k.d(it,{K:()=>le,_:()=>K});var u=k(1316),z=k(8880);function K(be){return(0,u.o7)(this,arguments,function*(){const ce=be.getReader();try{for(;;){const{value:We,done:ze}=yield(0,u.U1)(ce.read());if(ze)return yield(0,u.U1)(void 0);yield yield(0,u.U1)(We)}}finally{ce.releaseLock()}})}function le(be){return(0,z.m)(null==be?void 0:be.getReader)}},5448:(on,it,k)=>{"use strict";k.d(it,{e:()=>z,i:()=>K});var u=k(8880);function z(le){return(0,u.m)(null==le?void 0:le.lift)}function K(le){return be=>{if(z(be))return be.lift(function(pe){try{return le(pe,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},4187:(on,it,k)=>{"use strict";k.d(it,{j:()=>le});var u=k(4704);const{isArray:z}=Array;function le(be){return(0,u.k)(pe=>function K(be,pe){return z(pe)?be(...pe):be(pe)}(be,pe))}},308:(on,it,k)=>{"use strict";function u(){}k.d(it,{K:()=>u})},3928:(on,it,k)=>{"use strict";k.d(it,{W:()=>z,Y:()=>K});var u=k(528);function z(...le){return K(le)}function K(le){return 0===le.length?u.Z:1===le.length?le[0]:function(pe){return le.reduce((ce,We)=>We(ce),pe)}}},1984:(on,it,k)=>{"use strict";k.d(it,{U:()=>K});var u=k(4491),z=k(3376);function K(le){z.u.setTimeout(()=>{const{onUnhandledError:be}=u.config;if(!be)throw le;be(le)})}},8272:(on,it,k)=>{"use strict";function u(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(it,{W:()=>u})},1480:(on,it,k)=>{var u={"./ion-accordion_2.entry.js":[8956,9312,8956],"./ion-action-sheet.entry.js":[6736,9312,6736],"./ion-alert.entry.js":[1644,9312,1644],"./ion-app_8.entry.js":[3936,9312,3936],"./ion-avatar_3.entry.js":[9428,9428],"./ion-back-button.entry.js":[6932,9312,6932],"./ion-backdrop.entry.js":[8019,8019],"./ion-breadcrumb_2.entry.js":[7752,9312,7752],"./ion-button_2.entry.js":[9580,9580],"./ion-card_5.entry.js":[1048,1048],"./ion-checkbox.entry.js":[3752,9312,3752],"./ion-chip.entry.js":[1492,1492],"./ion-col_3.entry.js":[9584,9584],"./ion-datetime-button.entry.js":[7864,8832,7864],"./ion-datetime_3.entry.js":[8048,8832,9312,8048],"./ion-fab_3.entry.js":[1812,9312,1812],"./ion-img.entry.js":[3296,3296],"./ion-infinite-scroll_2.entry.js":[1488,9312,1488],"./ion-input.entry.js":[3500,9312,3500],"./ion-item-option_3.entry.js":[2448,9312,2448],"./ion-item_8.entry.js":[8772,9312,8772],"./ion-loading.entry.js":[2948,9312,2948],"./ion-menu_3.entry.js":[7676,9312,7676],"./ion-modal.entry.js":[6824,9312,6824],"./ion-nav_2.entry.js":[2372,9312,2372],"./ion-picker-column-internal.entry.js":[8232,9312,8232],"./ion-picker-internal.entry.js":[4656,4656],"./ion-popover.entry.js":[4168,9312,4168],"./ion-progress-bar.entry.js":[3264,3264],"./ion-radio_2.entry.js":[7176,9312,7176],"./ion-range.entry.js":[3180,9312,3180],"./ion-refresher_2.entry.js":[2e3,9312,2e3],"./ion-reorder_2.entry.js":[3604,9312,3604],"./ion-ripple-effect.entry.js":[3667,3667],"./ion-route_4.entry.js":[4284,4284],"./ion-searchbar.entry.js":[2580,9312,2580],"./ion-segment_2.entry.js":[7528,9312,7528],"./ion-select_3.entry.js":[4272,9312,4272],"./ion-spinner.entry.js":[1172,9312,1172],"./ion-split-pane.entry.js":[2624,2624],"./ion-tab-bar_2.entry.js":[1708,9312,1708],"./ion-tab_2.entry.js":[5956,5956],"./ion-text.entry.js":[5828,5828],"./ion-textarea.entry.js":[9440,9312,9440],"./ion-toast.entry.js":[9836,9312,9836],"./ion-toggle.entry.js":[2776,9312,2776]};function z(K){if(!k.o(u,K))return Promise.resolve().then(()=>{var pe=new Error("Cannot find module '"+K+"'");throw pe.code="MODULE_NOT_FOUND",pe});var le=u[K],be=le[0];return Promise.all(le.slice(1).map(k.e)).then(()=>k(be))}z.keys=()=>Object.keys(u),z.id=1480,on.exports=z},1368:(on,it,k)=>{"use strict";k.d(it,{MD:()=>ai,MP:()=>Pe,OM:()=>jo,Qd:()=>ke,Sg:()=>Vi,Ud:()=>ce,XV:()=>dt,YZ:()=>ds,_k:()=>Io,ay:()=>_e,mQ:()=>ze,mg:()=>be,oB:()=>Me,uC:()=>rt,u_:()=>he,uf:()=>Eo,ug:()=>le,uy:()=>K});var u=k(4496);let z=null;function K(){return z}function le(C){var V;null!==(V=z)&&void 0!==V||(z=C)}class be{}const ce=new u.UbH("");let We=(()=>{var C;class V{historyGo(L){throw new Error("")}}return(C=V).\u0275fac=function(L){return new(L||C)},C.\u0275prov=u.wxM({token:C,factory:()=>(0,u.uUt)(ge),providedIn:"platform"}),V})();const ze=new u.UbH("");let ge=(()=>{var C;class V extends We{constructor(){super(),this._doc=(0,u.uUt)(ce),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(L){const ie=K().getGlobalEventTarget(this._doc,"window");return ie.addEventListener("popstate",L,!1),()=>ie.removeEventListener("popstate",L)}onHashChange(L){const ie=K().getGlobalEventTarget(this._doc,"window");return ie.addEventListener("hashchange",L,!1),()=>ie.removeEventListener("hashchange",L)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(L){this._location.pathname=L}pushState(L,ie,xe){this._history.pushState(L,ie,xe)}replaceState(L,ie,xe){this._history.replaceState(L,ie,xe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}}return(C=V).\u0275fac=function(L){return new(L||C)},C.\u0275prov=u.wxM({token:C,factory:()=>new C,providedIn:"platform"}),V})();function ue(C,V){if(0==C.length)return V;if(0==V.length)return C;let ye=0;return C.endsWith("/")&&ye++,V.startsWith("/")&&ye++,2==ye?C+V.substring(1):1==ye?C+V:C+"/"+V}function Re(C){const V=C.match(/#|\?|$/),ye=V&&V.index||C.length;return C.slice(0,ye-("/"===C[ye-1]?1:0))+C.slice(ye)}function Fe(C){return C&&"?"!==C[0]?"?"+C:C}let ke=(()=>{var C;class V{historyGo(L){throw new Error("")}}return(C=V).\u0275fac=function(L){return new(L||C)},C.\u0275prov=u.wxM({token:C,factory:()=>(0,u.uUt)(rt),providedIn:"root"}),V})();const Ae=new u.UbH("");let rt=(()=>{var C;class V extends ke{constructor(L,ie){var xe,St,zt;super(),this._platformLocation=L,this._removeListenerFns=[],this._baseHref=null!==(xe=null!==(St=null!=ie?ie:this._platformLocation.getBaseHrefFromDOM())&&void 0!==St?St:null===(zt=(0,u.uUt)(ce).location)||void 0===zt?void 0:zt.origin)&&void 0!==xe?xe:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return ue(this._baseHref,L)}path(L=!1){const ie=this._platformLocation.pathname+Fe(this._platformLocation.search),xe=this._platformLocation.hash;return xe&&L?`${ie}${xe}`:ie}pushState(L,ie,xe,St){const zt=this.prepareExternalUrl(xe+Fe(St));this._platformLocation.pushState(L,ie,zt)}replaceState(L,ie,xe,St){const zt=this.prepareExternalUrl(xe+Fe(St));this._platformLocation.replaceState(L,ie,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){var ie,xe;null===(ie=(xe=this._platformLocation).historyGo)||void 0===ie||ie.call(xe,L)}}return(C=V).\u0275fac=function(L){return new(L||C)(u.CoB(We),u.CoB(Ae,8))},C.\u0275prov=u.wxM({token:C,factory:C.\u0275fac,providedIn:"root"}),V})(),Pe=(()=>{var C;class V extends ke{constructor(L,ie){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=ie&&(this._baseHref=ie)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){var ie;const xe=null!==(ie=this._platformLocation.hash)&&void 0!==ie?ie:"#";return xe.length>0?xe.substring(1):xe}prepareExternalUrl(L){const ie=ue(this._baseHref,L);return ie.length>0?"#"+ie:ie}pushState(L,ie,xe,St){let zt=this.prepareExternalUrl(xe+Fe(St));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.pushState(L,ie,zt)}replaceState(L,ie,xe,St){let zt=this.prepareExternalUrl(xe+Fe(St));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.replaceState(L,ie,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){var ie,xe;null===(ie=(xe=this._platformLocation).historyGo)||void 0===ie||ie.call(xe,L)}}return(C=V).\u0275fac=function(L){return new(L||C)(u.CoB(We),u.CoB(Ae,8))},C.\u0275prov=u.wxM({token:C,factory:C.\u0275fac}),V})(),Me=(()=>{var C;class V{constructor(L){this._subject=new u._w7,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=L;const ie=this._locationStrategy.getBaseHref();this._basePath=function Ve(C){if(new RegExp("^(https?:)?//").test(C)){const[,ye]=C.split(/\/\/[^\/]+/);return ye}return C}(Re(Ke(ie))),this._locationStrategy.onPopState(xe=>{this._subject.emit({url:this.path(!0),pop:!0,state:xe.state,type:xe.type})})}ngOnDestroy(){var L;null===(L=this._urlChangeSubscription)||void 0===L||L.unsubscribe(),this._urlChangeListeners=[]}path(L=!1){return this.normalize(this._locationStrategy.path(L))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(L,ie=""){return this.path()==this.normalize(L+Fe(ie))}normalize(L){return V.stripTrailingSlash(function vt(C,V){if(!C||!V.startsWith(C))return V;const ye=V.substring(C.length);return""===ye||["/",";","?","#"].includes(ye[0])?ye:V}(this._basePath,Ke(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._locationStrategy.prepareExternalUrl(L)}go(L,ie="",xe=null){this._locationStrategy.pushState(xe,"",L,ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+Fe(ie)),xe)}replaceState(L,ie="",xe=null){this._locationStrategy.replaceState(xe,"",L,ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+Fe(ie)),xe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(L=0){var ie,xe;null===(ie=(xe=this._locationStrategy).historyGo)||void 0===ie||ie.call(xe,L)}onUrlChange(L){var ie;return this._urlChangeListeners.push(L),null!==(ie=this._urlChangeSubscription)&&void 0!==ie||(this._urlChangeSubscription=this.subscribe(xe=>{this._notifyUrlChangeListeners(xe.url,xe.state)})),()=>{const xe=this._urlChangeListeners.indexOf(L);var St;this._urlChangeListeners.splice(xe,1),0===this._urlChangeListeners.length&&(null===(St=this._urlChangeSubscription)||void 0===St||St.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(L="",ie){this._urlChangeListeners.forEach(xe=>xe(L,ie))}subscribe(L,ie,xe){return this._subject.subscribe({next:L,error:ie,complete:xe})}}return(C=V).normalizeQueryParams=Fe,C.joinWithSlash=ue,C.stripTrailingSlash=Re,C.\u0275fac=function(L){return new(L||C)(u.CoB(ke))},C.\u0275prov=u.wxM({token:C,factory:()=>function Be(){return new Me((0,u.CoB)(ke))}(),providedIn:"root"}),V})();function Ke(C){return C.replace(/\/index.html$/,"")}function Vi(C,V){V=encodeURIComponent(V);for(const ye of C.split(";")){const L=ye.indexOf("="),[ie,xe]=-1==L?[ye,""]:[ye.slice(0,L),ye.slice(L+1)];if(ie.trim()===V)return decodeURIComponent(xe)}return null}class Dr{constructor(V,ye,L,ie){this.$implicit=V,this.ngForOf=ye,this.index=L,this.count=ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _e=(()=>{var C;class V{set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}constructor(L,ie,xe){this._viewContainer=L,this._template=ie,this._differs=xe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;!this._differ&&L&&(this._differ=this._differs.find(L).create(this.ngForTrackBy))}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const ie=this._viewContainer;L.forEachOperation((xe,St,zt)=>{if(null==xe.previousIndex)ie.createEmbeddedView(this._template,new Dr(xe.item,this._ngForOf,-1,-1),null===zt?void 0:zt);else if(null==zt)ie.remove(null===St?void 0:St);else if(null!==St){const pr=ie.get(St);ie.move(pr,zt),me(pr,xe)}});for(let xe=0,St=ie.length;xe<St;xe++){const pr=ie.get(xe).context;pr.index=xe,pr.count=St,pr.ngForOf=this._ngForOf}L.forEachIdentityChange(xe=>{me(ie.get(xe.currentIndex),xe)})}static ngTemplateContextGuard(L,ie){return!0}}return(C=V).\u0275fac=function(L){return new(L||C)(u.GI1(u.y8U),u.GI1(u.Yw2),u.GI1(u.Uj7))},C.\u0275dir=u.Sc5({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),V})();function me(C,V){C.context.$implicit=V.item}let he=(()=>{var C;class V{constructor(L,ie){this._viewContainer=L,this._context=new st,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ie}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){bt("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){bt("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,ie){return!0}}return(C=V).\u0275fac=function(L){return new(L||C)(u.GI1(u.y8U),u.GI1(u.Yw2))},C.\u0275dir=u.Sc5({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),V})();class st{constructor(){this.$implicit=null,this.ngIf=null}}function bt(C,V){if(V&&!V.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,u.GEN)(V)}'.`)}let dt=(()=>{var C;class V{constructor(L){this._viewContainerRef=L,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(L){if(this._shouldRecreateView(L)){var ie;const xe=this._viewContainerRef;if(this._viewRef&&xe.remove(xe.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const St=this._createContextForwardProxy();this._viewRef=xe.createEmbeddedView(this.ngTemplateOutlet,St,{injector:null!==(ie=this.ngTemplateOutletInjector)&&void 0!==ie?ie:void 0})}}_shouldRecreateView(L){return!!L.ngTemplateOutlet||!!L.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(L,ie,xe)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ie,xe),get:(L,ie,xe)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ie,xe)}})}}return(C=V).\u0275fac=function(L){return new(L||C)(u.GI1(u.y8U))},C.\u0275dir=u.Sc5({type:C,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.SYr]}),V})(),ai=(()=>{var C;class V{}return(C=V).\u0275fac=function(L){return new(L||C)},C.\u0275mod=u.a4G({type:C}),C.\u0275inj=u.s3X({}),V})();const Io="browser",mo="server";function Eo(C){return C===mo}let ds=(()=>{var C;class V{}return(C=V).\u0275prov=(0,u.wxM)({token:C,providedIn:"root",factory:()=>function Xo(C){return C===Io}((0,u.uUt)(u.AHE))?new Ro((0,u.uUt)(ce),window):new Mo}),V})();class Ro{constructor(V,ye){this.document=V,this.window=ye,this.offset=()=>[0,0]}setOffset(V){this.offset=Array.isArray(V)?()=>V:V}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(V){this.window.scrollTo(V[0],V[1])}scrollToAnchor(V){const ye=function Ui(C,V){const ye=C.getElementById(V)||C.getElementsByName(V)[0];if(ye)return ye;if("function"==typeof C.createTreeWalker&&C.body&&"function"==typeof C.body.attachShadow){const L=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let ie=L.currentNode;for(;ie;){const xe=ie.shadowRoot;if(xe){const St=xe.getElementById(V)||xe.querySelector(`[name="${V}"]`);if(St)return St}ie=L.nextNode()}}return null}(this.document,V);ye&&(this.scrollToElement(ye),ye.focus())}setHistoryScrollRestoration(V){this.window.history.scrollRestoration=V}scrollToElement(V){const ye=V.getBoundingClientRect(),L=ye.left+this.window.pageXOffset,ie=ye.top+this.window.pageYOffset,xe=this.offset();this.window.scrollTo(L-xe[0],ie-xe[1])}}class Mo{setOffset(V){}getScrollPosition(){return[0,0]}scrollToPosition(V){}scrollToAnchor(V){}setHistoryScrollRestoration(V){}}class jo{}},4496:(on,it,k)=>{"use strict";k.d(it,{qid:()=>F0,QHP:()=>de,kZF:()=>_T,Ev2:()=>BM,Swk:()=>Af,YND:()=>Li,kD9:()=>X_,ESV:()=>EM,ayF:()=>RM,syz:()=>dl,GMv:()=>Bi,SIe:()=>wa,eAe:()=>_l,_w7:()=>mr,_6O:()=>Dn,UbH:()=>H,zZn:()=>aa,Uj7:()=>qm,YNh:()=>Q_,KYU:()=>Qy,obV:()=>eg,oF$:()=>id,WW2:()=>lo,T7N:()=>$a,AHE:()=>Ye,crf:()=>xt,q87:()=>H_,O8F:()=>$m,yzm:()=>Bd,Qfh:()=>Tu,Yw2:()=>Kc,G4X:()=>mM,eOv:()=>mT,j1C:()=>HR,a8Z:()=>uT,y8U:()=>rv,K6R:()=>nr,I44:()=>ry,cZD:()=>fP,kdu:()=>gP,SIz:()=>ky,Gk1:()=>$E,grM:()=>ST,agy:()=>kM,wd:()=>ws,uUt:()=>Zr,sPQ:()=>OM,_Ap:()=>pn,m4O:()=>UM,o9M:()=>mP,SMS:()=>Cc,sRj:()=>sE,oPY:()=>cT,i4S:()=>Ic,GUM:()=>yg,g9Y:()=>oh,OBp:()=>Vt,aS5:()=>pT,Mn9:()=>gT,iMv:()=>p0,G58:()=>an,y02:()=>yD,IHs:()=>wn,K_M:()=>ch,Guz:()=>As,w5$:()=>k0,gX2:()=>vT,auf:()=>At,GEN:()=>Tn,eg9:()=>Jp,Wk5:()=>cr,QJr:()=>xy,SYr:()=>wc,M5G:()=>Nw,UHJ:()=>Ow,yG2:()=>jh,e48:()=>XE,eAK:()=>r0,szK:()=>aw,In1:()=>Ue,Sc5:()=>Qt,wxM:()=>Ir,s3X:()=>dc,a4G:()=>Ct,UTH:()=>$t,GI1:()=>qu,wR5:()=>c0,C_f:()=>f0,C$Y:()=>By,I0R:()=>Uy,KQA:()=>mD,otF:()=>Pd,CoB:()=>Ao,gJ8:()=>Xl,KEo:()=>am,qCj:()=>v0,Gqi:()=>cw,GaO:()=>YD,_Xx:()=>XD,kPM:()=>QD,E7m:()=>t0,wto:()=>uw,Gew:()=>dw,CGJ:()=>qs,usT:()=>xl,YFg:()=>Xv,yuY:()=>d,OEk:()=>Ew,cNF:()=>I0,oRS:()=>Wy,kNx:()=>Pw,iHE:()=>C0,OKB:()=>E0,CC$:()=>lw}),k(1528);let K=null,be=1;const pe=Symbol("SIGNAL");function ce(t){const n=K;return K=t,n}function ke(t){if((!Qe(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==be)){if(!t.producerMustRecompute(t)&&!vt(t))return t.dirty=!1,void(t.lastCleanEpoch=be);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=be}}function vt(t){ae(t);for(let n=0;n<t.producerNode.length;n++){const o=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==o.version||(ke(o),a!==o.version))return!0}return!1}function Oe(t,n){if(function X(t){var n,o;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(o=t.liveConsumerIndexOfThis)&&void 0!==o||(t.liveConsumerIndexOfThis=[])}(t),ae(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Oe(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],c=t.liveConsumerNode[n];ae(c),c.producerIndexOfThis[a]=n}}function Qe(t){var n,o;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(o=t.liveConsumerNode)||void 0===o?void 0:o.length)&&void 0!==n?n:0)>0}function ae(t){var n,o,a;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(o=t.producerIndexOfThis)&&void 0!==o||(t.producerIndexOfThis=[]),null!==(a=t.producerLastReadVersion)&&void 0!==a||(t.producerLastReadVersion=[])}let fn=null;var Hn=k(5657),Le=k(6928),_t=k(6700),yt=k(4704);const qt="https://g.co/ng/security#xss";class Vt extends Error{constructor(n,o){super(an(n,o)),this.code=n}}function an(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}function Vn(t){return n=>{setTimeout(t,void 0,n)}}const mr=class Nn extends Hn.E{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,o,a){let c=n,h=o||(()=>null),m=a;if(n&&"object"==typeof n){var _,D,O;const Z=n;c=null===(_=Z.next)||void 0===_?void 0:_.bind(Z),h=null===(D=Z.error)||void 0===D?void 0:D.bind(Z),m=null===(O=Z.complete)||void 0===O?void 0:O.bind(Z)}this.__isAsync&&(h=Vn(h),c&&(c=Vn(c)),m&&(m=Vn(m)));const W=super.subscribe({next:c,error:h,complete:m});return n instanceof Le.wH&&n.add(W),W}};var Dn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Dn||{});function Tn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Tn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const o=n.indexOf("\n");return-1===o?n:n.substring(0,o)}function Br(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}var _r=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(_r||{}),nr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(nr||{});function Rr(t){return{toString:t}.toString()}const wn=globalThis,rr={},Zn=[];function ft(t){for(let n in t)if(t[n]===ft)return n;throw Error("Could not find renamed property on target object.")}function ct(t,n){for(const o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=n[o])}const Pt=ft({\u0275cmp:ft}),nn=ft({\u0275dir:ft}),bn=ft({\u0275pipe:ft}),xn=ft({\u0275mod:ft}),zn=ft({\u0275fac:ft}),Cr=ft({__NG_ELEMENT_ID__:ft}),ir=ft({__NG_ENV_ID__:ft});var cr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(cr||{});function bi(t,n,o){let a=t.length;for(;;){const c=t.indexOf(n,o);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const h=n.length;if(c+h===a||t.charCodeAt(c+h)<=32)return c}o=c+1}}function Vi(t,n,o){let a=0;for(;a<o.length;){const c=o[a];if("number"==typeof c){if(0!==c)break;a++;const h=o[a++],m=o[a++],_=o[a++];t.setAttribute(n,m,_,h)}else{const h=c,m=o[++a];Oi(h)?t.setProperty(n,h,m):t.setAttribute(n,h,m),a++}}return a}function Mr(t){return 3===t||4===t||6===t}function Oi(t){return 64===t.charCodeAt(0)}function Ai(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let o=-1;for(let a=0;a<n.length;a++){const c=n[a];"number"==typeof c?o=c:0===o||Nr(t,o,c,null,-1===o||2===o?n[++a]:null)}}return t}function Nr(t,n,o,a,c){let h=0,m=t.length;if(-1===n)m=-1;else for(;h<t.length;){const _=t[h++];if("number"==typeof _){if(_===n){m=-1;break}if(_>n){m=h-1;break}}}for(;h<t.length;){const _=t[h];if("number"==typeof _)break;if(_===o){if(null===a)return void(null!==c&&(t[h+1]=c));if(a===t[h+1])return void(t[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==m&&(t.splice(m,0,n),h=m+1),t.splice(h++,0,o),null!==a&&t.splice(h++,0,a),null!==c&&t.splice(h++,0,c)}const lr="ng-template";function Dr(t,n,o){let a=0,c=!0;for(;a<t.length;){let h=t[a++];if("string"==typeof h&&c){const m=t[a++];if(o&&"class"===h&&-1!==bi(m.toLowerCase(),n,0))return!0}else{if(1===h){for(;a<t.length&&"string"==typeof(h=t[a++]);)if(h.toLowerCase()===n)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function _e(t){return 4===t.type&&t.value!==lr}function me(t,n,o){return n===(4!==t.type||o?t.value:lr)}function q(t,n,o){let a=4;const c=t.attrs||[],h=function un(t){for(let n=0;n<t.length;n++)if(Mr(t[n]))return n;return t.length}(c);let m=!1;for(let _=0;_<n.length;_++){const D=n[_];if("number"!=typeof D){if(!m)if(4&a){if(a=2|1&a,""!==D&&!me(t,D,o)||""===D&&1===n.length){if(he(a))return!1;m=!0}}else{const O=8&a?D:n[++_];if(8&a&&null!==t.attrs){if(!Dr(t.attrs,O,o)){if(he(a))return!1;m=!0}continue}const Z=st(8&a?"class":D,c,_e(t),o);if(-1===Z){if(he(a))return!1;m=!0;continue}if(""!==O){let Te;Te=Z>h?"":c[Z+1].toLowerCase();const qe=8&a?Te:null;if(qe&&-1!==bi(qe,O,0)||2&a&&O!==Te){if(he(a))return!1;m=!0}}}}else{if(!m&&!he(a)&&!he(D))return!1;if(m&&he(D))continue;m=!1,a=D|1&a}}return he(a)||m}function he(t){return 0==(1&t)}function st(t,n,o,a){if(null===n)return-1;let c=0;if(a||!o){let h=!1;for(;c<n.length;){const m=n[c];if(m===t)return c;if(3===m||6===m)h=!0;else{if(1===m||2===m){let _=n[++c];for(;"string"==typeof _;)_=n[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=h?1:2}return-1}return function gn(t,n){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===n)return o;o++}return-1}(n,t)}function bt(t,n,o=!1){for(let a=0;a<n.length;a++)if(q(t,n[a],o))return!0;return!1}function Un(t,n){e:for(let o=0;o<n.length;o++){const a=n[o];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function ui(t,n){return t?":not("+n.trim()+")":n}function pt(t){let n=t[0],o=1,a=2,c="",h=!1;for(;o<t.length;){let m=t[o];if("string"==typeof m)if(2&a){const _=t[++o];c+="["+m+(_.length>0?'="'+_+'"':"")+"]"}else 8&a?c+="."+m:4&a&&(c+=" "+m);else""!==c&&!he(m)&&(n+=ui(h,c),c=""),a=m,h=h||!he(a);o++}return""!==c&&(n+=ui(h,c)),n}function Ue(t){return Rr(()=>{var n;const o=Pr(t),a={...o,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===_r.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||nr.Emulated,styles:t.styles||Zn,_:null,schemas:t.schemas||null,tView:null,id:""};qr(a);const c=t.dependencies;return a.directiveDefs=T(c,!1),a.pipeDefs=T(c,!0),a.id=function x(t){let n=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of o)n=Math.imul(31,n)+c.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(a),a})}function He(t){return wt(t)||Ht(t)}function dt(t){return null!==t}function Ct(t){return Rr(()=>({type:t.type,bootstrap:t.bootstrap||Zn,declarations:t.declarations||Zn,imports:t.imports||Zn,exports:t.exports||Zn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ot(t,n){if(null==t)return rr;const o={};for(const c in t)if(t.hasOwnProperty(c)){const h=t[c];let m,_,D=cr.None;var a;Array.isArray(h)?(D=h[0],m=h[1],_=null!==(a=h[2])&&void 0!==a?a:m):(m=h,_=h),n?(o[m]=D!==cr.None?[c,D]:c,n[m]=_):o[m]=c}return o}function Qt(t){return Rr(()=>{const n=Pr(t);return qr(n),n})}function $t(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function wt(t){return t[Pt]||null}function Ht(t){return t[nn]||null}function rn(t){return t[bn]||null}function pn(t){const n=wt(t)||Ht(t)||rn(t);return null!==n&&n.standalone}function qn(t,n){const o=t[xn]||null;if(!o&&!0===n)throw new Error(`Type ${Tn(t)} does not have '\u0275mod' property.`);return o}function Pr(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||rr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Zn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ot(t.inputs,n),outputs:Ot(t.outputs),debugInfo:null}}function qr(t){var n;null===(n=t.features)||void 0===n||n.forEach(o=>o(t))}function T(t,n){if(!t)return null;const o=n?rn:He;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(dt)}const ne=0,Ee=1,Yt=2,dr=3,si=4,wr=5,Mi=6,Hi=7,jr=8,ci=9,to=10,An=11,go=12,_o=13,yo=14,ai=15,Io=16,mo=17,Wi=18,Ci=19,Xo=20,Eo=21,zi=22,co=23,Yn=25,ds=1,Ui=7,jo=9,Pi=10;var Co=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Co||{});function Di(t){return Array.isArray(t)&&"object"==typeof t[ds]}function Si(t){return Array.isArray(t)&&!0===t[ds]}function Do(t){return 0!=(4&t.flags)}function Yi(t){return t.componentOffset>-1}function ki(t){return 1==(1&t.flags)}function _i(t){return!!t.template}function li(t){return 0!=(512&t[Yt])}let mn=!1;function Wn(t){for(;Array.isArray(t);)t=t[ne];return t}function Xr(t,n){return Wn(n[t])}function Kr(t,n){return Wn(n[t.index])}function Qi(t,n){return t.data[n]}function Hr(t,n){const o=n[t];return Di(o)?o:o[ne]}function Jo(t){return 128==(128&t[Yt])}function Zi(t,n){return null==n?null:t[n]}function ro(t){t[mo]=0}function No(t){1024&t[Yt]||(t[Yt]|=1024,Jo(t)&&es(t))}function fs(t){var n;return!!(9216&t[Yt]||null!==(n=t[co])&&void 0!==n&&n.dirty)}function Na(t){if(fs(t))es(t);else if(64&t[Yt])if(function Xn(){return mn}())t[Yt]|=1024,es(t);else{var n;null===(n=t[to].changeDetectionScheduler)||void 0===n||n.notify()}}function es(t){var n;null===(n=t[to].changeDetectionScheduler)||void 0===n||n.notify();let o=hi(t);for(;null!==o&&!(8192&o[Yt])&&(o[Yt]|=8192,Jo(o));)o=hi(o)}function zs(t,n){if(256==(256&t[Yt]))throw new Vt(911,!1);null===t[Eo]&&(t[Eo]=[]),t[Eo].push(n)}function hi(t){const n=t[dr];return Si(n)?n[dr]:n}const er={lFrame:Yr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function nl(){return er.bindingsEnabled}function Ps(){return null!==er.skipHydrationRootTNode}function Nt(){return er.lFrame.lView}function yr(){return er.lFrame.tView}function xl(t){return er.lFrame.contextLView=t,t[jr]}function qs(t){return er.lFrame.contextLView=null,t}function ri(){let t=rl();for(;null!==t&&64===t.type;)t=t.parent;return t}function rl(){return er.lFrame.currentTNode}function Oo(t,n){const o=er.lFrame;o.currentTNode=t,o.isParent=n}function il(){return er.lFrame.isParent}function xs(){er.lFrame.isParent=!1}function ko(){return er.lFrame.bindingIndex++}function L(t,n){const o=er.lFrame;o.bindingIndex=o.bindingRootIndex=t,xe(n)}function xe(t){er.lFrame.currentDirectiveIndex=t}function zt(){return er.lFrame.currentQueryIndex}function pr(t){er.lFrame.currentQueryIndex=t}function Lr(t){const n=t[Ee];return 2===n.type?n.declTNode:1===n.type?t[wr]:null}function Er(t,n,o){if(o&Dn.SkipSelf){let c=n,h=t;for(;!(c=c.parent,null!==c||o&Dn.Host||(c=Lr(h),null===c||(h=h[yo],10&c.type))););if(null===c)return!1;n=c,t=h}const a=er.lFrame=vr();return a.currentTNode=n,a.lView=t,!0}function gr(t){const n=vr(),o=t[Ee];er.lFrame=n,n.currentTNode=o.firstChild,n.lView=t,n.tView=o,n.contextLView=t,n.bindingIndex=o.bindingStartIndex,n.inI18n=!1}function vr(){const t=er.lFrame,n=null===t?null:t.child;return null===n?Yr(t):n}function Yr(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function ur(){const t=er.lFrame;return er.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ns=ur;function Lo(){const t=ur();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xi(){return er.lFrame.selectedIndex}function io(t){er.lFrame.selectedIndex=t}function sr(){const t=er.lFrame;return Qi(t.tView,t.selectedIndex)}let Nl=!0;function Xs(){return Nl}function Fo(t){Nl=t}function Ol(){return fa(ri(),Nt())}function fa(t,n){return new Bi(Kr(t,n))}let vn,Bi=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=Ol,n})();function uc(t){return t instanceof Bi?t.nativeElement:t}function kl(t,n){t.forEach(o=>Array.isArray(o)?kl(o,n):n(o))}function ad(t,n,o){n>=t.length?t.push(o):t.splice(n,0,o)}function Zs(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Ko(t,n,o){let a=Ls(t,n);return a>=0?t[1|a]=o:(a=~a,function uh(t,n,o,a){let c=t.length;if(c==n)t.push(o,a);else if(1===c)t.push(a,t[0]),t[0]=o;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=o,t[n+1]=a}}(t,a,n,o)),a}function Fr(t,n){const o=Ls(t,n);if(o>=0)return t[1|o]}function Ls(t,n){return function ka(t,n,o){let a=0,c=t.length>>o;for(;c!==a;){const h=a+(c-a>>1),m=t[h<<o];if(n===m)return h<<o;m>n?c=h:a=h+1}return~(c<<o)}(t,n,1)}function cc(){return this._results[Symbol.iterator]()}class Xt{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new mr}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const o=Xt.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=cc)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,o){return this._results.reduce(n,o)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,o){this.dirty=!1;const a=function Vo(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Rf(t,n,o){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],h=n[a];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(this._results,a,o))&&(this._results=a,this.length=a.length,this.last=a[this.length-1],this.first=a[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function $n(t){return 128==(128&t.flags)}function At(t){vn=t}function Ir(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dc(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ll(t){return dh(t,b)||dh(t,A)}function ch(t){return null!==Ll(t)}function dh(t,n){return t.hasOwnProperty(n)?t[n]:null}function y(t){return t&&(t.hasOwnProperty(P)||t.hasOwnProperty(N))?t[P]:null}const b=ft({\u0275prov:ft}),P=ft({\u0275inj:ft}),A=ft({ngInjectableDef:ft}),N=ft({ngInjectorDef:ft});class H{constructor(n,o){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ir({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const de=new H("",{providedIn:"root",factory:()=>ht}),ht="ng",xt=new H(""),Ye=new H("",{providedIn:"platform",factory:()=>"unknown"}),Li=new H("",{providedIn:"root",factory:()=>{var t;return(null===(t=function Ut(){if(void 0!==vn)return vn;if(typeof document<"u")return document;throw new Vt(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}}),ms=ft({__forward_ref__:ft});function ws(t){return t.__forward_ref__=ws,t.toString=function(){return Tn(this())},t}function Kn(t){return ma(t)?t():t}function ma(t){return"function"==typeof t&&t.hasOwnProperty(ms)&&t.__forward_ref__===ws}function hc(t){return t&&!!t.\u0275providers}function tt(t){return"string"==typeof t?t:null==t?"":String(t)}function Js(t,n){throw new Vt(-201,!1)}let pc;function cd(){return pc}function vs(t){const n=pc;return pc=t,n}function dd(t,n,o){const a=Ll(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&Dn.Optional?null:void 0!==n?n:void Js()}const Fa={},gu="__NG_DI_FLAG__",oo="ngTempTokenPath",mu=/\n/gm,ph="__source";let ea;function _a(t){const n=ea;return ea=t,n}function Ag(t,n=Dn.Default){if(void 0===ea)throw new Vt(-203,!1);return null===ea?dd(t,void 0,n):ea.get(t,n&Dn.Optional?null:void 0,n)}function Ao(t,n=Dn.Default){return(cd()||Ag)(Kn(t),n)}function Zr(t,n=Dn.Default){return Ao(t,fd(n))}function fd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function mh(t){const n=[];for(let o=0;o<t.length;o++){const a=Kn(t[o]);if(Array.isArray(a)){if(0===a.length)throw new Vt(900,!1);let c,h=Dn.Default;for(let m=0;m<a.length;m++){const _=a[m],D=Sg(_);"number"==typeof D?-1===D?c=_.token:h|=D:c=_}n.push(Ao(c,h))}else n.push(Ao(a))}return n}function Ul(t,n){return t[gu]=n,t.prototype[gu]=n,t}function Sg(t){return t[gu]}let Ua=()=>null;function pd(t,n,o=!1){return Ua(t,n,o)}const ul="__parameters__";function Us(t,n,o){return Rr(()=>{const a=function _c(t){return function(...o){if(t){const a=t(...o);for(const c in a)this[c]=a[c]}}}(n);function c(...h){if(this instanceof c)return a.apply(this,h),this;const m=new c(...h);return _.annotation=m,_;function _(D,O,W){const Z=D.hasOwnProperty(ul)?D[ul]:Object.defineProperty(D,ul,{value:[]})[ul];for(;Z.length<=W;)Z.push(null);return(Z[W]=Z[W]||[]).push(m),D}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}const $a=Ul(Us("Optional"),8),Tu=Ul(Us("SkipSelf"),4);function Ga(t,n){return t.hasOwnProperty(zn)?t[zn]:null}const dl=new H(""),Vf=new H("",-1),so=new H("");class bu{get(n,o=Fa){if(o===Fa){const a=new Error(`NullInjectorError: No provider for ${Tn(n)}!`);throw a.name="NullInjectorError",a}return o}}function ja(...t){return{\u0275providers:vd(0,t),\u0275fromNgModule:!0}}function vd(t,...n){const o=[],a=new Set;let c;const h=m=>{o.push(m)};return kl(n,m=>{const _=m;hl(_,h,[],a)&&(c||(c=[]),c.push(_))}),void 0!==c&&yh(c,h),o}function yh(t,n){for(let o=0;o<t.length;o++){const{ngModule:a,providers:c}=t[o];_d(c,h=>{n(h,a)})}}function hl(t,n,o,a){if(!(t=Kn(t)))return!1;let c=null,h=y(t);const m=!h&&wt(t);if(h||m){if(m&&!m.standalone)return!1;c=t}else{const D=t.ngModule;if(h=y(D),!h)return!1;c=D}const _=a.has(c);if(m){if(_)return!1;if(a.add(c),m.dependencies){const D="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const O of D)hl(O,n,o,a)}}else{if(!h)return!1;{if(null!=h.imports&&!_){let O;a.add(c);try{kl(h.imports,W=>{hl(W,n,o,a)&&(O||(O=[]),O.push(W))})}finally{}void 0!==O&&yh(O,n)}if(!_){const O=Ga(c)||(()=>new c);n({provide:c,useFactory:O,deps:Zn},c),n({provide:so,useValue:c,multi:!0},c),n({provide:dl,useValue:()=>Ao(c),multi:!0},c)}const D=h.providers;if(null!=D&&!_){const O=t;_d(D,W=>{n(W,O)})}}}return c!==t&&void 0!==t.providers}function _d(t,n){for(let o of t)hc(o)&&(o=o.\u0275providers),Array.isArray(o)?_d(o,n):n(o)}const Jr=ft({provide:String,useValue:ft});function gi(t){return null!==t&&"object"==typeof t&&Jr in t}function Ha(t){return"function"==typeof t}const Ic=new H(""),Ec={},yd={};let Id;function Au(){return void 0===Id&&(Id=new bu),Id}class wa{}class Su extends wa{get destroyed(){return this._destroyed}constructor(n,o,a,c){super(),this.parent=o,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jl(n,m=>this.processProvider(m)),this.records.set(Vf,Mu(void 0,this)),c.has("environment")&&this.records.set(wa,Mu(void 0,this));const h=this.records.get(Ic);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(so,Zn,Dn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const o=_a(this),a=vs(void 0);try{return n()}finally{_a(o),vs(a)}}get(n,o=Fa,a=Dn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(ir))return n[ir](this);a=fd(a);const h=_a(this),m=vs(void 0);try{if(!(a&Dn.SkipSelf)){let D=this.records.get(n);if(void 0===D){const O=function Gl(t){return"function"==typeof t||"object"==typeof t&&t instanceof H}(n)&&Ll(n);D=O&&this.injectableDefInScope(O)?Mu(Ru(n),Ec):null,this.records.set(n,D)}if(null!=D)return this.hydrate(n,D)}return(a&Dn.Self?Au():this.parent).get(n,o=a&Dn.Optional&&o===Fa?null:o)}catch(_){if("NullInjectorError"===_.name){if((_[oo]=_[oo]||[]).unshift(Tn(n)),h)throw _;return function Rg(t,n,o,a){const c=t[oo];throw n[ph]&&c.unshift(n[ph]),t.message=function vh(t,n,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Tn(n);if(Array.isArray(n))c=n.map(Tn).join(" -> ");else if("object"==typeof n){let h=[];for(let m in n)if(n.hasOwnProperty(m)){let _=n[m];h.push(m+":"+("string"==typeof _?JSON.stringify(_):Tn(_)))}c=`{${h.join(", ")}}`}return`${o}${a?"("+a+")":""}[${c}]: ${t.replace(mu,"\n  ")}`}("\n"+t.message,c,o,a),t.ngTokenPath=c,t[oo]=null,t}(_,n,"R3InjectorError",this.source)}throw _}finally{vs(m),_a(h)}}resolveInjectorInitializers(){const n=_a(this),o=vs(void 0);try{const c=this.get(dl,Zn,Dn.Self);for(const h of c)h()}finally{_a(n),vs(o)}}toString(){const n=[],o=this.records;for(const a of o.keys())n.push(Tn(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Vt(205,!1)}processProvider(n){let o=Ha(n=Kn(n))?n:Kn(n&&n.provide);const a=function Uf(t){return gi(t)?Mu(void 0,t.useValue):Mu(Ed(t),Ec)}(n);if(!Ha(n)&&!0===n.multi){let c=this.records.get(o);c||(c=Mu(void 0,Ec,!0),c.factory=()=>mh(c.multi),this.records.set(o,c)),o=n,c.multi.push(n)}this.records.set(o,a)}hydrate(n,o){return o.value===Ec&&(o.value=yd,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Eh(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(n){if(!n.providedIn)return!1;const o=Kn(n.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(n){const o=this._onDestroyHooks.indexOf(n);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Ru(t){const n=Ll(t),o=null!==n?n.factory:Ga(t);if(null!==o)return o;if(t instanceof H)throw new Vt(204,!1);if(t instanceof Function)return function Pg(t){if(t.length>0)throw new Vt(204,!1);const o=function Pf(t){return t&&(t[b]||t[A])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new Vt(204,!1)}function Ed(t,n,o){let a;if(Ha(t)){const c=Kn(t);return Ga(c)||Ru(c)}if(gi(t))a=()=>Kn(t.useValue);else if(function Ih(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...mh(t.deps||[]));else if(function $l(t){return!(!t||!t.useExisting)}(t))a=()=>Ao(Kn(t.useExisting));else{const c=Kn(t&&(t.useClass||t.provide));if(!function xg(t){return!!t.deps}(t))return Ga(c)||Ru(c);a=()=>new c(...mh(t.deps))}return a}function Mu(t,n,o=!1){return{factory:t,value:n,multi:o?[]:void 0}}function jl(t,n){for(const o of t)Array.isArray(o)?jl(o,n):o&&hc(o)?jl(o.\u0275providers,n):n(o)}function Cc(t,n){t instanceof Su&&t.assertNotDestroyed();const a=_a(t),c=vs(void 0);try{return n()}finally{_a(a),vs(c)}}class za{constructor(n,o,a){this.previousValue=n,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ch(t,n,o,a){null!==n?n.applyValueToInputSignal(n,a):t[o]=a}function wc(){return jf}function jf(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ng),qa}function qa(){const t=Td(this),n=null==t?void 0:t.current;if(n){const o=t.previous;if(o===rr)t.previous=n;else for(let a in n)o[a]=n[a];t.current=null,this.ngOnChanges(n)}}function Ng(t,n,o,a,c){const h=this.declaredInputs[a],m=Td(t)||function zl(t,n){return t[is]=n}(t,{previous:rr,current:null}),_=m.current||(m.current={}),D=m.previous,O=D[h];_[h]=new za(O&&O.currentValue,o,D===rr),Ch(t,n,c,o)}wc.ngInherit=!0;const is="__ngSimpleChanges__";function Td(t){return t[is]||null}const oa=function(t,n,o){};function bd(t,n){for(let O=n.directiveStart,W=n.directiveEnd;O<W;O++){const Te=t.data[O].type.prototype,{ngAfterContentInit:qe,ngAfterContentChecked:Et,ngAfterViewInit:Bt,ngAfterViewChecked:en,ngOnDestroy:Cn}=Te;var o,a,c,h,m,_,D;qe&&(null!==(o=t.contentHooks)&&void 0!==o?o:t.contentHooks=[]).push(-O,qe),Et&&((null!==(a=t.contentHooks)&&void 0!==a?a:t.contentHooks=[]).push(O,Et),(null!==(c=t.contentCheckHooks)&&void 0!==c?c:t.contentCheckHooks=[]).push(O,Et)),Bt&&(null!==(h=t.viewHooks)&&void 0!==h?h:t.viewHooks=[]).push(-O,Bt),en&&((null!==(m=t.viewHooks)&&void 0!==m?m:t.viewHooks=[]).push(O,en),(null!==(_=t.viewCheckHooks)&&void 0!==_?_:t.viewCheckHooks=[]).push(O,en)),null!=Cn&&(null!==(D=t.destroyHooks)&&void 0!==D?D:t.destroyHooks=[]).push(O,Cn)}}function Yo(t,n,o){Sd(t,n,3,o)}function hr(t,n,o,a){(3&t[Yt])===o&&Sd(t,n,o,a)}function Ad(t,n){let o=t[Yt];(3&o)===n&&(o&=16383,o+=1,t[Yt]=o)}function Sd(t,n,o,a){const h=null!=a?a:-1,m=n.length-1;let _=0;for(let D=void 0!==a?65535&t[mo]:0;D<m;D++)if("number"==typeof n[D+1]){if(_=n[D],null!=a&&_>=a)break}else n[D]<0&&(t[mo]+=65536),(_<h||-1==h)&&(Rd(t,o,n,D),t[mo]=(4294901760&t[mo])+D+2),D++}function Tc(t,n){oa(4,t,n);const o=ce(null);try{n.call(t)}finally{ce(o),oa(5,t,n)}}function Rd(t,n,o,a){const c=o[a]<0,h=o[a+1],_=t[c?-o[a]:o[a]];c?t[Yt]>>14<t[mo]>>16&&(3&t[Yt])===n&&(t[Yt]+=16384,Tc(_,h)):Tc(_,h)}const Kl=-1;class Ka{constructor(n,o,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function Go(t){return t!==Kl}function Bs(t){return 32767&t}function Ou(t,n){let o=function Md(t){return t>>16}(t),a=n;for(;o>0;)a=a[yo],o--;return a}let os=!0;function gl(t){const n=os;return os=t,n}const Fi=255,bc=5;let ku=0;const sa={};function ml(t,n){const o=v(t,n);if(-1!==o)return o;const a=n[Ee];a.firstCreatePass&&(t.injectorIndex=n.length,wh(a.data,t),wh(n,null),wh(a.blueprint,null));const c=f(t,n),h=t.injectorIndex;if(Go(c)){const m=Bs(c),_=Ou(c,n),D=_[Ee].data;for(let O=0;O<8;O++)n[h+O]=_[m+O]|D[m+O]}return n[h+8]=c,h}function wh(t,n){t.push(0,0,0,0,0,0,0,0,n)}function v(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function f(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,c=n;for(;null!==c;){if(a=xd(c),null===a)return Kl;if(o++,c=c[yo],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return Kl}function g(t,n,o){!function Fg(t,n,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(Cr)&&(a=o[Cr]),null==a&&(a=o[Cr]=ku++);const c=a&Fi;n.data[t+(c>>bc)]|=1<<c}(t,n,o)}function U(t,n,o){if(o&Dn.Optional||void 0!==t)return t;Js()}function ee(t,n,o,a){if(o&Dn.Optional&&void 0===a&&(a=null),!(o&(Dn.Self|Dn.Host))){const c=t[ci],h=vs(void 0);try{return c?c.get(n,a,o&Dn.Optional):dd(n,a,o&Dn.Optional)}finally{vs(h)}}return U(a,0,o)}function Ge(t,n,o,a=Dn.Default,c){if(null!==t){if(2048&n[Yt]&&!(a&Dn.Self)){const m=function Th(t,n,o,a,c){let h=t,m=n;for(;null!==h&&null!==m&&2048&m[Yt]&&!(512&m[Yt]);){const _=mt(h,m,o,a|Dn.Self,sa);if(_!==sa)return _;let D=h.parent;if(!D){const O=m[Xo];if(O){const W=O.get(o,sa,a);if(W!==sa)return W}D=xd(m),m=m[yo]}h=D}return c}(t,n,o,a,sa);if(m!==sa)return m}const h=mt(t,n,o,a,sa);if(h!==sa)return h}return ee(n,o,a,c)}function mt(t,n,o,a,c){const h=function Bn(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Cr)?t[Cr]:void 0;return"number"==typeof n?n>=0?n&Fi:Ac:n}(o);if("function"==typeof h){if(!Er(n,t,a))return a&Dn.Host?U(c,0,a):ee(n,o,a,c);try{let m;if(m=h(a),null!=m||a&Dn.Optional)return m;Js()}finally{Ns()}}else if("number"==typeof h){let m=null,_=v(t,n),D=Kl,O=a&Dn.Host?n[ai][wr]:null;for((-1===_||a&Dn.SkipSelf)&&(D=-1===_?f(t,n):n[_+8],D!==Kl&&vi(a,!1)?(m=n[Ee],_=Bs(D),n=Ou(D,n)):_=-1);-1!==_;){const W=n[Ee];if($i(h,_,W.data)){const Z=Ft(_,n,o,m,a,O);if(Z!==sa)return Z}D=n[_+8],D!==Kl&&vi(a,n[Ee].data[_+8]===O)&&$i(h,_,n)?(m=W,_=Bs(D),n=Ou(D,n)):_=-1}}return c}function Ft(t,n,o,a,c,h){const m=n[Ee],_=m.data[t+8],W=In(_,m,o,null==a?Yi(_)&&os:a!=m&&0!=(3&_.type),c&Dn.Host&&h===_);return null!==W?Sn(n,m,W,_):sa}function In(t,n,o,a,c){const h=t.providerIndexes,m=n.data,_=1048575&h,D=t.directiveStart,W=h>>20,Te=c?_+W:t.directiveEnd;for(let qe=a?_:_+W;qe<Te;qe++){const Et=m[qe];if(qe<D&&o===Et||qe>=D&&Et.type===o)return qe}if(c){const qe=m[D];if(qe&&_i(qe)&&qe.type===o)return D}return null}function Sn(t,n,o,a){let c=t[o];const h=n.data;if(function Og(t){return t instanceof Ka}(c)){const m=c;m.resolving&&function fc(t,n){throw n&&n.join(" > "),new Vt(-200,t)}(function Wr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():tt(t)}(h[o]));const _=gl(m.canSeeViewProviders);m.resolving=!0;const O=m.injectImpl?vs(m.injectImpl):null;Er(t,a,Dn.Default);try{c=t[o]=m.factory(void 0,h,t,a),n.firstCreatePass&&o>=a.directiveStart&&function ql(t,n,o){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=n.type.prototype;if(a){var m,_;const Z=jf(n);(null!==(m=o.preOrderHooks)&&void 0!==m?m:o.preOrderHooks=[]).push(t,Z),(null!==(_=o.preOrderCheckHooks)&&void 0!==_?_:o.preOrderCheckHooks=[]).push(t,Z)}var D,O,W;c&&(null!==(D=o.preOrderHooks)&&void 0!==D?D:o.preOrderHooks=[]).push(0-t,c),h&&((null!==(O=o.preOrderHooks)&&void 0!==O?O:o.preOrderHooks=[]).push(t,h),(null!==(W=o.preOrderCheckHooks)&&void 0!==W?W:o.preOrderCheckHooks=[]).push(t,h))}(o,h[o],n)}finally{null!==O&&vs(O),gl(_),m.resolving=!1,Ns()}}return c}function $i(t,n,o){return!!(o[n+(t>>bc)]&1<<t)}function vi(t,n){return!(t&Dn.Self||t&Dn.Host&&n)}class eo{constructor(n,o){this._tNode=n,this._lView=o}get(n,o,a){return Ge(this._tNode,this._lView,n,fd(a),o)}}function Ac(){return new eo(ri(),Nt())}function Pd(t){return Rr(()=>{const n=t.prototype.constructor,o=n[zn]||Sc(n),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const h=c[zn]||Sc(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Sc(t){return ma(t)?()=>{const n=Sc(Kn(t));return n&&n()}:Ga(t)}function xd(t){const n=t[Ee],o=n.type;return 2===o?n.declTNode:1===o?t[wr]:null}function Xl(t){return function I(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const o=t.attrs;if(o){const a=o.length;let c=0;for(;c<a;){const h=o[c];if(Mr(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof o[c];)c++;else{if(h===n)return o[c+1];c+=2}}}return null}(ri(),t)}function Hf(t,n=null,o=null,a){const c=Rc(t,n,o,a);return c.resolveInjectorInitializers(),c}function Rc(t,n=null,o=null,a,c=new Set){const h=[o||Zn,ja(t)];return a=a||("object"==typeof t?void 0:Tn(t)),new Su(h,n||Au(),a||null,c)}let aa=(()=>{var t;class n{static create(a,c){if(Array.isArray(a))return Hf({name:""},c,a,"");{var h;const m=null!==(h=a.name)&&void 0!==h?h:"";return Hf({name:m},a.parent,a.providers,m)}}}return(t=n).THROW_IF_NOT_FOUND=Fa,t.NULL=new bu,t.\u0275prov=Ir({token:t,providedIn:"any",factory:()=>Ao(Vf)}),t.__NG_ELEMENT_ID__=-1,n})();function bh(t){return t.ngOriginalError}class _l{constructor(){this._console=console}handleError(n){const o=this._findOriginalError(n);this._console.error("ERROR",n),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(n){let o=n&&bh(n);for(;o&&bh(o);)o=bh(o);return o||null}}const Bg=new H("",{providedIn:"root",factory:()=>Zr(_l).handleError.bind(void 0)}),$g=new H("",{providedIn:"root",factory:()=>!1});let Wf;function Gg(t){var n;return(null===(n=function Pc(){if(void 0===Wf&&(Wf=null,wn.trustedTypes))try{Wf=wn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Wf}())||void 0===n?void 0:n.createScriptURL(t))||t}class qf{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qt})`}}function Uu(t){return t instanceof qf?t.changingThisBreaksApplicationSecurity:t}function Aa(t,n){const o=function Nd(t){return t instanceof qf&&t.getTypeName()||null}(t);if(null!=o&&o!==n){if("ResourceURL"===o&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${o} (see ${qt})`)}return o===n}const Nc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Oc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Oc||{});function ep(t){const n=Rh();return n?n.sanitize(Oc.URL,t)||"":Aa(t,"URL")?Uu(t):function Jl(t){return(t=String(t)).match(Nc)?t:"unsafe:"+t}(tt(t))}function Wg(t){const n=Rh();if(n)return Gg(n.sanitize(Oc.RESOURCE_URL,t)||"");if(Aa(t,"ResourceURL"))return Gg(Uu(t));throw new Vt(904,!1)}function Xv(t,n,o){return function tp(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Wg:ep}(n,o)(t)}function Rh(){const t=Nt();return t&&t[to].sanitizer}const Jv=/^>|^->|<!--|-->|--!>|<!-$/g,Vd=/(<|>)/g,Mh="\u200b$1\u200b";const Ud=new Map;let np=0;const Il="__ngContext__";function ss(t,n){Di(n)?(t[Il]=n[Ci],function Gu(t){Ud.set(t[Ci],t)}(n)):t[Il]=n}function bs(t){return t instanceof Function?t():t}var Bd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Bd||{});let nm;function up(t,n){return nm(t,n)}function Uc(t,n,o,a,c){if(null!=a){let h,m=!1;Si(a)?h=a:Di(a)&&(m=!0,a=a[ne]);const _=Wn(a);0===t&&null!==o?null==c?pp(n,o,_):eu(n,o,_,c||null,!0):1===t&&null!==o?eu(n,o,_,c||null,!0):2===t?function $h(t,n,o){const a=Vh(t,n);a&&function m_(t,n,o,a){t.removeChild(n,o,a)}(t,a,n,o)}(n,_,m):3===t&&n.destroyNode(_),null!=h&&function RI(t,n,o,a,c){const h=o[Ui];h!==Wn(o)&&Uc(n,t,a,h,c);for(let _=Pi;_<o.length;_++){const D=o[_];_p(D[Ee],D,t,n,a,h)}}(n,t,h,o,c)}}function Wu(t,n){return t.createComment(function kc(t){return t.replace(Jv,n=>n.replace(Vd,Mh))}(n))}function $d(t,n,o){return t.createElement(n,o)}function rm(t,n){_p(t,n,n[An],2,null,null)}function g_(t,n){const o=t[jo],a=o.indexOf(n);o.splice(a,1)}function $c(t,n){if(t.length<=Pi)return;const o=Pi+n,a=t[o];if(a){const c=a[Io];null!==c&&c!==t&&g_(c,a),n>0&&(t[o-1][si]=a[si]);const h=Zs(t,Pi+n);!function dp(t,n){rm(t,n),n[ne]=null,n[wr]=null}(a[Ee],a);const m=h[Wi];null!==m&&m.detachView(h[Ee]),a[dr]=null,a[si]=null,a[Yt]&=-129}return a}function Lh(t,n){if(!(256&n[Yt])){const o=n[An];o.destroyNode&&_p(t,n,o,3,null,null),function p_(t){let n=t[go];if(!n)return hp(t[Ee],t);for(;n;){let o=null;if(Di(n))o=n[go];else{const a=n[Pi];a&&(o=a)}if(!o){for(;n&&!n[si]&&n!==t;)Di(n)&&hp(n[Ee],n),n=n[dr];null===n&&(n=t),Di(n)&&hp(n[Ee],n),o=n&&n[si]}n=o}}(n)}}function hp(t,n){if(!(256&n[Yt])){n[Yt]&=-129,n[Yt]|=256,n[co]&&function Ke(t){if(ae(t),Qe(t))for(let n=0;n<t.producerNode.length;n++)Oe(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(n[co]),function fp(t,n){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const c=n[o[a]];if(!(c instanceof Ka)){const h=o[a+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const _=c[h[m]],D=h[m+1];oa(4,_,D);try{D.call(_)}finally{oa(5,_,D)}}else{oa(4,c,h);try{h.call(c)}finally{oa(5,c,h)}}}}}(t,n),function om(t,n){const o=t.cleanup,a=n[Hi];if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+3];m>=0?a[m]():a[-m].unsubscribe(),h+=2}else o[h].call(a[o[h+1]]);null!==a&&(n[Hi]=null);const c=n[Eo];if(null!==c){n[Eo]=null;for(let h=0;h<c.length;h++)(0,c[h])()}}(t,n),1===n[Ee].type&&n[An].destroy();const o=n[Io];if(null!==o&&Si(n[dr])){o!==n[dr]&&g_(o,n);const a=n[Wi];null!==a&&a.detachView(t)}!function i_(t){Ud.delete(t[Ci])}(n)}}function Gc(t,n,o){return function Fh(t,n,o){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return o[ne];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:h}=t.data[a.directiveStart+c];if(h===nr.None||h===nr.Emulated)return null}return Kr(a,o)}}(t,n.parent,o)}function eu(t,n,o,a,c){t.insertBefore(n,o,a,c)}function pp(t,n,o){t.appendChild(n,o)}function gp(t,n,o,a,c){null!==a?eu(t,n,o,a,c):pp(t,n,o)}function Vh(t,n){return t.parentNode(n)}function vp(t,n,o){return __(t,n,o)}let Qo,__=function v_(t,n,o){return 40&t.type?Kr(t,o):null};function Uh(t,n,o,a){const c=Gc(t,a,n),h=n[An],_=vp(a.parent||n[wr],a,n);if(null!=c)if(Array.isArray(o))for(let D=0;D<o.length;D++)gp(h,c,o[D],_,!1);else gp(h,c,o,_,!1);void 0!==Qo&&Qo(h,a,n,o,c)}function zu(t,n){if(null!==n){const o=n.type;if(3&o)return Kr(n,t);if(4&o)return Bh(-1,t[n.index]);if(8&o){const a=n.child;if(null!==a)return zu(t,a);{const c=t[n.index];return Si(c)?Bh(-1,c):Wn(c)}}if(32&o)return up(n,t)()||Wn(t[n.index]);{const a=Gd(t,n);return null!==a?Array.isArray(a)?a[0]:zu(hi(t[ai]),a):zu(t,n.next)}}return null}function Gd(t,n){return null!==n?t[ai][wr].projection[n.projection]:null}function Bh(t,n){const o=Pi+t+1;if(o<n.length){const a=n[o],c=a[Ee].firstChild;if(null!==c)return zu(a,c)}return n[Ui]}function sm(t,n,o,a,c,h,m){for(;null!=o;){const _=a[o.index],D=o.type;if(m&&0===n&&(_&&ss(Wn(_),a),o.flags|=2),32!=(32&o.flags))if(8&D)sm(t,n,o.child,a,c,h,!1),Uc(n,t,c,_,h);else if(32&D){const O=up(o,a);let W;for(;W=O();)Uc(n,t,c,W,h);Uc(n,t,c,_,h)}else 16&D?yp(t,n,a,o,c,h):Uc(n,t,c,_,h);o=m?o.projectionNext:o.next}}function _p(t,n,o,a,c,h){sm(o,a,t.firstChild,n,c,h,!1)}function yp(t,n,o,a,c,h){const m=o[ai],D=m[wr].projection[a.projection];if(Array.isArray(D))for(let O=0;O<D.length;O++)Uc(n,t,c,D[O],h);else{let O=D;const W=m[dr];$n(a)&&(O.flags|=128),sm(t,n,O,W,c,h,!0)}}function Ip(t,n,o){""===o?t.removeAttribute(n,"class"):t.setAttribute(n,"class",o)}function jc(t,n,o){const{mergedAttrs:a,classes:c,styles:h}=o;null!==a&&Vi(t,n,a),null!==c&&Ip(t,n,c),null!==h&&function Gh(t,n,o){t.setAttribute(n,"style",o)}(t,n,h)}const Tr={};function jh(t=1){jd(yr(),Nt(),xi()+t,!1)}function jd(t,n,o,a){if(!a)if(3==(3&n[Yt])){const h=t.preOrderCheckHooks;null!==h&&Yo(n,h,o)}else{const h=t.preOrderHooks;null!==h&&hr(n,h,0,o)}io(o)}function qu(t,n=Dn.Default){const o=Nt();return null===o?Ao(t,n):Ge(ri(),o,Kn(t),n)}function am(){throw new Error("invalid")}function Ep(t,n,o,a,c,h){const m=ce(null);try{let _=null;c&cr.SignalBased&&(_=n[a][pe]),null!==_&&void 0!==_.transformFn&&(h=_.transformFn(h)),c&cr.HasDecoratorInputTransform&&(h=t.inputTransforms[a].call(n,h)),null!==t.setInput?t.setInput(n,_,h,o,a):Ch(n,_,a,h)}finally{ce(m)}}function Xa(t,n,o,a,c,h,m,_,D,O,W){const Z=n.blueprint.slice();return Z[ne]=c,Z[Yt]=204|a,(null!==O||t&&2048&t[Yt])&&(Z[Yt]|=2048),ro(Z),Z[dr]=Z[yo]=t,Z[jr]=o,Z[to]=m||t&&t[to],Z[An]=_||t&&t[An],Z[ci]=D||t&&t[ci]||null,Z[wr]=h,Z[Ci]=function r_(){return np++}(),Z[Mi]=W,Z[Xo]=O,Z[ai]=2==n.type?t[ai]:Z,Z}function Hc(t,n,o,a,c){let h=t.data[n];if(null===h)h=function um(t,n,o,a,c){const h=rl(),m=il(),D=t.data[n]=function xI(t,n,o,a,c,h){let m=n?n.injectorIndex:-1,_=0;return Ps()&&(_|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,n,a,c);return null===t.firstChild&&(t.firstChild=D),null!==h&&(m?null==h.child&&null!==D.parent&&(h.child=D):null===h.next&&(h.next=D,D.prev=h)),D}(t,n,o,a,c),function V(){return er.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=a,h.attrs=c;const m=function Ks(){const t=er.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return Oo(h,!0),h}function Wc(t,n,o,a){if(0===o)return-1;const c=n.length;for(let h=0;h<o;h++)n.push(a),t.blueprint.push(a),t.data.push(null);return c}function E_(t,n,o,a,c){const h=xi(),m=2&a;try{io(-1),m&&n.length>Yn&&jd(t,n,Yn,!1),oa(m?2:0,c),o(a,c)}finally{io(h),oa(m?3:1,c)}}function Hh(t,n,o){if(Do(n)){const a=ce(null);try{const h=n.directiveEnd;for(let m=n.directiveStart;m<h;m++){const _=t.data[m];_.contentQueries&&_.contentQueries(1,o[m],m)}}finally{ce(a)}}}function cm(t,n,o){nl()&&(function Ku(t,n,o,a){const c=o.directiveStart,h=o.directiveEnd;Yi(o)&&function mm(t,n,o){const a=Kr(n,t),c=zh(o);let m=16;o.signals?m=4096:o.onPush&&(m=64);const _=Sp(t,Xa(t,c,null,m,a,n,null,t[to].rendererFactory.createRenderer(a,o),null,null,null));t[n.index]=_}(n,o,t.data[c+o.componentOffset]),t.firstCreatePass||ml(o,n),ss(a,n);const m=o.initialInputs;for(let _=c;_<h;_++){const D=t.data[_],O=Sn(n,t,_,o);ss(O,n),null!==m&&VI(0,_-c,O,D,0,m),_i(D)&&(Hr(o.index,n)[jr]=Sn(n,t,_,o))}}(t,n,o,Kr(o,n)),64==(64&o.flags)&&wp(t,n,o))}function Wh(t,n,o=Kr){const a=n.localNames;if(null!==a){let c=n.index+1;for(let h=0;h<a.length;h+=2){const m=a[h+1],_=-1===m?o(n,t):t[m];t[c++]=_}}}function zh(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=qh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function qh(t,n,o,a,c,h,m,_,D,O,W){const Z=Yn+a,Te=Z+c,qe=function C_(t,n){const o=[];for(let a=0;a<n;a++)o.push(a<t?null:Tr);return o}(Z,Te),Et="function"==typeof O?O():O;return qe[Ee]={type:t,blueprint:qe,template:o,queries:null,viewQuery:_,declTNode:n,data:qe.slice().fill(null,Z),bindingStartIndex:Z,expandoStartIndex:Te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:D,consts:Et,incompleteFirstPass:!1,ssrId:W}}let D_=()=>null;function Cp(t,n,o,a,c){for(let m in n){var h;if(!n.hasOwnProperty(m))continue;const _=n[m];if(void 0===_)continue;null!==(h=a)&&void 0!==h||(a={});let D,O=cr.None;Array.isArray(_)?(D=_[0],O=_[1]):D=_;let W=m;if(null!==c){if(!c.hasOwnProperty(m))continue;W=c[m]}0===t?b_(a,o,W,D,O):b_(a,o,W,D)}return a}function b_(t,n,o,a,c){let h;t.hasOwnProperty(o)?(h=t[o]).push(n,a):h=t[o]=[n,a],void 0!==c&&h.push(c)}function Is(t,n,o,a,c,h,m,_){const D=Kr(n,o);let W,O=n.inputs;!_&&null!=O&&(W=O[a])?(Im(t,o,W,a,c),Yi(n)&&function OI(t,n){const o=Hr(n,t);16&o[Yt]||(o[Yt]|=64)}(o,n.index)):3&n.type&&(a=function NI(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=m?m(c,n.value||"",a):c,h.setProperty(D,a,c))}function Kh(t,n,o,a){if(nl()){const c=null===a?null:{"":-1},h=function qd(t,n){const o=t.directiveRegistry;let a=null,c=null;if(o)for(let m=0;m<o.length;m++){const _=o[m];if(bt(n,_.selectors,!1))if(a||(a=[]),_i(_))if(null!==_.findHostDirectiveDefs){const D=[];c=c||new Map,_.findHostDirectiveDefs(_,D,c),a.unshift(...D,_),Tp(t,n,D.length)}else a.unshift(_),Tp(t,n,0);else{var h;c=c||new Map,null===(h=_.findHostDirectiveDefs)||void 0===h||h.call(_,_,a,c),a.push(_)}}return null===a?null:[a,c]}(t,o);let m,_;null===h?m=_=null:[m,_]=h,null!==m&&Dp(t,n,o,m,c,_),c&&function Kd(t,n,o){if(n){const a=t.localNames=[];for(let c=0;c<n.length;c+=2){const h=o[n[c+1]];if(null==h)throw new Vt(-301,!1);a.push(n[c],h)}}}(o,a,c)}o.mergedAttrs=Ai(o.mergedAttrs,o.attrs)}function Dp(t,n,o,a,c,h){for(let Z=0;Z<a.length;Z++)g(ml(o,n),t,a[Z].type);!function FI(t,n,o){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+o,t.providerIndexes=n}(o,t.data.length,a.length);for(let Z=0;Z<a.length;Z++){const Te=a[Z];Te.providersResolver&&Te.providersResolver(Te)}let m=!1,_=!1,D=Wc(t,n,a.length,null);for(let Z=0;Z<a.length;Z++){const Te=a[Z];o.mergedAttrs=Ai(o.mergedAttrs,Te.hostAttrs),gm(t,o,n,D,Te),LI(D,Te,c),null!==Te.contentQueries&&(o.flags|=4),(null!==Te.hostBindings||null!==Te.hostAttrs||0!==Te.hostVars)&&(o.flags|=64);const qe=Te.type.prototype;var O,W;!m&&(qe.ngOnChanges||qe.ngOnInit||qe.ngDoCheck)&&((null!==(O=t.preOrderHooks)&&void 0!==O?O:t.preOrderHooks=[]).push(o.index),m=!0),_||!qe.ngOnChanges&&!qe.ngDoCheck||((null!==(W=t.preOrderCheckHooks)&&void 0!==W?W:t.preOrderCheckHooks=[]).push(o.index),_=!0),D++}!function hm(t,n,o){const c=n.directiveEnd,h=t.data,m=n.attrs,_=[];let D=null,O=null;for(let W=n.directiveStart;W<c;W++){const Z=h[W],Te=o?o.get(Z):null,Et=Te?Te.outputs:null;D=Cp(0,Z.inputs,W,D,Te?Te.inputs:null),O=Cp(1,Z.outputs,W,O,Et);const Bt=null===D||null===m||_e(n)?null:UI(D,W,m);_.push(Bt)}null!==D&&(D.hasOwnProperty("class")&&(n.flags|=8),D.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=_,n.inputs=D,n.outputs=O}(t,o,h)}function wp(t,n,o){const a=o.directiveStart,c=o.directiveEnd,h=o.index,m=function ie(){return er.lFrame.currentDirectiveIndex}();try{io(h);for(let _=a;_<c;_++){const D=t.data[_],O=n[_];xe(_),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&zd(D,O)}}finally{io(-1),xe(m)}}function zd(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Tp(t,n,o){var a;n.componentOffset=o,(null!==(a=t.components)&&void 0!==a?a:t.components=[]).push(n.index)}function LI(t,n,o){if(o){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)o[n.exportAs[a]]=t;_i(n)&&(o[""]=t)}}function gm(t,n,o,a,c){t.data[a]=c;const h=c.factory||(c.factory=Ga(c.type)),m=new Ka(h,_i(c),qu);t.blueprint[a]=m,o[a]=m,function pm(t,n,o,a,c){const h=c.hostBindings;if(h){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const _=~n.index;(function Wd(t){let n=t.length;for(;n>0;){const o=t[--n];if("number"==typeof o&&o<0)return o}return 0})(m)!=_&&m.push(_),m.push(o,a,h)}}(t,n,a,Wc(t,o,c.hostVars,Tr),c)}function Ra(t,n,o,a,c,h){const m=Kr(t,n);!function Yh(t,n,o,a,c,h,m){if(null==h)t.removeAttribute(n,c,o);else{const _=null==m?tt(h):m(h,a||"",c);t.setAttribute(n,c,_,o)}}(n[An],m,h,t.value,o,a,c)}function VI(t,n,o,a,c,h){const m=h[n];if(null!==m)for(let _=0;_<m.length;)Ep(a,o,m[_++],m[_++],m[_++],m[_++])}function UI(t,n,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===a&&(a=[]);const m=t[h];for(let _=0;_<m.length;_+=3)if(m[_]===n){a.push(h,m[_+1],m[_+2],o[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function bp(t,n,o,a){return[t,!0,0,n,null,a,null,o,null,null]}function Ap(t,n){const o=t.contentQueries;if(null!==o){const a=ce(null);try{for(let c=0;c<o.length;c+=2){const m=o[c+1];if(-1!==m){const _=t.data[m];pr(o[c]),_.contentQueries(2,n[m],m)}}}finally{ce(a)}}}function Sp(t,n){return t[go]?t[_o][si]=n:t[go]=n,t[_o]=n,n}function Rp(t,n,o){pr(0);const a=ce(null);try{n(t,o)}finally{ce(a)}}function vm(t){return t[Hi]||(t[Hi]=[])}function _m(t){return t.cleanup||(t.cleanup=[])}function Qh(t,n){const o=t[ci],a=o?o.get(_l,null):null;a&&a.handleError(n)}function Im(t,n,o,a,c){for(let h=0;h<o.length;){const m=o[h++],_=o[h++],D=o[h++];Ep(t.data[m],n[m],a,_,D,c)}}function BI(t,n){const o=Hr(n,t),a=o[Ee];!function $I(t,n){for(let o=n.length;o<t.blueprint.length;o++)n.push(t.blueprint[o])}(a,o);const c=o[ne];null!==c&&null===o[Mi]&&(o[Mi]=pd(c,o[ci])),Xh(a,o,o[jr])}function Xh(t,n,o){gr(n);try{var a;const c=t.viewQuery;null!==c&&Rp(1,c,o);const h=t.template;null!==h&&E_(t,n,h,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),null===(a=n[Wi])||void 0===a||a.finishViewCreation(t),t.staticContentQueries&&Ap(t,n),t.staticViewQueries&&Rp(2,t.viewQuery,o);const m=t.components;null!==m&&function Em(t,n){for(let o=0;o<n.length;o++)BI(t,n[o])}(n,m)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{n[Yt]&=-5,Lo()}}function Yu(t,n){return!n||null===n.firstChild||$n(t)}function Zh(t,n,o,a=!0){const c=n[Ee];if(function AI(t,n,o,a){const c=Pi+a,h=o.length;a>0&&(o[c-1][si]=n),a<h-Pi?(n[si]=o[c],ad(o,Pi+a,n)):(o.push(n),n[si]=null),n[dr]=o;const m=n[Io];null!==m&&o!==m&&function im(t,n){const o=t[jo];n[ai]!==n[dr][dr][ai]&&(t[Yt]|=Co.HasTransplantedViews),null===o?t[jo]=[n]:o.push(n)}(m,n);const _=n[Wi];null!==_&&_.insertView(t),Na(n),n[Yt]|=128}(c,n,t,o),a){const m=Bh(o,t),_=n[An],D=Vh(_,t[Ui]);null!==D&&function f_(t,n,o,a,c,h){a[ne]=c,a[wr]=n,_p(t,a,o,1,c,h)}(c,t[wr],_,n,D,m)}const h=n[Mi];null!==h&&null!==h.firstChild&&(h.firstChild=null)}function Yd(t,n,o,a,c=!1){for(;null!==o;){const h=n[o.index];null!==h&&a.push(Wn(h)),Si(h)&&Mp(h,a);const m=o.type;if(8&m)Yd(t,n,o.child,a);else if(32&m){const _=up(o,n);let D;for(;D=_();)a.push(D)}else if(16&m){const _=Gd(n,o);if(Array.isArray(_))a.push(..._);else{const D=hi(n[ai]);Yd(D[Ee],D,_,a,!0)}}o=c?o.projectionNext:o.next}return a}function Mp(t,n){for(let o=Pi;o<t.length;o++){const a=t[o],c=a[Ee].firstChild;null!==c&&Yd(a[Ee],a,c,n)}t[Ui]!==t[ne]&&n.push(t[Ui])}let Cm=[];const wm={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{es(t.lView)},consumerOnSignalRead(){this.lView[co]=this}};function S_(t){return xp(t[go])}function Pp(t){return xp(t[si])}function xp(t){for(;null!==t&&!Si(t);)t=t[si];return t}function nu(t,n=!0,o=0){const a=t[to],c=a.rendererFactory;var m;null===(m=c.begin)||void 0===m||m.call(c);try{!function R_(t,n){Sm(t,n);let o=0;for(;fs(t);){if(100===o)throw new Vt(103,!1);o++,Sm(t,1)}}(t,o)}catch(O){throw n&&Qh(t,O),O}finally{var _,D;null===(_=c.end)||void 0===_||_.call(c),null===(D=a.inlineEffectRunner)||void 0===D||D.flush()}}function WI(t,n,o,a){var c;const h=n[Yt];if(256==(256&h))return;null===(c=n[to].inlineEffectRunner)||void 0===c||c.flush(),gr(n);let _=null,D=null;(function bm(t){return 2!==t.type})(t)&&(D=function GI(t){var n;return null!==(n=t[co])&&void 0!==n?n:function Dm(t){var n;const o=null!==(n=Cm.pop())&&void 0!==n?n:Object.create(wm);return o.lView=t,o}(t)}(n),_=function Me(t){return t&&(t.nextProducerIndex=0),ce(t)}(D));try{ro(n),function Qs(t){return er.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&E_(t,n,o,2,a);const O=3==(3&h);if(O){const Te=t.preOrderCheckHooks;null!==Te&&Yo(n,Te,null)}else{const Te=t.preOrderHooks;null!==Te&&hr(n,Te,0,null),Ad(n,0)}if(function Am(t){for(let n=S_(t);null!==n;n=Pp(n)){if(!(n[Yt]&Co.HasTransplantedViews))continue;const o=n[jo];for(let a=0;a<o.length;a++){No(o[a])}}}(n),El(n,0),null!==t.contentQueries&&Ap(t,n),O){const Te=t.contentCheckHooks;null!==Te&&Yo(n,Te)}else{const Te=t.contentHooks;null!==Te&&hr(n,Te,1),Ad(n,1)}!function lm(t,n){const o=t.hostBindingOpCodes;if(null!==o)try{for(let a=0;a<o.length;a++){const c=o[a];if(c<0)io(~c);else{const h=c,m=o[++a],_=o[++a];L(m,h),_(2,n[h])}}}finally{io(-1)}}(t,n);const W=t.components;null!==W&&P_(n,W,0);const Z=t.viewQuery;if(null!==Z&&Rp(2,Z,a),O){const Te=t.viewCheckHooks;null!==Te&&Yo(n,Te)}else{const Te=t.viewHooks;null!==Te&&hr(n,Te,2),Ad(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[zi]){for(const Te of n[zi])Te();n[zi]=null}n[Yt]&=-73}catch(O){throw es(n),O}finally{null!==D&&(function Be(t,n){if(ce(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Qe(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Oe(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(D,_),function jI(t){t.lView[co]!==t&&(t.lView=null,Cm.push(t))}(D)),Lo()}}function El(t,n){for(let o=S_(t);null!==o;o=Pp(o))for(let a=Pi;a<o.length;a++)Op(o[a],n)}function zI(t,n,o){Op(Hr(n,t),o)}function Op(t,n){Jo(t)&&Sm(t,n)}function Sm(t,n){const a=t[Ee],c=t[Yt],h=t[co];let m=!!(0===n&&16&c);if(m||(m=!!(64&c&&0===n)),m||(m=!!(1024&c)),m||(m=!(null==h||!h.dirty||!vt(h))),h&&(h.dirty=!1),t[Yt]&=-9217,m)WI(a,t,a.template,t[jr]);else if(8192&c){El(t,1);const _=a.components;null!==_&&P_(t,_,1)}}function P_(t,n,o){for(let a=0;a<n.length;a++)zI(t,n[a],o)}function qc(t){var n;for(null===(n=t[to].changeDetectionScheduler)||void 0===n||n.notify();t;){t[Yt]|=64;const o=hi(t);if(li(t)&&!o)return t;t=o}return null}class ef{get rootNodes(){const n=this._lView,o=n[Ee];return Yd(o,n,o.firstChild,[])}constructor(n,o,a=!0){this._lView=n,this._cdRefInjectingView=o,this.notifyErrorHandler=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jr]}set context(n){this._lView[jr]=n}get destroyed(){return 256==(256&this._lView[Yt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[dr];if(Si(n)){const o=n[8],a=o?o.indexOf(this):-1;a>-1&&($c(n,a),Zs(o,a))}this._attachedToViewContainer=!1}Lh(this._lView[Ee],this._lView)}onDestroy(n){zs(this._lView,n)}markForCheck(){qc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Yt]&=-129}reattach(){Na(this._lView),this._lView[Yt]|=128}detectChanges(){this._lView[Yt]|=1024,nu(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Vt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,rm(this._lView[Ee],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Vt(902,!1);this._appRef=n,Na(this._lView)}}let Kc=(()=>{class n{}return n.__NG_ELEMENT_ID__=KI,n})();const qI=Kc,Rm=class extends qI{constructor(n,o,a){super(),this._declarationLView=n,this._declarationTContainer=o,this.elementRef=a}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o)}createEmbeddedViewImpl(n,o,a){const c=function zc(t,n,o,a){var c,h;const m=n.tView,O=Xa(t,m,o,4096&t[Yt]?4096:16,null,n,null,null,null,null!==(c=null==a?void 0:a.injector)&&void 0!==c?c:null,null!==(h=null==a?void 0:a.dehydratedView)&&void 0!==h?h:null);O[Io]=t[n.index];const Z=t[Wi];return null!==Z&&(O[Wi]=Z.createEmbeddedView(m)),Xh(m,O,o),O}(this._declarationLView,this._declarationTContainer,n,{injector:o,dehydratedView:a});return new ef(c)}};function KI(){return Qd(ri(),Nt())}function Qd(t,n){return 4&t.type?new Rm(n,t,fa(t,n)):null}class G_{}class nE{}class j_{}class Bm{resolveComponentFactory(n){throw function rE(t){const n=Error(`No component factory found for ${Tn(t)}.`);return n.ngComponent=t,n}(n)}}let af=(()=>{class n{}return n.NULL=new Bm,n})();class $m{}let H_=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function Bp(){const t=Nt(),o=Hr(ri().index,t);return(Di(o)?o:t)[An]}(),n})(),ii=(()=>{var t;class n{}return(t=n).\u0275prov=Ir({token:t,providedIn:"root",factory:()=>null}),n})();const $p={};function jm(t){return function Gm(t){return"function"==typeof t&&void 0!==t[pe]}(t)&&"function"==typeof t.set}function sE(t){const n=ce(null);try{return t()}finally{ce(n)}}function lf(t){return!!uf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function uf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}class W_{constructor(){}supports(n){return lf(n)}create(n){return new Gi(n)}}const lE=(t,n)=>n;class Gi{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||lE}forEachItem(n){let o;for(o=this._itHead;null!==o;o=o._next)n(o)}forEachOperation(n){let o=this._itHead,a=this._removalsHead,c=0,h=null;for(;o||a;){const m=!a||o&&o.currentIndex<zm(a,c,h)?o:a,_=zm(m,c,h),D=m.currentIndex;if(m===a)c--,a=a._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{h||(h=[]);const O=_-c,W=D-c;if(O!=W){for(let Te=0;Te<O;Te++){const qe=Te<h.length?h[Te]:h[Te]=0,Et=qe+Te;W<=Et&&Et<O&&(h[Te]=qe+1)}h[m.previousIndex]=W-O}}_!==D&&n(m,_,D)}}forEachPreviousItem(n){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachMovedItem(n){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}forEachIdentityChange(n){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)n(o)}diff(n){if(null==n&&(n=[]),!lf(n))throw new Vt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,h,m,o=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let _=0;_<this.length;_++)h=n[_],m=this._trackByFn(_,h),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,h,m,_)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,_),a=!0),o=o._next}else c=0,function aE(t,n){if(Array.isArray(t))for(let o=0;o<t.length;o++)n(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)n(a.value)}}(n,_=>{m=this._trackByFn(c,_),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,_,m,c)),Object.is(o.item,_)||this._addIdentityChange(o,_)):(o=this._mismatch(o,_,m,c),a=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,o,a,c){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._reinsertAfter(n,h,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._moveAfter(n,h,c)):n=this._addAfter(new sC(o,a),h,c),n}_verifyReinsertion(n,o,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?n=this._reinsertAfter(h,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const o=n._next;this._addToRemovals(this._unlink(n)),n=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,h=n._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(n,o,a),this._addToMoves(n,a),n}_moveAfter(n,o,a){return this._unlink(n),this._insertAfter(n,o,a),this._addToMoves(n,a),n}_addAfter(n,o,a){return this._insertAfter(n,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,o,a){const c=null===o?this._itHead:o._next;return n._next=c,n._prev=o,null===c?this._itTail=n:c._prev=n,null===o?this._itHead=n:o._next=n,null===this._linkedRecords&&(this._linkedRecords=new ao),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const o=n._prev,a=n._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,n}_addToMoves(n,o){return n.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ao),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,o){return n.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class sC{constructor(n,o){this.item=n,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aC{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const o=n._prevDup,a=n._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class ao{constructor(){this.map=new Map}put(n){const o=n.trackById;let a=this.map.get(o);a||(a=new aC,this.map.set(o,a)),a.add(n)}get(n,o){const c=this.map.get(n);return c?c.get(n,o):null}remove(n){const o=n.trackById;return this.map.get(o).remove(n)&&this.map.delete(o),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zm(t,n,o){const a=t.previousIndex;if(null===a)return a;let c=0;return o&&a<o.length&&(c=o[a]),a+n+c}class z_{constructor(){}supports(n){return n instanceof Map||uf(n)}create(){return new uE}}class uE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let o;for(o=this._mapHead;null!==o;o=o._next)n(o)}forEachPreviousItem(n){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)n(o)}forEachChangedItem(n){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}diff(n){if(n){if(!(n instanceof Map||uf(n)))throw new Vt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,a);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,o){if(n){const a=n._prev;return o._next=n,o._prev=a,n._prev=o,a&&(a._next=o),n===this._mapHead&&(this._mapHead=o),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(n,o){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,o);const h=c._prev,m=c._next;return h&&(h._next=m),m&&(m._prev=h),c._next=null,c._prev=null,c}const a=new q_(n);return this._records.set(n,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,o){Object.is(o,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=o,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,o){n instanceof Map?n.forEach(o):Object.keys(n).forEach(a=>o(n[a],a))}}class q_{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function K_(){return new qm([new W_])}let qm=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||K_()),deps:[[n,new Tu,new $a]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new Vt(901,!1)}}return(t=n).\u0275prov=Ir({token:t,providedIn:"root",factory:K_}),n})();function Y_(){return new Q_([new z_])}let Q_=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||Y_()),deps:[[n,new Tu,new $a]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new Vt(901,!1)}}return(t=n).\u0275prov=Ir({token:t,providedIn:"root",factory:Y_}),n})(),X_=(()=>{class n{}return n.__NG_ELEMENT_ID__=Z_,n})();function Z_(t){return function cf(t,n,o){if(Yi(t)&&!o){const a=Hr(t.index,n);return new ef(a,a)}return 47&t.type?new ef(n[ai],n):null}(ri(),Nt(),16==(16&t))}let wl=(()=>{var t;class n{}return(t=n).__NG_ELEMENT_ID__=hE,t.__NG_ENV_ID__=o=>o,n})();class jp extends wl{constructor(n){super(),this._lView=n}onDestroy(n){return zs(this._lView,n),()=>function tl(t,n){if(null===t[Eo])return;const o=t[Eo].indexOf(n);-1!==o&&t[Eo].splice(o,1)}(this._lView,n)}}function hE(){return new jp(Nt())}const df=new Set;function Za(t){var n,o;df.has(t)||(df.add(t),null===(n=performance)||void 0===n||null===(o=n.mark)||void 0===o||o.call(n,"mark_feature_usage",{detail:{feature:t}}))}function Km(...t){}class lo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mr(!1),this.onMicrotaskEmpty=new mr(!1),this.onStable=new mr(!1),this.onError=new mr(!1),typeof Zone>"u")throw new Vt(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&o,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Ym(){const t="function"==typeof wn.requestAnimationFrame;let n=wn[t?"requestAnimationFrame":"setTimeout"],o=wn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&o){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function ny(t){const n=()=>{!function Xm(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(wn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ou(t),t.isCheckStableRunning=!0,hf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ou(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,c,h,m,_)=>{if(function ff(t){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0].data)||void 0===n?void 0:n.__ignore_ng_zone__)}(_))return o.invokeTask(c,h,m,_);try{return Zm(t),o.invokeTask(c,h,m,_)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),Jm(t)}},onInvoke:(o,a,c,h,m,_,D)=>{try{return Zm(t),o.invoke(c,h,m,_,D)}finally{t.shouldCoalesceRunChangeDetection&&n(),Jm(t)}},onHasTask:(o,a,c,h)=>{o.hasTask(c,h),a===c&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,ou(t),hf(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,a,c,h)=>(o.handleError(c,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!lo.isInAngularZone())throw new Vt(909,!1)}static assertNotInAngularZone(){if(lo.isInAngularZone())throw new Vt(909,!1)}run(n,o,a){return this._inner.run(n,o,a)}runTask(n,o,a,c){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+c,n,Qm,Km,Km);try{return h.runTask(m,o,a)}finally{h.cancelTask(m)}}runGuarded(n,o,a){return this._inner.runGuarded(n,o,a)}runOutsideAngular(n){return this._outer.run(n)}}const Qm={};function hf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ou(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Zm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Jm(t){t._nesting--,hf(t)}class Wp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mr,this.onMicrotaskEmpty=new mr,this.onStable=new mr,this.onError=new mr}run(n,o,a){return n.apply(o,a)}runGuarded(n,o,a){return n.apply(o,a)}runOutsideAngular(n){return n()}runTask(n,o,a,c){return n.apply(o,a)}}var Tl=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Tl||{});const pf={destroy(){}};function ry(t,n){var o,a,c;!n&&function pl(t){if(!cd()&&!function hd(){return ea}())throw new Vt(-203,!1)}();const h=null!==(o=null==n?void 0:n.injector)&&void 0!==o?o:Zr(aa);if(!function Sa(t){return"browser"===(null!=t?t:Zr(aa)).get(Ye)}(h))return pf;Za("NgAfterNextRender");const m=h.get(Xc),_=null!==(a=m.handler)&&void 0!==a?a:m.handler=new tv,D=null!==(c=null==n?void 0:n.phase)&&void 0!==c?c:Tl.MixedReadWrite,O=()=>{_.unregister(Z),W()},W=h.get(wl).onDestroy(O),Z=new mf(h,D,()=>{O(),t()});return _.register(Z),{destroy:O}}class mf{constructor(n,o,a){this.phase=o,this.callbackFn=a,this.zone=n.get(lo),this.errorHandler=n.get(_l,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(o){var n;null===(n=this.errorHandler)||void 0===n||n.handleError(o)}}}class tv{constructor(){this.executingCallbacks=!1,this.buckets={[Tl.EarlyRead]:new Set,[Tl.Write]:new Set,[Tl.MixedReadWrite]:new Set,[Tl.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const o of n)o.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let Xc=(()=>{var t;class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var a;const c=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const h of c)h();null===(a=this.handler)||void 0===a||a.execute()}ngOnDestroy(){var a;null===(a=this.handler)||void 0===a||a.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=n).\u0275prov=Ir({token:t,providedIn:"root",factory:()=>new t}),n})();function As(t){return!!qn(t)}function Jc(t,n,o){let a=o?t.styles:null,c=o?t.classes:null,h=0;if(null!==n)for(let m=0;m<n.length;m++){const _=n[m];"number"==typeof _?h=_:1==h?c=Br(c,_):2==h&&(a=Br(a,_+": "+n[++m]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=c:t.classesWithoutHost=c}class sy extends af{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const o=wt(n);return new yf(o,this.ngModule)}}function ay(t){const n=[];for(const o in t){if(!t.hasOwnProperty(o))continue;const a=t[o];void 0!==a&&n.push({propName:Array.isArray(a)?a[0]:a,templateName:o})}return n}class gE{constructor(n,o){this.injector=n,this.parentInjector=o}get(n,o,a){a=fd(a);const c=this.injector.get(n,$p,a);return c!==$p||o===$p?c:this.parentInjector.get(n,o,a)}}class yf extends j_{get inputs(){const n=this.componentDef,o=n.inputTransforms,a=ay(n.inputs);if(null!==o)for(const c of a)o.hasOwnProperty(c.propName)&&(c.transform=o[c.propName]);return a}get outputs(){return ay(this.componentDef.outputs)}constructor(n,o){super(),this.componentDef=n,this.ngModule=o,this.componentType=n.type,this.selector=function j(t){return t.map(pt).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!o}create(n,o,a,c){var m;let _=(c=c||this.ngModule)instanceof wa?c:null===(m=c)||void 0===m?void 0:m.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const D=_?new gE(n,_):n,O=D.get($m,null);if(null===O)throw new Vt(407,!1);const qe={rendererFactory:O,sanitizer:D.get(ii,null),inlineEffectRunner:null,afterRenderEventManager:D.get(Xc,null),changeDetectionScheduler:D.get(G_,null)},Et=O.createRenderer(null,this.componentDef),Bt=this.componentDef.selectors[0][0]||"div",en=a?function Hd(t,n,o,a){const h=a.get($g,!1)||o===nr.ShadowDom,m=t.selectRootElement(n,h);return function dm(t){D_(t)}(m),m}(Et,a,this.componentDef.encapsulation,D):$d(Et,Bt,function zp(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Bt));let Cn=512;this.componentDef.signals?Cn|=4096:this.componentDef.onPush||(Cn|=16);let Gt=null;null!==en&&(Gt=pd(en,D,!0));const fr=qh(0,null,null,1,0,null,null,null,null,null,null),Or=Xa(null,fr,null,Cn,null,null,qe,Et,D,null,Gt);let Ei,cs;gr(Or);try{const cu=this.componentDef;let wg,z0=null;cu.findHostDirectiveDefs?(wg=[],z0=new Map,cu.findHostDirectiveDefs(cu,wg,z0),wg.push(cu)):wg=[cu];const vP=function uy(t,n){const o=t[Ee],a=Yn;return t[a]=n,Hc(o,a,2,"#host",null)}(Or,en),_P=function cy(t,n,o,a,c,h,m){const _=c[Ee];!function dy(t,n,o,a){for(const c of t)n.mergedAttrs=Ai(n.mergedAttrs,c.hostAttrs);null!==n.mergedAttrs&&(Jc(n,n.mergedAttrs,!0),null!==o&&jc(a,o,n))}(a,t,n,m);let D=null;null!==n&&(D=pd(n,c[ci]));const O=h.rendererFactory.createRenderer(n,o);let W=16;o.signals?W=4096:o.onPush&&(W=64);const Z=Xa(c,zh(o),null,W,c[t.index],t,h,O,null,null,D);return _.firstCreatePass&&Tp(_,t,a.length-1),Sp(c,Z),c[t.index]=Z}(vP,en,cu,wg,Or,qe,Et);cs=Qi(fr,Yn),en&&function nv(t,n,o,a){if(a)Vi(t,o,["ng-version","17.2.2"]);else{const{attrs:c,classes:h}=function J(t){const n=[],o=[];let a=1,c=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===c?""!==h&&n.push(h,t[++a]):8===c&&o.push(h);else{if(!he(c))break;c=h}a++}return{attrs:n,classes:o}}(n.selectors[0]);c&&Vi(t,o,c),h&&h.length>0&&Ip(t,o,h.join(" "))}}(Et,cu,en,a),void 0!==o&&function qp(t,n,o){const a=t.projection=[];for(let c=0;c<n.length;c++){const h=o[c];a.push(null!=h?Array.from(h):null)}}(cs,this.ngContentSelectors,o),Ei=function hy(t,n,o,a,c,h){const m=ri(),_=c[Ee],D=Kr(m,c);Dp(_,c,m,o,null,a);for(let W=0;W<o.length;W++)ss(Sn(c,_,m.directiveStart+W,m),c);wp(_,c,m),D&&ss(D,c);const O=Sn(c,_,m.directiveStart+m.componentOffset,m);if(t[jr]=c[jr]=O,null!==h)for(const W of h)W(O,n);return Hh(_,m,c),O}(_P,cu,wg,z0,Or,[mE]),Xh(fr,Or,null)}finally{Lo()}return new ly(this.componentType,Ei,fa(cs,Or),Or,cs)}}class ly extends nE{constructor(n,o,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new ef(c,void 0,!1),this.componentType=n}setInput(n,o){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[n])){var h;if(null!==(h=this.previousInputValues)&&void 0!==h||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),o))return;const m=this._rootLView;Im(m[Ee],m,c,n,o),this.previousInputValues.set(n,o),qc(Hr(this._tNode.index,m))}}get injector(){return new eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function mE(){const t=ri();bd(Nt()[Ee],t)}let rv=(()=>{class n{}return n.__NG_ELEMENT_ID__=fC,n})();function fC(){return Al(ri(),Nt())}const vE=rv,_E=class extends vE{constructor(n,o,a){super(),this._lContainer=n,this._hostTNode=o,this._hostLView=a}get element(){return fa(this._hostTNode,this._hostLView)}get injector(){return new eo(this._hostTNode,this._hostLView)}get parentInjector(){const n=f(this._hostTNode,this._hostLView);if(Go(n)){const o=Ou(n,this._hostLView),a=Bs(n);return new eo(o[Ee].data[a+8],o)}return new eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const o=yE(this._lContainer);return null!==o&&o[n]||null}get length(){return this._lContainer.length-Pi}createEmbeddedView(n,o,a){let c,h;"number"==typeof a?c=a:null!=a&&(c=a.index,h=a.injector);const _=n.createEmbeddedViewImpl(o||{},h,null);return this.insertImpl(_,c,Yu(this._hostTNode,null)),_}createComponent(n,o,a,c,h){var m,D;const O=n&&!function Ta(t){return"function"==typeof t}(n);let W;if(O)W=o;else{const Cn=o||{};W=Cn.index,a=Cn.injector,c=Cn.projectableNodes,h=Cn.environmentInjector||Cn.ngModuleRef}const Z=O?n:new yf(wt(n)),Te=a||this.parentInjector;if(!h&&null==Z.ngModule){const Gt=(O?Te:this.parentInjector).get(wa,null);Gt&&(h=Gt)}const qe=wt(null!==(m=Z.componentType)&&void 0!==m?m:{}),Et=(null==qe?void 0:qe.id,null),Bt=null!==(D=null==Et?void 0:Et.firstChild)&&void 0!==D?D:null,en=Z.create(Te,c,Bt,h);return this.insertImpl(en.hostView,W,Yu(this._hostTNode,Et)),en}insert(n,o){return this.insertImpl(n,o,!0)}insertImpl(n,o,a){const c=n._lView;if(function zo(t){return Si(t[dr])}(c)){const _=this.indexOf(n);if(-1!==_)this.detach(_);else{const D=c[dr],O=new _E(D,D[wr],D[dr]);O.detach(O.indexOf(n))}}const h=this._adjustIndex(o),m=this._lContainer;return Zh(m,c,h,a),n.attachToViewContainerRef(),ad(su(m),h,n),n}move(n,o){return this.insert(n,o)}indexOf(n){const o=yE(this._lContainer);return null!==o?o.indexOf(n):-1}remove(n){const o=this._adjustIndex(n,-1),a=$c(this._lContainer,o);a&&(Zs(su(this._lContainer),o),Lh(a[Ee],a))}detach(n){const o=this._adjustIndex(n,-1),a=$c(this._lContainer,o);return a&&null!=Zs(su(this._lContainer),o)?new ef(a):null}_adjustIndex(n,o=0){return null==n?this.length+o:n}};function yE(t){return t[8]}function su(t){return t[8]||(t[8]=[])}function Al(t,n){let o;const a=n[t.index];return Si(a)?o=a:(o=bp(a,n,null,t),n[t.index]=o,Sp(n,o)),au(o,n,t,a),new _E(o,t,n)}let au=function fy(t,n,o,a){if(t[Ui])return;let c;c=8&o.type?Wn(a):function If(t,n){const o=t[An],a=o.createComment(""),c=Kr(n,t);return eu(o,Vh(o,c),a,function mp(t,n){return t.nextSibling(n)}(o,c),!1),a}(n,o),t[Ui]=c},iv=()=>!1;class sv{constructor(n){this.queryList=n,this.matches=null}clone(){return new sv(this.queryList)}setDirty(){this.queryList.setDirty()}}class av{constructor(n=[]){this.queries=n}createEmbeddedView(n){const o=n.queries;if(null!==o){const a=null!==n.contentQueries?n.contentQueries[0]:o.length,c=[];for(let h=0;h<a;h++){const m=o.getByIndex(h);c.push(this.queries[m.indexInDeclarationView].clone())}return new av(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let o=0;o<this.queries.length;o++)null!==Ey(n,o).matches&&this.queries[o].setDirty()}}class py{constructor(n,o,a=null){this.flags=o,this.read=a,this.predicate="string"==typeof n?function TE(t){return t.split(",").map(n=>n.trim())}(n):n}}class Kp{constructor(n=[]){this.queries=n}elementStart(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,o)}elementEnd(n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(n)}embeddedTView(n){let o=null;for(let a=0;a<this.length;a++){const c=null!==o?o.length:0,h=this.getByIndex(a).embeddedTView(n,c);h&&(h.indexInDeclarationView=a,null!==o?o.push(h):o=[h])}return null!==o?new Kp(o):null}template(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,o)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Yp{constructor(n,o=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(n,o){this.isApplyingToNode(o)&&this.matchTNode(n,o)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,o){this.elementStart(n,o)}embeddedTView(n,o){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,o),new Yp(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(n,o,CE(o,h)),this.matchTNodeWithReadOption(n,o,In(o,n,h,!1,!1))}else a===Kc?4&o.type&&this.matchTNodeWithReadOption(n,o,-1):this.matchTNodeWithReadOption(n,o,In(o,n,a,!1,!1))}matchTNodeWithReadOption(n,o,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Bi||c===rv||c===Kc&&4&o.type)this.addMatch(o.index,-2);else{const h=In(o,n,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,a)}}addMatch(n,o){null===this.matches?this.matches=[n,o]:this.matches.push(n,o)}}function CE(t,n){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===n)return o[a+1];return null}function gy(t,n,o,a){return-1===o?function DE(t,n){return 11&t.type?fa(t,n):4&t.type?Qd(t,n):null}(n,t):-2===o?function wE(t,n,o){return o===Bi?fa(n,t):o===Kc?Qd(n,t):o===rv?Al(n,t):void 0}(t,n,a):Sn(t,t[Ee],o,n)}function ed(t,n,o,a){const c=n[Wi].queries[a];if(null===c.matches){const h=t.data,m=o.matches,_=[];for(let D=0;null!==m&&D<m.length;D+=2){const O=m[D];_.push(O<0?null:gy(n,h[O],m[D+1],o.metadata.read))}c.matches=_}return c.matches}function Ef(t,n,o,a){const c=t.queries.getByIndex(o),h=c.matches;if(null!==h){const m=ed(t,n,c,o);for(let _=0;_<h.length;_+=2){const D=h[_];if(D>0)a.push(m[_/2]);else{const O=h[_+1],W=n[-D];for(let Z=Pi;Z<W.length;Z++){const Te=W[Z];Te[Io]===Te[dr]&&Ef(Te[Ee],Te,O,a)}if(null!==W[jo]){const Z=W[jo];for(let Te=0;Te<Z.length;Te++){const qe=Z[Te];Ef(qe[Ee],qe,O,a)}}}}}return a}function vy(t,n,o){var a;const c=new Xt(4==(4&o));return function T_(t,n,o,a){const c=vm(n);c.push(o),t.firstCreatePass&&_m(t).push(a,c.length-1)}(t,n,c,c.destroy),(null!==(a=n[Wi])&&void 0!==a?a:n[Wi]=new av).queries.push(new sv(c))-1}function Iy(t,n,o){null===t.queries&&(t.queries=new Kp),t.queries.track(new Yp(n,o))}function Ey(t,n){return t.queries.getByIndex(n)}function bE(t,n){const o=t[Ee],a=Ey(o,n);return a.crossesNgTemplate?Ef(o,t,n,[]):ed(o,t,a,n)}function Jp(t){let n=function Cs(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;n;){let c;if(_i(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Vt(903,!1);c=n.\u0275dir}if(c){if(o){a.push(c);const m=t;m.inputs=nc(t.inputs),m.inputTransforms=nc(t.inputTransforms),m.declaredInputs=nc(t.declaredInputs),m.outputs=nc(t.outputs);const _=c.hostBindings;_&&dv(t,_);const D=c.viewQuery,O=c.contentQueries;if(D&&Ss(t,D),O&&VE(t,O),Ry(t,c),ct(t.outputs,c.outputs),_i(c)&&c.data.animation){const W=t.data;W.animation=(W.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let m=0;m<h.length;m++){const _=h[m];_&&_.ngInherit&&_(t),_===Jp&&(o=!1)}}n=Object.getPrototypeOf(n)}!function Df(t){let n=0,o=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=n+=c.hostVars,c.hostAttrs=Ai(c.hostAttrs,o=Ai(o,c.hostAttrs))}}(a)}function Ry(t,n){for(const a in n.inputs){if(!n.inputs.hasOwnProperty(a)||t.inputs.hasOwnProperty(a))continue;const c=n.inputs[a];if(void 0!==c&&(t.inputs[a]=c,t.declaredInputs[a]=n.declaredInputs[a],null!==n.inputTransforms)){var o;const h=Array.isArray(c)?c[0]:c;if(!n.inputTransforms.hasOwnProperty(h))continue;null!==(o=t.inputTransforms)&&void 0!==o||(t.inputTransforms={}),t.inputTransforms[h]=n.inputTransforms[h]}}}function nc(t){return t===rr?{}:t===Zn?[]:t}function Ss(t,n){const o=t.viewQuery;t.viewQuery=o?(a,c)=>{n(a,c),o(a,c)}:n}function VE(t,n){const o=t.contentQueries;t.contentQueries=o?(a,c,h)=>{n(a,c,h),o(a,c,h)}:n}function dv(t,n){const o=t.hostBindings;t.hostBindings=o?(a,c)=>{n(a,c),o(a,c)}:n}function xy(t){const n=t.inputConfig,o={};for(const a in n)if(n.hasOwnProperty(a)){const c=n[a];Array.isArray(c)&&c[3]&&(o[a]=c[3])}t.inputTransforms=o}class id{}class eg{}function $E(t,n){return new tg(t,null!=n?n:null,[])}class tg extends id{constructor(n,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sy(this);const c=qn(n);this._bootstrapComponents=bs(c.bootstrap),this._r3Injector=Rc(n,o,[{provide:id,useValue:this},{provide:af,useValue:this.componentFactoryResolver},...a],Tn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class gv extends eg{constructor(n){super(),this.moduleType=n}create(n){return new tg(this.moduleType,n,[])}}class mv extends id{constructor(n){super(),this.componentFactoryResolver=new sy(this),this.instance=null;const o=new Su([...n.providers,{provide:id,useValue:this},{provide:af,useValue:this.componentFactoryResolver}],n.parent||Au(),n.debugName,new Set(["environment"]));this.injector=o,n.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function ky(t,n,o=null){return new mv({providers:t,parent:n,debugName:o,runEnvironmentInitializers:!0}).injector}let oh=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _t.g(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ir({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function i(t,n,o){return!Object.is(t[n],o)&&(t[n]=o,!0)}function d(t,n,o,a,c,h,m,_){const D=Nt(),O=yr(),W=t+Yn,Z=O.firstCreatePass?function l(t,n,o,a,c,h,m,_,D){const O=n.consts,W=Hc(n,t,4,m||null,Zi(O,_));Kh(n,o,W,Zi(O,D)),bd(n,W);const Z=W.tView=qh(2,W,a,c,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,O,null);return null!==n.queries&&(n.queries.template(n,W),Z.queries=n.queries.embeddedTView(W)),W}(W,O,D,n,o,a,c,h,m):O.data[W];Oo(Z,!1);const Te=p(O,D,Z,t);Xs()&&Uh(O,D,Te,Z),ss(Te,D);const qe=bp(Te,D,Te,Z);return D[W]=qe,Sp(D,qe),function ov(t,n,o){return iv(t,n,o)}(qe,Z,D),ki(Z)&&cm(O,D,Z),null!=m&&Wh(D,Z,_),d}let p=function S(t,n,o,a){return Fo(!0),n[An].createComment("")};function XE(t,n,o,a){const c=Nt();return i(c,ko(),n)&&(yr(),Ra(sr(),c,t,n,o,a)),XE}function Fy(t,n){return t<<17|n<<2}function ah(t){return t>>17&32767}function ZE(t){return 2|t}function Tf(t){return(131068&t)>>2}function JE(t,n){return-131069&t|n<<2}function e0(t){return 1|t}function XC(t,n,o,a){const c=t[o+1],h=null===n;let m=a?ah(c):Tf(c),_=!1;for(;0!==m&&(!1===_||h);){const O=t[m+1];$b(t[m],n)&&(_=!0,t[m+1]=a?e0(O):ZE(O)),m=a?ah(O):Tf(O)}_&&(t[o+1]=a?ZE(c):e0(c))}function $b(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ls(t,n)>=0}function t0(t,n,o){const a=Nt();return i(a,ko(),n)&&Is(yr(),sr(),a,t,n,a[An],o,!1),t0}function n0(t,n,o,a,c){const m=c?"class":"style";Im(t,o,n.inputs[m],m,a)}function r0(t,n){return function lu(t,n,o,a){const c=Nt(),h=yr(),m=function C(t){const n=er.lFrame,o=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,o}(2);h.firstUpdatePass&&function sD(t,n,o,a){const c=t.data;if(null===c[o+1]){const h=c[xi()],m=function oD(t,n){return n>=t.expandoStartIndex}(t,o);(function cD(t,n){return 0!=(t.flags&(n?8:16))})(h,a)&&null===n&&!m&&(n=!1),n=function Qb(t,n,o,a){const c=function St(t){const n=er.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let h=a?n.residualClasses:n.residualStyles;if(null===c)0===(a?n.classBindings:n.styleBindings)&&(o=_v(o=o0(null,t,n,o,a),n.attrs,a),h=null);else{const m=n.directiveStylingLast;if(-1===m||t[m]!==c)if(o=o0(c,t,n,o,a),null===h){let D=function Xb(t,n,o){const a=o?n.classBindings:n.styleBindings;if(0!==Tf(a))return t[ah(a)]}(t,n,a);void 0!==D&&Array.isArray(D)&&(D=o0(null,t,n,D[1],a),D=_v(D,n.attrs,a),function Zb(t,n,o,a){t[ah(o?n.classBindings:n.styleBindings)]=a}(t,n,a,D))}else h=function Jb(t,n,o){let a;const c=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<c;h++)a=_v(a,t[h].hostAttrs,o);return _v(a,n.attrs,o)}(t,n,a)}return void 0!==h&&(a?n.residualClasses=h:n.residualStyles=h),o}(c,h,n,a),function Ub(t,n,o,a,c,h){let m=h?n.classBindings:n.styleBindings,_=ah(m),D=Tf(m);t[a]=o;let W,O=!1;if(Array.isArray(o)?(W=o[1],(null===W||Ls(o,W)>0)&&(O=!0)):W=o,c)if(0!==D){const Te=ah(t[_+1]);t[a+1]=Fy(Te,_),0!==Te&&(t[Te+1]=JE(t[Te+1],a)),t[_+1]=function Fb(t,n){return 131071&t|n<<17}(t[_+1],a)}else t[a+1]=Fy(_,0),0!==_&&(t[_+1]=JE(t[_+1],a)),_=a;else t[a+1]=Fy(D,0),0===_?_=a:t[D+1]=JE(t[D+1],a),D=a;O&&(t[a+1]=ZE(t[a+1])),XC(t,W,a,!0),XC(t,W,a,!1),function Bb(t,n,o,a,c){const h=c?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&Ls(h,n)>=0&&(o[a+1]=e0(o[a+1]))}(n,W,t,a,h),m=Fy(_,D),h?n.classBindings=m:n.styleBindings=m}(c,h,n,o,m,a)}}(h,t,m,a),n!==Tr&&i(c,m,n)&&function lD(t,n,o,a,c,h,m,_){if(!(3&n.type))return;const D=t.data,O=D[_+1],W=function Vb(t){return 1==(1&t)}(O)?uD(D,n,o,c,Tf(O),m):void 0;Vy(W)||(Vy(h)||function Lb(t){return 2==(2&t)}(O)&&(h=uD(D,null,o,c,_,m)),function MI(t,n,o,a,c){if(n)c?t.addClass(o,a):t.removeClass(o,a);else{let h=-1===a.indexOf("-")?void 0:Bd.DashCase;null==c?t.removeStyle(o,a,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=Bd.Important),t.setStyle(o,a,c,h))}}(a,m,Xr(xi(),o),c,h))}(h,h.data[xi()],c,c[An],t,c[m+1]=function rA(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Tn(Uu(t)))),t}(n,o),a,m)}(t,n,null,!0),r0}function o0(t,n,o,a,c){let h=null;const m=o.directiveEnd;let _=o.directiveStylingLast;for(-1===_?_=o.directiveStart:_++;_<m&&(h=n[_],a=_v(a,h.hostAttrs,c),h!==t);)_++;return null!==t&&(o.directiveStylingLast=_),a}function _v(t,n,o){const a=o?1:2;let c=-1;if(null!==n)for(let h=0;h<n.length;h++){const m=n[h];"number"==typeof m?c=m:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ko(t,m,!!o||n[++h]))}return void 0===t?null:t}function uD(t,n,o,a,c,h){const m=null===n;let _;for(;c>0;){const D=t[c],O=Array.isArray(D),W=O?D[1]:D,Z=null===W;let Te=o[c+1];Te===Tr&&(Te=Z?Zn:void 0);let qe=Z?Fr(Te,a):W===a?Te:void 0;if(O&&!Vy(qe)&&(qe=Fr(D,a)),Vy(qe)&&(_=qe,m))return _;const Et=t[c+1];c=m?ah(Et):Tf(Et)}if(null!==n){let D=h?n.residualClasses:n.residualStyles;null!=D&&(_=Fr(D,a))}return _}function Vy(t){return void 0!==t}function Uy(t,n,o,a){const c=Nt(),h=yr(),m=Yn+t,_=c[An],D=h.firstCreatePass?function bA(t,n,o,a,c,h){const m=n.consts,D=Hc(n,t,2,a,Zi(m,c));return Kh(n,o,D,Zi(m,h)),null!==D.attrs&&Jc(D,D.attrs,!1),null!==D.mergedAttrs&&Jc(D,D.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,D),D}(m,h,c,n,o,a):h.data[m],O=pD(h,c,D,_,n,t);c[m]=O;const W=ki(D);return Oo(D,!0),jc(_,O,D),32!=(32&D.flags)&&Xs()&&Uh(h,c,O,D),0===function od(){return er.lFrame.elementDepthCount}()&&ss(O,c),function Rl(){er.lFrame.elementDepthCount++}(),W&&(cm(h,c,D),Hh(h,D,c)),null!==a&&Wh(c,D),Uy}function By(){let t=ri();il()?xs():(t=t.parent,Oo(t,!1));const n=t;(function lc(t){return er.skipHydrationRootTNode===t})(n)&&function Pl(){er.skipHydrationRootTNode=null}(),function ac(){er.lFrame.elementDepthCount--}();const o=yr();return o.firstCreatePass&&(bd(o,t),Do(t)&&o.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Nu(t){return 0!=(8&t.flags)}(n)&&n0(o,n,Nt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Yl(t){return 0!=(16&t.flags)}(n)&&n0(o,n,Nt(),n.stylesWithoutHost,!1),By}function c0(t,n,o,a){return Uy(t,n,o,a),By(),c0}let pD=(t,n,o,a,c,h)=>(Fo(!0),$d(a,c,function bo(){return er.lFrame.currentNamespace}()));function d0(t,n,o){const a=Nt(),c=yr(),h=t+Yn,m=c.firstCreatePass?function RA(t,n,o,a,c){const h=n.consts,m=Zi(h,a),_=Hc(n,t,8,"ng-container",m);return null!==m&&Jc(_,m,!0),Kh(n,o,_,Zi(h,c)),null!==n.queries&&n.queries.elementStart(n,_),_}(h,c,a,n,o):c.data[h];Oo(m,!0);const _=gD(c,a,m,t);return a[h]=_,Xs()&&Uh(c,a,_,m),ss(_,a),ki(m)&&(cm(c,a,m),Hh(c,m,a)),null!=o&&Wh(a,m),d0}function h0(){let t=ri();const n=yr();return il()?xs():(t=t.parent,Oo(t,!1)),n.firstCreatePass&&(bd(n,t),Do(t)&&n.queries.elementEnd(t)),h0}function f0(t,n,o){return d0(t,n,o),h0(),f0}let gD=(t,n,o,a)=>(Fo(!0),Wu(n[An],""));function mD(){return Nt()}const bf=void 0;var NA=["en",[["a","p"],["AM","PM"],bf],[["AM","PM"],bf,bf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bf,"{1} 'at' {0}",bf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xA(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let _g={};function p0(t){const n=function OA(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=ID(n);if(o)return o;const a=n.split("-")[0];if(o=ID(a),o)return o;if("en"===a)return NA;throw new Vt(701,!1)}function yD(t){return p0(t)[yg.PluralCase]}function ID(t){return t in _g||(_g[t]=wn.ng&&wn.ng.common&&wn.ng.common.locales&&wn.ng.common.locales[t]),_g[t]}var yg=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(yg||{});const Ig="en-US";let ED=Ig;function v0(t,n,o,a){const c=Nt(),h=yr(),m=ri();return _0(h,c,c[An],m,t,n,a),v0}function _0(t,n,o,a,c,h,m){const _=ki(a),O=t.firstCreatePass&&_m(t),W=n[jr],Z=vm(n);let Te=!0;if(3&a.type||m){const Bt=Kr(a,n),en=m?m(Bt):Bt,Cn=Z.length,Gt=m?Or=>m(Wn(Or[a.index])):a.index;let fr=null;if(!m&&_&&(fr=function SS(t,n,o,a){const c=t.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const m=c[h];if(m===o&&c[h+1]===a){const _=n[Hi],D=c[h+2];return _.length>D?_[D]:null}"string"==typeof m&&(h+=2)}return null}(t,n,c,a.index)),null!==fr)(fr.__ngLastListenerFn__||fr).__ngNextListenerFn__=h,fr.__ngLastListenerFn__=h,Te=!1;else{h=KD(a,n,W,h,!1);const Or=o.listen(en,c,h);Z.push(h,Or),O&&O.push(c,Gt,Cn,Cn+1)}}else h=KD(a,n,W,h,!1);const qe=a.outputs;let Et;if(Te&&null!==qe&&(Et=qe[c])){const Bt=Et.length;if(Bt)for(let en=0;en<Bt;en+=2){const Ei=n[Et[en]][Et[en+1]].subscribe(h),cs=Z.length;Z.push(h,Ei),O&&O.push(c,a.index,cs,"function"==typeof Ei?cs+1:-(cs+1))}}}function qD(t,n,o,a){try{return oa(6,n,o),!1!==o(a)}catch(c){return Qh(t,c),!1}finally{oa(7,n,o)}}function KD(t,n,o,a,c){return function h(m){if(m===Function)return a;qc(t.componentOffset>-1?Hr(t.index,n):n);let D=qD(n,o,a,m),O=h.__ngNextListenerFn__;for(;O;)D=qD(n,o,O,m)&&D,O=O.__ngNextListenerFn__;return c&&!1===D&&m.preventDefault(),D}}function YD(t=1){return function Ti(t){return(er.lFrame.contextLView=function ca(t,n){for(;t>0;)n=n[yo],t--;return n}(t,er.lFrame.contextLView))[jr]}(t)}function RS(t,n){let o=null;const a=function Wt(t){const n=t.attrs;if(null!=n){const o=n.indexOf(5);if(!(1&o))return n[o+1]}return null}(t);for(let c=0;c<n.length;c++){const h=n[c];if("*"!==h){if(null===a?bt(t,h,!0):Un(a,h))return c}else o=c}return o}function QD(t){const n=Nt()[ai][wr];if(!n.projection){const a=n.projection=function du(t,n){const o=[];for(let a=0;a<t;a++)o.push(n);return o}(t?t.length:1,null),c=a.slice();let h=n.child;for(;null!==h;){const m=t?RS(h,t):0;null!==m&&(c[m]?c[m].projectionNext=h:a[m]=h,c[m]=h),h=h.next}}}function XD(t,n=0,o){const a=Nt(),c=yr(),h=Hc(c,Yn+t,16,null,o||null);null===h.projection&&(h.projection=n),xs(),(!a[Mi]||Ps())&&32!=(32&h.flags)&&function SI(t,n,o){yp(n[An],0,n,o,Gc(t,o,n),vp(o.parent||n[wr],o,n))}(c,a,h)}function aw(t,n,o,a){!function yy(t,n,o,a){const c=yr();if(c.firstCreatePass){const h=ri();Iy(c,new py(n,o,a),h.index),function pC(t,n){const o=t.contentQueries||(t.contentQueries=[]);n!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,n)}(c,t),2==(2&o)&&(c.staticContentQueries=!0)}return vy(c,Nt(),o)}(t,n,o,a)}function lw(t,n,o){!function _y(t,n,o){const a=yr();return a.firstCreatePass&&(Iy(a,new py(t,n,o),-1),2==(2&n)&&(a.staticViewQueries=!0)),vy(a,Nt(),n)}(t,n,o)}function uw(t){const n=Nt(),o=yr(),a=zt();pr(a+1);const c=Ey(o,a);if(t.dirty&&function wi(t){return 4==(4&t[Yt])}(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const h=bE(n,a);t.reset(h,uc),t.notifyOnChanges()}return!0}return!1}function cw(){return function my(t,n){return t[Wi].queries[n].queryList}(Nt(),zt())}function dw(t){return function Xi(t,n){return t[n]}(function ha(){return er.lFrame.contextLView}(),Yn+t)}function Ew(t,n=""){const o=Nt(),a=yr(),c=t+Yn,h=a.firstCreatePass?Hc(a,c,1,n,null):a.data[c],m=Cw(a,o,h,n,t);o[c]=m,Xs()&&Uh(a,o,m,h),Oo(h,!1)}let Cw=(t,n,o,a,c)=>(Fo(!0),function cp(t,n){return t.createText(n)}(n[An],a));function I0(t){return Wy("",t,""),I0}function Wy(t,n,o){const a=Nt(),c=function ug(t,n,o,a){return i(t,ko(),o)?n+tt(o)+a:Tr}(a,t,n,o);return c!==Tr&&function tu(t,n,o){const a=Xr(n,t);!function Bc(t,n,o){t.setValue(n,o)}(t[An],a,o)}(a,xi(),c),Wy}function E0(t,n,o){jm(n)&&(n=n());const a=Nt();return i(a,ko(),n)&&Is(yr(),sr(),a,t,n,a[An],o,!1),E0}function Pw(t,n){const o=jm(t);return o&&t.set(n),o}function C0(t,n){const o=Nt(),a=yr(),c=ri();return _0(a,o,o[An],c,t,n),C0}function D0(t,n,o,a,c){if(t=Kn(t),Array.isArray(t))for(let h=0;h<t.length;h++)D0(t[h],n,o,a,c);else{const h=yr(),m=Nt(),_=ri();let D=Ha(t)?t:Kn(t.provide);const O=Ed(t),W=1048575&_.providerIndexes,Z=_.directiveStart,Te=_.providerIndexes>>20;if(Ha(t)||!t.multi){const qe=new Ka(O,c,qu),Et=T0(D,n,c?W:W+Te,Z);-1===Et?(g(ml(_,m),h,D),w0(h,t,n.length),n.push(D),_.directiveStart++,_.directiveEnd++,c&&(_.providerIndexes+=1048576),o.push(qe),m.push(qe)):(o[Et]=qe,m[Et]=qe)}else{const qe=T0(D,n,W+Te,Z),Et=T0(D,n,W,W+Te),en=Et>=0&&o[Et];if(c&&!en||!c&&!(qe>=0&&o[qe])){g(ml(_,m),h,D);const Cn=function KS(t,n,o,a,c){const h=new Ka(t,o,qu);return h.multi=[],h.index=n,h.componentProviders=0,xw(h,c,a&&!o),h}(c?qS:zS,o.length,c,a,O);!c&&en&&(o[Et].providerFactory=Cn),w0(h,t,n.length,0),n.push(D),_.directiveStart++,_.directiveEnd++,c&&(_.providerIndexes+=1048576),o.push(Cn),m.push(Cn)}else w0(h,t,qe>-1?qe:Et,xw(o[c?Et:qe],O,!c&&a));!c&&a&&en&&o[Et].componentProviders++}}}function w0(t,n,o,a){const c=Ha(n),h=function fl(t){return!!t.useClass}(n);if(c||h){const D=(h?Kn(n.useClass):n).prototype.ngOnDestroy;if(D){const O=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const W=O.indexOf(o);-1===W?O.push(o,[a,D]):O[W+1].push(a,D)}else O.push(o,D)}}}function xw(t,n,o){return o&&t.componentProviders++,t.multi.push(n)-1}function T0(t,n,o,a){for(let c=o;c<a;c++)if(n[c]===t)return c;return-1}function zS(t,n,o,a){return b0(this.multi,[])}function qS(t,n,o,a){const c=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,_=Sn(o,o[Ee],this.providerFactory.index,a);h=_.slice(0,m),b0(c,h);for(let D=m;D<_.length;D++)h.push(_[D])}else h=[],b0(c,h);return h}function b0(t,n){for(let o=0;o<t.length;o++)n.push((0,t[o])());return n}function Nw(t,n=[]){return o=>{o.providersResolver=(a,c)=>function WS(t,n,o){const a=yr();if(a.firstCreatePass){const c=_i(t);D0(o,a.data,a.blueprint,c,!0),D0(n,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,n)}}let YS=(()=>{var t;class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=vd(0,a.type),h=c.length>0?ky([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,h)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=Ir({token:t,providedIn:"environment",factory:()=>new t(Ao(wa))}),n})();function Ow(t){Za("NgStandalone"),t.getStandaloneInjector=n=>n.get(YS).getOrCreateStandaloneInjector(t)}class uT{constructor(n){this.full=n;const o=n.split(".");this.major=o[0],this.minor=o[1],this.patch=o.slice(2).join(".")}}const HR=new uT("17.2.2");let cT=(()=>{var t;class n{log(a){console.log(a)}warn(a){console.warn(a)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ir({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const pT=new H(""),gT=new H("");let O0,mM=(()=>{var t;class n{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,O0||(function vM(t){O0=t}(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{lo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb()}});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==m),a()},c)),this._callbacks.push({doneCb:a,timeoutId:m,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return(t=n).\u0275fac=function(a){return new(a||t)(Ao(lo),Ao(mT),Ao(gT))},t.\u0275prov=Ir({token:t,factory:t.\u0275fac}),n})(),mT=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){var h,m;return null!==(h=null===(m=O0)||void 0===m?void 0:m.findTestabilityInTree(this,a,c))&&void 0!==h?h:null}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ir({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();function k0(t){return!!t&&"function"==typeof t.then}function vT(t){return!!t&&"function"==typeof t.subscribe}const _T=new H("");let L0=(()=>{var t;class n{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h}),this.appInits=null!==(a=Zr(_T,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const m=h();if(k0(m))a.push(m);else if(vT(m)){const _=new Promise((D,O)=>{m.subscribe({complete:D,error:O})});a.push(_)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ir({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const F0=new H("");function ET(t,n){return Array.isArray(n)?n.reduce(ET,t):{...t,...n}}let Af=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Zr(Bg),this.afterRenderEffectManager=Zr(Xc),this.componentTypes=[],this.components=[],this.isStable=Zr(oh).hasPendingTasks.pipe((0,yt.k)(a=>!a)),this._injector=Zr(wa)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof j_;if(!this._injector.get(L0).done)throw!h&&pn(a),new Vt(405,!1);let _;_=h?a:this._injector.get(af).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const D=function _M(t){return t.isBoundToModule}(_)?void 0:this._injector.get(id),W=_.create(aa.NULL,[],c||_.selector,D),Z=W.location.nativeElement,Te=W.injector.get(pT,null);return null==Te||Te.registerApplication(Z),W.onDestroy(()=>{this.detachView(W.hostView),Yy(this.components,W),null==Te||Te.unregisterApplication(Z)}),this._loadComponent(W),W}tick(){if(this._runningTick)throw new Vt(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let a=0;do{if(100===a)throw new Vt(103,!1);const c=0===a;for(let{_lView:h,notifyErrorHandler:m}of this._views)!c&&!CT(h)||this.detectChangesInView(h,m,c);this.afterRenderEffectManager.execute(),a++}while(this._views.some(({_lView:c})=>CT(c)))}detectChangesInView(a,c,h){let m;h?(m=0,a[Yt]|=1024):m=64&a[Yt]?0:1,nu(a,c,m)}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Yy(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(F0,[]);[...this._bootstrapListeners,...c].forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Yy(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Vt(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ir({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function Yy(t,n){const o=t.indexOf(n);o>-1&&t.splice(o,1)}function CT(t){return fs(t)}class IM{constructor(n,o){this.ngModuleFactory=n,this.componentFactories=o}}let EM=(()=>{var t;class n{compileModuleSync(a){return new gv(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),m=bs(qn(a).declarations).reduce((_,D)=>{const O=wt(D);return O&&_.push(new yf(O)),_},[]);return new IM(c,m)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ir({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),wM=(()=>{var t;class n{constructor(){this.zone=Zr(lo),this.applicationRef=Zr(Af)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ir({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function TM(){const t=Zr(lo),n=Zr(_l);return o=>t.runOutsideAngular(()=>n.handleError(o))}let AM=(()=>{var t;class n{constructor(){this.subscription=new Le.wH,this.initialized=!1,this.zone=Zr(lo),this.pendingTasks=Zr(oh)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{lo.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var c;lo.assertInAngularZone(),null!==(c=a)&&void 0!==c||(a=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ir({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const Qy=new H("",{providedIn:"root",factory:()=>Zr(Qy,Dn.Optional|Dn.SkipSelf)||function SM(){return typeof $localize<"u"&&$localize.locale||Ig}()}),RM=new H("",{providedIn:"root",factory:()=>"USD"}),V0=new H("");let bT=(()=>{var t;class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=function pE(t="zone.js",n){return"noop"===t?new Wp:"zone.js"===t?new lo(n):t}(null==c?void 0:c.ngZone,function TT(t){var n,o;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(o=null==t?void 0:t.runCoalescing)&&void 0!==o&&o}}({eventCoalescing:null==c?void 0:c.ngZoneEventCoalescing,runCoalescing:null==c?void 0:c.ngZoneRunCoalescing}));return h.run(()=>{const m=function Oy(t,n,o){return new tg(t,n,o)}(a.moduleType,this.injector,function wT(t){return[{provide:lo,useFactory:t},{provide:dl,multi:!0,useFactory:()=>{const n=Zr(wM,{optional:!0});return()=>n.initialize()}},{provide:dl,multi:!0,useFactory:()=>{const n=Zr(AM);return()=>{n.initialize()}}},{provide:Bg,useFactory:TM}]}(()=>h)),_=m.injector.get(_l,null);return h.runOutsideAngular(()=>{const D=h.onError.subscribe({next:O=>{_.handleError(O)}});m.onDestroy(()=>{Yy(this._modules,m),D.unsubscribe()})}),function IT(t,n,o){try{const a=o();return k0(a)?a.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(_,h,()=>{const D=m.injector.get(L0);return D.runInitializers(),D.donePromise.then(()=>(function CD(t){"string"==typeof t&&(ED=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(Qy,Ig)||Ig),this._moduleDoBootstrap(m),m))})})}bootstrapModule(a,c=[]){const h=ET({},c);return function DM(t,n,o){const a=new gv(o);return Promise.resolve(a)}(0,0,a).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(a){const c=a.injector.get(Af);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Vt(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Vt(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(V0,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(a){return new(a||t)(Ao(aa))},t.\u0275prov=Ir({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),lh=null;const AT=new H("");function ST(t,n,o=[]){const a=`Platform: ${n}`,c=new H(a);return(h=[])=>{let m=U0();if(!m||m.injector.get(AT,!1)){const _=[...o,...h,{provide:c,useValue:!0}];t?t(_):function PM(t){if(lh&&!lh.get(AT,!1))throw new Vt(400,!1);(function yT(){!function at(t){fn=t}(()=>{throw new Vt(600,!1)})})(),lh=t;const n=t.get(bT);(function MT(t){const n=t.get(xt,null);null==n||n.forEach(o=>o())})(t)}(function RT(t=[],n){return aa.create({name:n,providers:[{provide:Ic,useValue:"platform"},{provide:V0,useValue:new Set([()=>lh=null])},...t]})}(_,a))}return function xM(t){const n=U0();if(!n)throw new Vt(401,!1);return n}()}}function U0(){var t,n;return null!==(t=null===(n=lh)||void 0===n?void 0:n.get(bT))&&void 0!==t?t:null}function OM(){return!1}function kM(){}const UM=ST(null,"core",[]);let BM=(()=>{var t;class n{constructor(a){}}return(t=n).\u0275fac=function(a){return new(a||t)(Ao(Af))},t.\u0275mod=Ct({type:t}),t.\u0275inj=dc({}),n})();function fP(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function gP(t,n){const o=wt(t),a=n.elementInjector||Au();return new yf(o).create(a,n.projectableNodes,n.hostElement,n.environmentInjector)}function mP(t){const n=wt(t);if(!n)return null;const o=new yf(n);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},3552:(on,it,k)=>{"use strict";k.d(it,{i4:()=>el,Se:()=>wf});var u=k(4580),z=k(1368),K=k(4496),le=k(7900),be=k(6e3),ce=(k(864),k(5657)),We=k(2700),ze=k(3252),ge=k(9900),ue=k(267),Re=k(560),Fe=k(8960),ke=k(9472),rt=k(3920),Pe=k(7368),Me=k(4704),Be=k(5960);class vt extends ce.E{constructor(e=1/0,r=1/0,s=Be.K){super(),this._bufferSize=e,this._windowTime=r,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,r)}next(e){const{isStopped:r,_buffer:s,_infiniteTimeWindow:l,_timestampProvider:d,_windowTime:p}=this;r||(s.push(e),!l&&s.push(d.now()+p)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(e),{_infiniteTimeWindow:s,_buffer:l}=this,d=l.slice();for(let p=0;p<d.length&&!e.closed;p+=s?1:2)e.next(d[p]);return this._checkFinalizedStatuses(e),r}_trimBuffer(){const{_bufferSize:e,_timestampProvider:r,_buffer:s,_infiniteTimeWindow:l}=this,d=(l?1:2)*e;if(e<1/0&&d<s.length&&s.splice(0,s.length-d),!l){const p=r.now();let S=0;for(let M=1;M<s.length&&s[M]<=p;M+=2)S=M;S&&s.splice(0,S+1)}}}var Ke=k(1760),Ve=k(5448);function Qe(i,e,...r){if(!0===e)return void i();if(!1===e)return;const s=new Ke.ot({next:()=>{s.unsubscribe(),i()}});return(0,Re.Uv)(e(...r)).subscribe(s)}function ae(i,e,r){let s,l=!1;return i&&"object"==typeof i?({bufferSize:s=1/0,windowTime:e=1/0,refCount:l=!1,scheduler:r}=i):s=null!=i?i:1/0,function Oe(i={}){const{connector:e=(()=>new ce.E),resetOnError:r=!0,resetOnComplete:s=!0,resetOnRefCountZero:l=!0}=i;return d=>{let p,S,M,$=0,Q=!1,ve=!1;const Ze=()=>{null==S||S.unsubscribe(),S=void 0},lt=()=>{Ze(),p=M=void 0,Q=ve=!1},Jt=()=>{const hn=p;lt(),null==hn||hn.unsubscribe()};return(0,Ve.i)((hn,sn)=>{$++,!ve&&!Q&&Ze();const Mn=M=null!=M?M:e();sn.add(()=>{$--,0===$&&!ve&&!Q&&(S=Qe(Jt,l))}),Mn.subscribe(sn),!p&&$>0&&(p=new Ke.ot({next:tr=>Mn.next(tr),error:tr=>{ve=!0,Ze(),S=Qe(lt,r,tr),Mn.error(tr)},complete:()=>{Q=!0,Ze(),S=Qe(lt,s),Mn.complete()}}),(0,Re.Uv)(hn).subscribe(p))})(d)}}({connector:()=>new vt(s,e,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}var X=k(5084),oe=k(8880);function Se(i,e){return(0,oe.m)(e)?(0,Pe.G)(()=>i,e):(0,Pe.G)(()=>i)}var je=k(2924),ot=k(6684),ut=k(9252);const fn=new K.UbH("angularfire2.auth.use-emulator"),jn=new K.UbH("angularfire2.auth.settings"),at=new K.UbH("angularfire2.auth.tenant-id"),De=new K.UbH("angularfire2.auth.langugage-code"),fe=new K.UbH("angularfire2.auth.use-device-language"),we=new K.UbH("angularfire.auth.persistence"),Ne=(i,e,r,s,l,d,p,S)=>(0,be.PQ)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const M=e.runOutsideAngular(()=>i.auth());if(r&&M.useEmulator(...r),s&&(M.tenantId=s),M.languageCode=l,d&&M.useDeviceLanguage(),p)for(const[$,Q]of Object.entries(p))M.settings[$]=Q;return S&&M.setPersistence(S),M},[r,s,l,d,p,S]);let nt=(()=>{var i;class e{constructor(s,l,d,p,S,M,$,Q,ve,Ze,lt,Jt){(0,u.c)(this,"authState",void 0),(0,u.c)(this,"idToken",void 0),(0,u.c)(this,"user",void 0),(0,u.c)(this,"idTokenResult",void 0),(0,u.c)(this,"credential",void 0);const hn=new ce.E,sn=(0,We.of)(void 0).pipe((0,rt.y)(S.outsideAngular),(0,Pe.G)(()=>p.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,864)))),(0,Me.k)(()=>(0,be._G)(s,p,l)),(0,Me.k)(Mn=>Ne(Mn,p,M,Q,ve,Ze,$,lt)),ae({bufferSize:1,refCount:!1}));if((0,z.uf)(d))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,We.of)(null);else{sn.pipe((0,X.K)()).subscribe();const Mn=sn.pipe((0,Pe.G)(Gn=>Gn.getRedirectResult().then(Vr=>Vr,()=>null)),le.wH,ae({bufferSize:1,refCount:!1})),tr=sn.pipe((0,Pe.G)(Gn=>new ze._(Vr=>({unsubscribe:p.runOutsideAngular(()=>Gn.onAuthStateChanged(br=>Vr.next(br),br=>Vr.error(br),()=>Vr.complete()))})))),Qn=sn.pipe((0,Pe.G)(Gn=>new ze._(Vr=>({unsubscribe:p.runOutsideAngular(()=>Gn.onIdTokenChanged(br=>Vr.next(br),br=>Vr.error(br),()=>Vr.complete()))}))));this.authState=Mn.pipe(Se(tr),(0,je.y)(S.outsideAngular),(0,rt.y)(S.insideAngular)),this.user=Mn.pipe(Se(Qn),(0,je.y)(S.outsideAngular),(0,rt.y)(S.insideAngular)),this.idToken=this.user.pipe((0,Pe.G)(Gn=>Gn?(0,ge.Q)(Gn.getIdToken()):(0,We.of)(null))),this.idTokenResult=this.user.pipe((0,Pe.G)(Gn=>Gn?(0,ge.Q)(Gn.getIdTokenResult()):(0,We.of)(null))),this.credential=function Ae(...i){const e=(0,ke.e_)(i),r=(0,ke._8)(i,1/0),s=i;return s.length?1===s.length?(0,Re.Uv)(s[0]):(0,ue.u)(r)((0,ge.Q)(s,e)):Fe.k}(Mn,hn,this.authState.pipe((0,ot.I)(Gn=>!Gn))).pipe((0,Me.k)(Gn=>null!=Gn&&Gn.user?Gn:null),(0,je.y)(S.outsideAngular),(0,rt.y)(S.insideAngular))}return(0,be._w)(this,sn,p,{spy:{apply:(Mn,tr,Qn)=>{(Mn.startsWith("signIn")||Mn.startsWith("createUser"))&&Qn.then(Gn=>hn.next(Gn))}}})}}return i=e,(0,u.c)(e,"\u0275fac",function(s){return new(s||i)(K.CoB(be.E9),K.CoB(be.Ml,8),K.CoB(K.AHE),K.CoB(K.WW2),K.CoB(le.u),K.CoB(fn,8),K.CoB(jn,8),K.CoB(at,8),K.CoB(De,8),K.CoB(fe,8),K.CoB(we,8),K.CoB(le.gJ,8))}),(0,u.c)(e,"\u0275prov",K.wxM({token:i,factory:i.\u0275fac,providedIn:"any"})),e})();var Lt=k(112),tn=k(5568),Zt=k(7773);function Rt(){return(0,Ve.i)((i,e)=>{let r,s=!1;i.subscribe((0,Zt.e)(e,l=>{const d=r;r=l,s&&e.next([d,l]),s=!0}))})}var Mt,_n=k(208),kn=k(4e3),Hn=k(8368),Le=k(1528),_t=k(9360),yt=k(4920),jt=k(5976),qt=k(7144),Vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},an={},Fn=Fn||{},cn=Vt||self;function or(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ar(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Vn="closure_uid_"+(1e9*Math.random()>>>0),mr=0;function fi(i,e,r){return i.call.apply(i.bind,arguments)}function Ur(i,e,r){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function On(i,e,r){return(On=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fi:Ur).apply(null,arguments)}function kr(i,e){var r=Array.prototype.slice.call(arguments,1);return function(){var s=r.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Dn(i,e){function r(){}r.prototype=e.prototype,i.$=e.prototype,i.prototype=new r,i.prototype.constructor=i,i.ac=function(s,l,d){for(var p=Array(arguments.length-2),S=2;S<arguments.length;S++)p[S-2]=arguments[S];return e.prototype[l].apply(s,p)}}function Tn(){this.s=this.s,this.o=this.o}Tn.prototype.s=!1,Tn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Nn(i){Object.prototype.hasOwnProperty.call(i,Vn)&&i[Vn]||(i[Vn]=++mr)}(this)},Tn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ln=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===e)return r;return-1};function $r(i){const e=i.length;if(0<e){const r=Array(e);for(let s=0;s<e;s++)r[s]=i[s];return r}return[]}function zr(i,e){for(let r=1;r<arguments.length;r++){const s=arguments[r];if(or(s)){const l=i.length||0,d=s.length||0;i.length=l+d;for(let p=0;p<d;p++)i[l+p]=s[p]}else i.push(s)}}function Sr(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Sr.prototype.h=function(){this.defaultPrevented=!0};var ei=function(){if(!cn.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{const r=()=>{};cn.addEventListener("test",r,e),cn.removeEventListener("test",r,e)}catch{}return i}();function Ar(i){return/^[\s\xa0]*$/.test(i)}function oi(){var i=cn.navigator;return i&&(i=i.userAgent)?i:""}function ti(i){return-1!=oi().indexOf(i)}function It(i){return It[" "](i),i}It[" "]=function(){};var Kt,i,Dt=ti("Opera"),Xe=ti("Trident")||ti("MSIE"),te=ti("Edge"),se=te||Xe,Ce=ti("Gecko")&&!(-1!=oi().toLowerCase().indexOf("webkit")&&!ti("Edge"))&&!(ti("Trident")||ti("MSIE"))&&!ti("Edge"),$e=-1!=oi().toLowerCase().indexOf("webkit")&&!ti("Edge");function Je(){var i=cn.document;return i?i.documentMode:void 0}e:{var dn="",Pn=(i=oi(),Ce?/rv:([^\);]+)(\)|;)/.exec(i):te?/Edge\/([\d\.]+)/.exec(i):Xe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):$e?/WebKit\/(\S+)/.exec(i):Dt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Pn&&(dn=Pn?Pn[1]:""),Xe){var _r=Je();if(null!=_r&&_r>parseFloat(dn)){Kt=String(_r);break e}}Kt=dn}var wn=cn.document&&Xe&&(Je()||parseInt(Kt,10))||void 0;function Gr(i,e){if(Sr.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Ce){e:{try{It(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==r?e=i.fromElement:"mouseout"==r&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:ji[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Gr.$.h.call(this)}}Dn(Gr,Sr);var ji={2:"touch",3:"pen",4:"mouse"};Gr.prototype.h=function(){Gr.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var rr="closure_listenable_"+(1e6*Math.random()|0),Zn=0;function ft(i,e,r,s,l){this.listener=i,this.proxy=null,this.src=e,this.type=r,this.capture=!!s,this.la=l,this.key=++Zn,this.fa=this.ia=!1}function ct(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Pt(i,e,r){for(const s in i)e.call(r,i[s],s,i)}function bn(i){const e={};for(const r in i)e[r]=i[r];return e}const xn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zn(i,e){let r,s;for(let l=1;l<arguments.length;l++){for(r in s=arguments[l],s)i[r]=s[r];for(let d=0;d<xn.length;d++)r=xn[d],Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])}}function Cr(i){this.src=i,this.g={},this.h=0}function ir(i,e){var r=e.type;if(r in i.g){var d,s=i.g[r],l=Ln(s,e);(d=0<=l)&&Array.prototype.splice.call(s,l,1),d&&(ct(e),0==i.g[r].length&&(delete i.g[r],i.h--))}}function cr(i,e,r,s){for(var l=0;l<i.length;++l){var d=i[l];if(!d.fa&&d.listener==e&&d.capture==!!r&&d.la==s)return l}return-1}Cr.prototype.add=function(i,e,r,s,l){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var p=cr(i,e,s,l);return-1<p?(e=i[p],r||(e.ia=!1)):((e=new ft(e,this.src,d,!!s,l)).ia=r,i.push(e)),e};var bi="closure_lm_"+(1e6*Math.random()|0),Vi={};function Mr(i,e,r,s,l){if(s&&s.once)return Nr(i,e,r,s,l);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Mr(i,e[d],r,s,l);return null}return r=st(r),i&&i[rr]?i.O(e,r,ar(s)?!!s.capture:!!s,l):Oi(i,e,r,!1,s,l)}function Oi(i,e,r,s,l,d){if(!e)throw Error("Invalid event type");var p=ar(l)?!!l.capture:!!l,S=q(i);if(S||(i[bi]=S=new Cr(i)),(r=S.add(e,r,s,p,d)).proxy)return r;if(s=function Ai(){const e=me;return function i(r){return e.call(i.src,i.listener,r)}}(),r.proxy=s,s.src=i,s.listener=r,i.addEventListener)ei||(l=p),void 0===l&&(l=!1),i.addEventListener(e.toString(),s,l);else if(i.attachEvent)i.attachEvent(_e(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return r}function Nr(i,e,r,s,l){if(Array.isArray(e)){for(var d=0;d<e.length;d++)Nr(i,e[d],r,s,l);return null}return r=st(r),i&&i[rr]?i.P(e,r,ar(s)?!!s.capture:!!s,l):Oi(i,e,r,!0,s,l)}function lr(i,e,r,s,l){if(Array.isArray(e))for(var d=0;d<e.length;d++)lr(i,e[d],r,s,l);else s=ar(s)?!!s.capture:!!s,r=st(r),i&&i[rr]?(i=i.i,(e=String(e).toString())in i.g&&-1<(r=cr(d=i.g[e],r,s,l))&&(ct(d[r]),Array.prototype.splice.call(d,r,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=q(i))&&(e=i.g[e.toString()],i=-1,e&&(i=cr(e,r,s,l)),(r=-1<i?e[i]:null)&&Dr(r))}function Dr(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[rr])ir(e.i,i);else{var r=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(r,s,i.capture):e.detachEvent?e.detachEvent(_e(r),s):e.addListener&&e.removeListener&&e.removeListener(s),(r=q(e))?(ir(r,i),0==r.h&&(r.src=null,e[bi]=null)):ct(i)}}}function _e(i){return i in Vi?Vi[i]:Vi[i]="on"+i}function me(i,e){if(i.fa)i=!0;else{e=new Gr(e,this);var r=i.listener,s=i.la||i.src;i.ia&&Dr(i),i=r.call(s,e)}return i}function q(i){return(i=i[bi])instanceof Cr?i:null}var he="__closure_events_fn_"+(1e9*Math.random()>>>0);function st(i){return"function"==typeof i?i:(i[he]||(i[he]=function(e){return i.handleEvent(e)}),i[he])}function bt(){Tn.call(this),this.i=new Cr(this),this.S=this,this.J=null}function Wt(i,e){var r,s=i.J;if(s)for(r=[];s;s=s.J)r.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new Sr(e,i);else if(e instanceof Sr)e.target=e.target||i;else{var l=e;zn(e=new Sr(s,i),l)}if(l=!0,r)for(var d=r.length-1;0<=d;d--){var p=e.g=r[d];l=un(p,s,!0,e)&&l}if(l=un(p=e.g=i,s,!0,e)&&l,l=un(p,s,!1,e)&&l,r)for(d=0;d<r.length;d++)l=un(p=e.g=r[d],s,!1,e)&&l}function un(i,e,r,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,d=0;d<e.length;++d){var p=e[d];if(p&&!p.fa&&p.capture==r){var S=p.listener,M=p.la||p.src;p.ia&&ir(i.i,p),l=!1!==S.call(M,s)&&l}}return l&&!s.defaultPrevented}Dn(bt,Tn),bt.prototype[rr]=!0,bt.prototype.removeEventListener=function(i,e,r,s){lr(this,i,e,r,s)},bt.prototype.N=function(){if(bt.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var r=i.g[e],s=0;s<r.length;s++)ct(r[s]);delete i.g[e],i.h--}}this.J=null},bt.prototype.O=function(i,e,r,s){return this.i.add(String(i),e,!1,r,s)},bt.prototype.P=function(i,e,r,s){return this.i.add(String(i),e,!0,r,s)};var gn=cn.JSON.stringify;function ui(){var i=Ot;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var j=new class Un{constructor(e,r){this.i=e,this.j=r,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new J,i=>i.reset());class J{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function Ue(i){var e=1;i=i.split(":");const r=[];for(;0<e&&i.length;)r.push(i.shift()),e--;return i.length&&r.push(i.join(":")),r}function He(i){cn.setTimeout(()=>{throw i},0)}let dt,Ct=!1,Ot=new class pt{constructor(){this.h=this.g=null}add(e,r){const s=j.get();s.set(e,r),this.h?this.h.next=s:this.g=s,this.h=s}},Qt=()=>{const i=cn.Promise.resolve(void 0);dt=()=>{i.then($t)}};var $t=()=>{for(var i;i=ui();){try{i.h.call(i.g)}catch(r){He(r)}var e=j;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Ct=!1};function wt(i,e){bt.call(this),this.h=i||1,this.g=e||cn,this.j=On(this.qb,this),this.l=Date.now()}function Ht(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function rn(i,e,r){if("function"==typeof i)r&&(i=On(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=On(i.handleEvent,i)}return 2147483647<Number(e)?-1:cn.setTimeout(i,e||0)}function pn(i){i.g=rn(()=>{i.g=null,i.i&&(i.i=!1,pn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Dn(wt,bt),(Mt=wt.prototype).ga=!1,Mt.T=null,Mt.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wt(this,"tick"),this.ga&&(Ht(this),this.start()))}},Mt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Mt.N=function(){wt.$.N.call(this),Ht(this),delete this.g};class qn extends Tn{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pn(this)}N(){super.N(),this.g&&(cn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(i){Tn.call(this),this.h=i,this.g={}}Dn(Pr,Tn);var qr=[];function T(i,e,r,s){Array.isArray(r)||(r&&(qr[0]=r.toString()),r=qr);for(var l=0;l<r.length;l++){var d=Mr(e,r[l],s||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function re(i){Pt(i.g,function(e,r){this.g.hasOwnProperty(r)&&Dr(e)},i),i.g={}}function x(){this.g=!0}function Yt(i,e,r,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function si(i,e){if(!i.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var s=r[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var d=l[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var p=1;p<l.length;p++)l[p]=""}}}return gn(r)}catch{return e}}(i,r)+(s?" "+s:"")})}Pr.prototype.N=function(){Pr.$.N.call(this),re(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},x.prototype.Ea=function(){this.g=!1},x.prototype.info=function(){};var wr={},Mi=null;function Hi(){return Mi=Mi||new bt}function jr(i){Sr.call(this,wr.Ta,i)}function ci(i){const e=Hi();Wt(e,new jr(e))}function to(i,e){Sr.call(this,wr.STAT_EVENT,i),this.stat=e}function An(i){const e=Hi();Wt(e,new to(e,i))}function go(i,e){Sr.call(this,wr.Ua,i),this.size=e}function _o(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return cn.setTimeout(function(){i()},e)}wr.Ta="serverreachability",Dn(jr,Sr),wr.STAT_EVENT="statevent",Dn(to,Sr),wr.Ua="timingevent",Dn(go,Sr);var yo={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ai={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Io(){}function Wi(){}Io.prototype.h=null;var zi,Ci={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Xo(){Sr.call(this,"d")}function Eo(){Sr.call(this,"c")}function co(){}function Yn(i,e,r,s){this.l=i,this.j=e,this.m=r,this.W=s||1,this.U=new Pr(this),this.P=Ro,this.V=new wt(i=se?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ds}function ds(){this.i=null,this.g="",this.h=!1}Dn(Xo,Sr),Dn(Eo,Sr),Dn(co,Io),co.prototype.g=function(){return new XMLHttpRequest},co.prototype.i=function(){return{}},zi=new co;var Ro=45e3,Ui={},Mo={};function jo(i,e,r){i.L=1,i.A=ho(Zo(e)),i.u=r,i.S=!0,Pi(i,null)}function Pi(i,e){i.G=Date.now(),Do(i),i.B=Zo(i.A);var r=i.B,s=i.W;Array.isArray(s)||(s=[String(s)]),Tt(r.i,"t",s),i.o=0,r=i.l.J,i.h=new ds,i.g=ie(i.l,r?e:null,!i.u),0<i.O&&(i.M=new qn(On(i.Pa,i,i.g),i.O)),T(i.U,i.g,"readystatechange",i.nb),e=i.I?bn(i.I):{},i.u?(i.v||(i.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.B,i.v,i.u,e)):(i.v="GET",i.g.ha(i.B,i.v,null,e)),ci(),function ne(i,e,r,s,l,d){i.info(function(){if(i.g)if(d)for(var p="",S=d.split("&"),M=0;M<S.length;M++){var $=S[M].split("=");if(1<$.length){var Q=$[0];$=$[1];var ve=Q.split("_");p=2<=ve.length&&"type"==ve[1]?p+(Q+"=")+$+"&":p+(Q+"=redacted&")}}else p=null;else p=d;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+r+"\n"+p})}(i.j,i.v,i.B,i.m,i.W,i.u)}function Co(i){return!!i.g&&"GET"==i.v&&2!=i.L&&i.l.Ha}function Di(i,e,r){let l,s=!0;for(;!i.J&&i.o<r.length;){if(l=Si(i,r),l==Mo){4==e&&(i.s=4,An(14),s=!1),Yt(i.j,i.m,null,"[Incomplete Response]");break}if(l==Ui){i.s=4,An(15),Yt(i.j,i.m,r,"[Invalid Chunk]"),s=!1;break}Yt(i.j,i.m,l,null),Po(i,l)}Co(i)&&0!=i.o&&(i.h.g=i.h.g.slice(i.o),i.o=0),4!=e||0!=r.length||i.h.h||(i.s=1,An(16),s=!1),i.i=i.i&&s,s?0<r.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),fo(e),e.M=!0,An(11))):(Yt(i.j,i.m,r,"[Invalid Chunked Response]"),li(i),_i(i))}function Si(i,e){var r=i.o,s=e.indexOf("\n",r);return-1==s?Mo:(r=Number(e.substring(r,s)),isNaN(r)?Ui:(s+=1)+r>e.length?Mo:(e=e.slice(s,s+r),i.o=s+r,e))}function Do(i){i.Y=Date.now()+i.P,Yi(i,i.P)}function Yi(i,e){if(null!=i.C)throw Error("WatchDog timer not null");i.C=_o(On(i.lb,i),e)}function ki(i){i.C&&(cn.clearTimeout(i.C),i.C=null)}function _i(i){0==i.l.H||i.J||ko(i.l,i)}function li(i){ki(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Ht(i.V),re(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Po(i,e){try{var r=i.l;if(0!=r.H&&(r.g==i||yi(r.i,i)))if(!i.K&&yi(r.i,i)&&3==r.H){try{var s=r.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0]){e:if(!r.u){if(r.g){if(!(r.g.G+3e3<i.G))break e;Qs(r),ri(r)}Oa(r),An(18)}}else r.Fa=l[1],0<r.Fa-r.V&&37500>l[2]&&r.G&&0==r.A&&!r.v&&(r.v=_o(On(r.ib,r),6e3));if(1>=Kr(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else V(r,11)}else if((i.K||r.g==i)&&Qs(r),!Ar(e))for(l=r.Ja.g.parse(e),e=0;e<l.length;e++){let $=l[e];if(r.V=$[0],$=$[1],2==r.H)if("c"==$[0]){r.K=$[1],r.pa=$[2];const Q=$[3];null!=Q&&(r.ra=Q,r.l.info("VER="+r.ra));const ve=$[4];null!=ve&&(r.Ga=ve,r.l.info("SVER="+r.Ga));const Ze=$[5];null!=Ze&&"number"==typeof Ze&&0<Ze&&(r.L=s=1.5*Ze,r.l.info("backChannelRequestTimeoutMs_="+s)),s=r;const lt=i.g;if(lt){const Jt=lt.g?lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jt){var d=s.i;d.g||-1==Jt.indexOf("spdy")&&-1==Jt.indexOf("quic")&&-1==Jt.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(Qi(d,d.h),d.h=null))}if(s.F){const hn=lt.g?lt.g.getResponseHeader("X-HTTP-Session-Id"):null;hn&&(s.Da=hn,di(s.I,s.F,hn))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-i.G,r.l.info("Handshake RTT: "+r.S+"ms"));var p=i;if((s=r).wa=L(s,s.J?s.pa:null,s.Y),p.K){Xi(s.i,p);var S=p,M=s.L;M&&S.setTimeout(M),S.C&&(ki(S),Do(S)),s.g=p}else Ys(s);0<r.j.length&&Ks(r)}else"stop"!=$[0]&&"close"!=$[0]||V(r,7);else 3==r.H&&("stop"==$[0]||"close"==$[0]?"stop"==$[0]?V(r,7):qs(r):"noop"!=$[0]&&r.h&&r.h.Aa($),r.A=0)}ci()}catch{}}function js(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(or(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var r=function Gs(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(or(i)||"string"==typeof i){var e=[];i=i.length;for(var r=0;r<i;r++)e.push(r);return e}e=[],r=0;for(const s in i)e[r++]=s;return e}}}(i),s=function wo(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(or(i)){for(var e=[],r=i.length,s=0;s<r;s++)e.push(i[s]);return e}for(s in e=[],r=0,i)e[r++]=i[s];return e}(i),l=s.length,d=0;d<l;d++)e.call(void 0,s[d],r&&r[d],i)}(Mt=Yn.prototype).setTimeout=function(i){this.P=i},Mt.nb=function(i){i=i.target;const e=this.M;e&&3==qo(i)?e.l():this.Pa(i)},Mt.Pa=function(i){try{if(i==this.g)e:{const Q=qo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Q)&&(3!=Q||se||this.g&&(this.h.h||this.g.ja()||Ml(this.g)))){this.J||4!=Q||7==e||ci(),ki(this);var r=this.g.da();this.ca=r;t:if(Co(this)){var s=Ml(this.g);i="";var l=s.length,d=4==qo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){li(this),_i(this);var p="";break t}this.h.i=new cn.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:d&&e==l-1});s.length=0,this.h.g+=i,this.o=0,p=this.h.g}else p=this.g.ja();if(this.i=200==r,function Ee(i,e,r,s,l,d,p){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+r+"\n"+d+" "+p})}(this.j,this.v,this.B,this.m,this.W,Q,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var S,M=this.g;if((S=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ar(S)){var $=S;break t}}$=null}if(!(r=$)){this.i=!1,this.s=3,An(12),li(this),_i(this);break e}Yt(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Po(this,r)}this.S?(Di(this,Q,p),se&&this.i&&3==Q&&(T(this.U,this.V,"tick",this.mb),this.V.start())):(Yt(this.j,this.m,p,null),Po(this,p)),4==Q&&li(this),this.i&&!this.J&&(4==Q?ko(this.l,this):(this.i=!1,Do(this)))}else(function sd(i){const e={};i=(i.g&&2<=qo(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(Ar(i[s]))continue;var r=Ue(i[s]);const l=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();const d=e[l]||[];e[l]=d,d.push(r)}!function nn(i,e){for(const r in i)e.call(void 0,i[r],r,i)}(e,function(s){return s.join(", ")})})(this.g),400==r&&0<p.indexOf("Unknown SID")?(this.s=3,An(12)):(this.s=0,An(13)),li(this),_i(this)}}}catch{}},Mt.mb=function(){if(this.g){var i=qo(this.g),e=this.g.ja();this.o<e.length&&(ki(this),Di(this,i,e),this.i&&4!=i&&Do(this))}},Mt.cancel=function(){this.J=!0,li(this)},Mt.lb=function(){this.C=null;const i=Date.now();0<=i-this.Y?(function dr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(ci(),An(17)),li(this),this.s=2,_i(this)):Yi(this,this.Y-i)};var Ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function no(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof no){this.h=i.h,Ho(this,i.j),this.s=i.s,this.g=i.g,xo(this,i.m),this.l=i.l;var e=i.i,r=new F;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),Ds(this,r),this.o=i.o}else i&&(e=String(i).match(Ms))?(this.h=!1,Ho(this,e[1]||"",!0),this.s=Wo(e[2]||""),this.g=Wo(e[3]||"",!0),xo(this,e[4]),this.l=Wo(e[5]||"",!0),Ds(this,e[6]||"",!0),this.o=Wo(e[7]||"")):(this.h=!1,this.i=new F(null,this.h))}function Zo(i){return new no(i)}function Ho(i,e,r){i.j=r?Wo(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function xo(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ds(i,e,r){e instanceof F?(i.i=e,function Xn(i,e){e&&!i.j&&(R(i),i.i=null,i.g.forEach(function(r,s){var l=s.toLowerCase();s!=l&&(Y(this,s),Tt(this,l,r))},i)),i.j=e}(i.i,i.h)):(r||(e=hs(e,w)),i.i=new F(e,i.h))}function di(i,e,r){i.i.set(e,r)}function ho(i){return di(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Wo(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function hs(i,e,r){return"string"==typeof i?(i=encodeURI(i).replace(e,xa),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function xa(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}no.prototype.toString=function(){var i=[],e=this.j;e&&i.push(hs(e,Ws,!0),":");var r=this.g;return(r||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(hs(e,Ws,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&i.push("/"),i.push(hs(r,"/"==r.charAt(0)?B:G,!0))),(r=this.i.toString())&&i.push("?",r),(r=this.o)&&i.push("#",hs(r,E)),i.join("")};var Ws=/[#\/\?@]/g,G=/[#\?:]/g,B=/[#\?]/g,w=/[#\?@]/g,E=/#/g;function F(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function R(i){i.g||(i.g=new Map,i.h=0,i.i&&function Hs(i,e){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var s=i[r].indexOf("="),l=null;if(0<=s){var d=i[r].substring(0,s);l=i[r].substring(s+1)}else d=i[r];e(d,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,r){i.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function Y(i,e){R(i),e=mn(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function gt(i,e){return R(i),e=mn(i,e),i.g.has(e)}function Tt(i,e,r){Y(i,e),0<r.length&&(i.i=null,i.g.set(mn(i,e),$r(r)),i.h+=r.length)}function mn(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}(Mt=F.prototype).add=function(i,e){R(this),this.i=null,i=mn(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(e),this.h+=1,this},Mt.forEach=function(i,e){R(this),this.g.forEach(function(r,s){r.forEach(function(l){i.call(e,l,s,this)},this)},this)},Mt.ta=function(){R(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let s=0;s<e.length;s++){const l=i[s];for(let d=0;d<l.length;d++)r.push(e[s])}return r},Mt.Z=function(i){R(this);let e=[];if("string"==typeof i)gt(this,i)&&(e=e.concat(this.g.get(mn(this,i))));else{i=Array.from(this.g.values());for(let r=0;r<i.length;r++)e=e.concat(i[r])}return e},Mt.set=function(i,e){return R(this),this.i=null,gt(this,i=mn(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Mt.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Mt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var s=e[r];const d=encodeURIComponent(String(s)),p=this.Z(s);for(s=0;s<p.length;s++){var l=d;""!==p[s]&&(l+="="+encodeURIComponent(String(p[s]))),i.push(l)}}return this.i=i.join("&")};var Qr=class{constructor(i,e){this.g=i,this.map=e}};function Wn(i){this.l=i||ni,i=cn.PerformanceNavigationTiming?0<(i=cn.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(cn.g&&cn.g.Ka&&cn.g.Ka()&&cn.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ni=10;function Xr(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Kr(i){return i.h?1:i.g?i.g.size:0}function yi(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Qi(i,e){i.g?i.g.add(e):i.h=e}function Xi(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Hr(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const r of i.g.values())e=e.concat(r.F);return e}return $r(i.i)}Wn.prototype.cancel=function(){if(this.i=Hr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var wi=class{stringify(i){return cn.JSON.stringify(i,void 0)}parse(i){return cn.JSON.parse(i,void 0)}};function Jo(){this.g=new wi}function zo(i,e,r){const s=r||"";try{js(i,function(l,d){let p=l;ar(l)&&(p=gn(l)),e.push(s+d+"="+encodeURIComponent(p))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function ro(i,e,r,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function No(i){this.l=i.ec||null,this.j=i.ob||!1}function ca(i,e){bt.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=fs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dn(No,Io),No.prototype.g=function(){return new ca(this.l,this.j)},No.prototype.i=function(i){return function(){return i}}({}),Dn(ca,bt);var fs=0;function Na(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function es(i){i.readyState=4,i.l=null,i.j=null,i.A=null,zs(i)}function zs(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Mt=ca.prototype).open=function(i,e){if(this.readyState!=fs)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,zs(this)},Mt.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||cn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Mt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,es(this)),this.readyState=fs},Mt.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,zs(this)),this.g&&(this.readyState=3,zs(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof cn.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Na(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Mt.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?es(this):zs(this),3==this.readyState&&Na(this)}},Mt.Za=function(i){this.g&&(this.response=this.responseText=i,es(this))},Mt.Ya=function(i){this.g&&(this.response=i,es(this))},Mt.ka=function(){this.g&&es(this)},Mt.setRequestHeader=function(i,e){this.v.append(i,e)},Mt.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Mt.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var r=e.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=e.next();return i.join("\r\n")},Object.defineProperty(ca.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var tl=cn.JSON.parse;function hi(i){bt.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=er,this.L=this.M=!1}Dn(hi,bt);var er="",da=/^https?$/i,sc=["POST","PUT"];function Rl(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,ac(i),Ps(i)}function ac(i){i.F||(i.F=!0,Wt(i,"complete"),Wt(i,"error"))}function nl(i){if(i.h&&typeof Fn<"u"&&(!i.C[1]||4!=qo(i)||2!=i.da()))if(i.v&&4==qo(i))rn(i.La,0,i);else if(Wt(i,"readystatechange"),4==qo(i)){i.h=!1;try{const p=i.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var s;if(s=0===p){var l=String(i.I).match(Ms)[1]||null;!l&&cn.self&&cn.self.location&&(l=cn.self.location.protocol.slice(0,-1)),s=!da.test(l?l.toLowerCase():"")}r=s}if(r)Wt(i,"complete"),Wt(i,"success");else{i.m=6;try{var d=2<qo(i)?i.g.statusText:""}catch{d=""}i.j=d+" ["+i.da()+"]",ac(i)}}finally{Ps(i)}}}function Ps(i,e){if(i.g){lc(i);const r=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Wt(i,"ready");try{r.onreadystatechange=s}catch{}}}function lc(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(cn.clearTimeout(i.A),i.A=null)}function qo(i){return i.g?i.g.readyState:0}function Ml(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case er:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Pl(i){let e="";return Pt(i,function(r,s){e+=s,e+=":",e+=r,e+="\r\n"}),e}function Nt(i,e,r){e:{for(s in r){var s=!1;break e}s=!0}s||(r=Pl(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):di(i,e,r))}function yr(i,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||e}function xl(i){this.Ga=0,this.j=[],this.l=new x,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=yr("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=yr("baseRetryDelayMs",5e3,i),this.hb=yr("retryDelaySeedMs",1e4,i),this.eb=yr("forwardChannelMaxRetries",2,i),this.xa=yr("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Wn(i&&i.concurrentRequestLimit),this.Ja=new Jo,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function qs(i){if(rl(i),3==i.H){var e=i.W++,r=Zo(i.I);if(di(r,"SID",i.K),di(r,"RID",e),di(r,"TYPE","terminate"),xs(i,r),(e=new Yn(i,i.l,e)).L=2,e.A=ho(Zo(r)),r=!1,cn.navigator&&cn.navigator.sendBeacon)try{r=cn.navigator.sendBeacon(e.A.toString(),"")}catch{}!r&&cn.Image&&((new Image).src=e.A,r=!0),r||(e.g=ie(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Do(e)}ye(i)}function ri(i){i.g&&(fo(i),i.g.cancel(),i.g=null)}function rl(i){ri(i),i.u&&(cn.clearTimeout(i.u),i.u=null),Qs(i),i.i.cancel(),i.m&&("number"==typeof i.m&&cn.clearTimeout(i.m),i.m=null)}function Ks(i){if(!Xr(i.i)&&!i.m){i.m=!0;var e=i.Na;dt||Qt(),Ct||(dt(),Ct=!0),Ot.add(e,i),i.C=0}}function il(i,e){var r;r=e?e.m:i.W++;const s=Zo(i.I);di(s,"SID",i.K),di(s,"RID",r),di(s,"AID",i.V),xs(i,s),i.o&&i.s&&Nt(s,i.o,i.s),r=new Yn(i,i.l,r,i.C+1),null===i.o&&(r.I=i.s),e&&(i.j=e.F.concat(i.j)),e=ha(i,r,1e3),r.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Qi(i.i,r),jo(r,s,e)}function xs(i,e){i.na&&Pt(i.na,function(r,s){di(e,s,r)}),i.h&&js({},function(r,s){di(e,s,r)})}function ha(i,e,r){r=Math.min(i.j.length,r);var s=i.h?On(i.h.Va,i.h,i):null;e:{var l=i.j;let d=-1;for(;;){const p=["count="+r];-1==d?0<r?(d=l[0].g,p.push("ofs="+d)):d=0:p.push("ofs="+d);let S=!0;for(let M=0;M<r;M++){let $=l[M].g;const Q=l[M].map;if($-=d,0>$)d=Math.max(0,l[M].g-100),S=!1;else try{zo(Q,p,"req"+$+"_")}catch{s&&s(Q)}}if(S){s=p.join("&");break e}}}return i=i.j.splice(0,r),e.F=i,s}function Ys(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;dt||Qt(),Ct||(dt(),Ct=!0),Ot.add(e,i),i.A=0}}function Oa(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=_o(On(i.Ma,i),C(i,i.A)),i.A++,0))}function fo(i){null!=i.B&&(cn.clearTimeout(i.B),i.B=null)}function To(i){i.g=new Yn(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Zo(i.wa);di(e,"RID","rpc"),di(e,"SID",i.K),di(e,"AID",i.V),di(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&di(e,"TO",i.qa),di(e,"TYPE","xmlhttp"),xs(i,e),i.o&&i.s&&Nt(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var r=i.g;i=i.pa,r.L=1,r.A=ho(Zo(e)),r.u=null,r.S=!0,Pi(r,i)}function Qs(i){null!=i.v&&(cn.clearTimeout(i.v),i.v=null)}function ko(i,e){var r=null;if(i.g==e){Qs(i),fo(i),i.g=null;var s=2}else{if(!yi(i.i,e))return;r=e.F,Xi(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){r=e.u?e.u.length:0,e=Date.now()-e.G;var l=i.C;Wt(s=Hi(),new go(s,r)),Ks(i)}else Ys(i);else if(3==(l=e.s)||0==l&&0<e.ca||!(1==s&&function Oo(i,e){return!(Kr(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=_o(On(i.Na,i,e),C(i,i.C)),i.C++,0)))}(i,e)||2==s&&Oa(i)))switch(r&&0<r.length&&(e=i.i,e.i=e.i.concat(r)),l){case 1:V(i,5);break;case 4:V(i,10);break;case 3:V(i,6);break;default:V(i,2)}}function C(i,e){let r=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(r*=2),r*e}function V(i,e){if(i.l.info("Error code "+e),2==e){var r=null;i.h&&(r=null);var s=On(i.pb,i);r||(r=new no("//www.google.com/images/cleardot.gif"),cn.location&&"http"==cn.location.protocol||Ho(r,"https"),ho(r)),function Zi(i,e){const r=new x;if(cn.Image){const s=new Image;s.onload=kr(ro,r,s,"TestLoadImage: loaded",!0,e),s.onerror=kr(ro,r,s,"TestLoadImage: error",!1,e),s.onabort=kr(ro,r,s,"TestLoadImage: abort",!1,e),s.ontimeout=kr(ro,r,s,"TestLoadImage: timeout",!1,e),cn.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(r.toString(),s)}else An(2);i.H=0,i.h&&i.h.za(e),ye(i),rl(i)}function ye(i){if(i.H=0,i.ma=[],i.h){const e=Hr(i.i);(0!=e.length||0!=i.j.length)&&(zr(i.ma,e),zr(i.ma,i.j),i.i.i.length=0,$r(i.j),i.j.length=0),i.h.ya()}}function L(i,e,r){var s=r instanceof no?Zo(r):new no(r);if(""!=s.g)e&&(s.g=e+"."+s.g),xo(s,s.m);else{var l=cn.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var d=new no(null);s&&Ho(d,s),e&&(d.g=e),l&&xo(d,l),r&&(d.l=r),s=d}return e=i.Da,(r=i.F)&&e&&di(s,r,e),di(s,"VER",i.ra),xs(i,s),s}function ie(i,e,r){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new hi(i.Ha&&!i.va?new No({ob:r}):i.va)).Oa(i.J),e}function xe(){}function St(){if(Xe&&!(10<=Number(wn)))throw Error("Environmental error: no available transport.")}function zt(i,e){bt.call(this),this.g=new xl(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Ar(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ar(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Er(this)}function pr(i){Xo.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const r in e){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Lr(){Eo.call(this),this.status=1}function Er(i){this.g=i}function vr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Yr(i,e,r){r||(r=0);var s=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)s[l]=e.charCodeAt(r++)|e.charCodeAt(r++)<<8|e.charCodeAt(r++)<<16|e.charCodeAt(r++)<<24;else for(l=0;16>l;++l)s[l]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;var d=i.g[3],p=(e=i.g[0])+(d^(r=i.g[1])&((l=i.g[2])^d))+s[0]+3614090360&4294967295;p=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=r+(p<<7&4294967295|p>>>25))+((p=d+(l^e&(r^l))+s[1]+3905402710&4294967295)<<12&4294967295|p>>>20))+((p=l+(r^d&(e^r))+s[2]+606105819&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^l&(d^e))+s[3]+3250441966&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^r&(l^d))+s[4]+4118548399&4294967295)<<7&4294967295|p>>>25))+((p=d+(l^e&(r^l))+s[5]+1200080426&4294967295)<<12&4294967295|p>>>20))+((p=l+(r^d&(e^r))+s[6]+2821735955&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^l&(d^e))+s[7]+4249261313&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^r&(l^d))+s[8]+1770035416&4294967295)<<7&4294967295|p>>>25))+((p=d+(l^e&(r^l))+s[9]+2336552879&4294967295)<<12&4294967295|p>>>20))+((p=l+(r^d&(e^r))+s[10]+4294925233&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^l&(d^e))+s[11]+2304563134&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^r&(l^d))+s[12]+1804603682&4294967295)<<7&4294967295|p>>>25))+((p=d+(l^e&(r^l))+s[13]+4254626195&4294967295)<<12&4294967295|p>>>20))+((p=l+(r^d&(e^r))+s[14]+2792965006&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^l&(d^e))+s[15]+1236535329&4294967295)<<22&4294967295|p>>>10))+((p=e+(l^d&(r^l))+s[1]+4129170786&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^l&(e^r))+s[6]+3225465664&4294967295)<<9&4294967295|p>>>23))+((p=l+(e^r&(d^e))+s[11]+643717713&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(l^d))+s[0]+3921069994&4294967295)<<20&4294967295|p>>>12))+((p=e+(l^d&(r^l))+s[5]+3593408605&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^l&(e^r))+s[10]+38016083&4294967295)<<9&4294967295|p>>>23))+((p=l+(e^r&(d^e))+s[15]+3634488961&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(l^d))+s[4]+3889429448&4294967295)<<20&4294967295|p>>>12))+((p=e+(l^d&(r^l))+s[9]+568446438&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^l&(e^r))+s[14]+3275163606&4294967295)<<9&4294967295|p>>>23))+((p=l+(e^r&(d^e))+s[3]+4107603335&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(l^d))+s[8]+1163531501&4294967295)<<20&4294967295|p>>>12))+((p=e+(l^d&(r^l))+s[13]+2850285829&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^l&(e^r))+s[2]+4243563512&4294967295)<<9&4294967295|p>>>23))+((p=l+(e^r&(d^e))+s[7]+1735328473&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(l^d))+s[12]+2368359562&4294967295)<<20&4294967295|p>>>12))+((p=e+(r^l^d)+s[5]+4294588738&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^l)+s[8]+2272392833&4294967295)<<11&4294967295|p>>>21))+((p=l+(d^e^r)+s[11]+1839030562&4294967295)<<16&4294967295|p>>>16))+((p=r+(l^d^e)+s[14]+4259657740&4294967295)<<23&4294967295|p>>>9))+((p=e+(r^l^d)+s[1]+2763975236&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^l)+s[4]+1272893353&4294967295)<<11&4294967295|p>>>21))+((p=l+(d^e^r)+s[7]+4139469664&4294967295)<<16&4294967295|p>>>16))+((p=r+(l^d^e)+s[10]+3200236656&4294967295)<<23&4294967295|p>>>9))+((p=e+(r^l^d)+s[13]+681279174&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^l)+s[0]+3936430074&4294967295)<<11&4294967295|p>>>21))+((p=l+(d^e^r)+s[3]+3572445317&4294967295)<<16&4294967295|p>>>16))+((p=r+(l^d^e)+s[6]+76029189&4294967295)<<23&4294967295|p>>>9))+((p=e+(r^l^d)+s[9]+3654602809&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^l)+s[12]+3873151461&4294967295)<<11&4294967295|p>>>21))+((p=l+(d^e^r)+s[15]+530742520&4294967295)<<16&4294967295|p>>>16))+((p=r+(l^d^e)+s[2]+3299628645&4294967295)<<23&4294967295|p>>>9))+((p=e+(l^(r|~d))+s[0]+4096336452&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~l))+s[7]+1126891415&4294967295)<<10&4294967295|p>>>22))+((p=l+(e^(d|~r))+s[14]+2878612391&4294967295)<<15&4294967295|p>>>17))+((p=r+(d^(l|~e))+s[5]+4237533241&4294967295)<<21&4294967295|p>>>11))+((p=e+(l^(r|~d))+s[12]+1700485571&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~l))+s[3]+2399980690&4294967295)<<10&4294967295|p>>>22))+((p=l+(e^(d|~r))+s[10]+4293915773&4294967295)<<15&4294967295|p>>>17))+((p=r+(d^(l|~e))+s[1]+2240044497&4294967295)<<21&4294967295|p>>>11))+((p=e+(l^(r|~d))+s[8]+1873313359&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~l))+s[15]+4264355552&4294967295)<<10&4294967295|p>>>22))+((p=l+(e^(d|~r))+s[6]+2734768916&4294967295)<<15&4294967295|p>>>17))+((p=r+(d^(l|~e))+s[13]+1309151649&4294967295)<<21&4294967295|p>>>11))+((d=(e=r+((p=e+(l^(r|~d))+s[4]+4149444226&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~l))+s[11]+3174756917&4294967295)<<10&4294967295|p>>>22))^((l=d+((p=l+(e^(d|~r))+s[2]+718787259&4294967295)<<15&4294967295|p>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(l+(p<<21&4294967295|p>>>11))&4294967295,i.g[2]=i.g[2]+l&4294967295,i.g[3]=i.g[3]+d&4294967295}function ur(i,e){this.h=e;for(var r=[],s=!0,l=i.length-1;0<=l;l--){var d=0|i[l];s&&d==e||(r[l]=d,s=!1)}this.g=r}(Mt=hi.prototype).Oa=function(i){this.M=i},Mt.ha=function(i,e,r,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zi.g(),this.C=function mo(i){return i.h||(i.h=i.i())}(this.u?this.u:zi),this.g.onreadystatechange=On(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(d){return void Rl(this,d)}if(i=r||"",r=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)r.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const d of s.keys())r.set(d,s.get(d))}s=Array.from(r.keys()).find(d=>"content-type"==d.toLowerCase()),l=cn.FormData&&i instanceof cn.FormData,!(0<=Ln(sc,e))||s||l||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,p]of r)this.g.setRequestHeader(d,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{lc(this),0<this.B&&((this.L=function od(i){return Xe&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=On(this.ua,this)):this.A=rn(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){Rl(this,d)}},Mt.ua=function(){typeof Fn<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wt(this,"timeout"),this.abort(8))},Mt.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Wt(this,"complete"),Wt(this,"abort"),Ps(this))},Mt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ps(this,!0)),hi.$.N.call(this)},Mt.La=function(){this.s||(this.G||this.v||this.l?nl(this):this.kb())},Mt.kb=function(){nl(this)},Mt.isActive=function(){return!!this.g},Mt.da=function(){try{return 2<qo(this)?this.g.status:-1}catch{return-1}},Mt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Mt.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),tl(e)}},Mt.Ia=function(){return this.m},Mt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Mt=xl.prototype).ra=8,Mt.H=1,Mt.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const l=new Yn(this,this.l,i);let d=this.s;if(this.U&&(d?(d=bn(d),zn(d,this.U)):d=this.U),null!==this.o||this.O||(l.I=d,d=null),this.P)e:{for(var e=0,r=0;r<this.j.length;r++){var s=this.j[r];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=r;break e}if(4096===e||r===this.j.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=ha(this,l,e),di(r=Zo(this.I),"RID",i),di(r,"CVER",22),this.F&&di(r,"X-HTTP-Session-Id",this.F),xs(this,r),d&&(this.O?e="headers="+encodeURIComponent(String(Pl(d)))+"&"+e:this.o&&Nt(r,this.o,d)),Qi(this.i,l),this.bb&&di(r,"TYPE","init"),this.P?(di(r,"$req",e),di(r,"SID","null"),l.aa=!0,jo(l,r,null)):jo(l,r,e),this.H=2}}else 3==this.H&&(i?il(this,i):0==this.j.length||Xr(this.i)||il(this))},Mt.Ma=function(){if(this.u=null,To(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=_o(On(this.jb,this),i)}},Mt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,An(10),ri(this),To(this))},Mt.ib=function(){null!=this.v&&(this.v=null,ri(this),Oa(this),An(19))},Mt.pb=function(i){i?(this.l.info("Successfully pinged google.com"),An(2)):(this.l.info("Failed to ping google.com"),An(1))},Mt.isActive=function(){return!!this.h&&this.h.isActive(this)},(Mt=xe.prototype).Ba=function(){},Mt.Aa=function(){},Mt.za=function(){},Mt.ya=function(){},Mt.isActive=function(){return!0},Mt.Va=function(){},St.prototype.g=function(i,e){return new zt(i,e)},Dn(zt,bt),zt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,r=this.h||void 0;An(0),i.Y=e,i.na=r||{},i.G=i.aa,i.I=L(i,null,i.Y),Ks(i)},zt.prototype.close=function(){qs(this.g)},zt.prototype.u=function(i){var e=this.g;if("string"==typeof i){var r={};r.__data__=i,i=r}else this.v&&((r={}).__data__=gn(i),i=r);e.j.push(new Qr(e.fb++,i)),3==e.H&&Ks(e)},zt.prototype.N=function(){this.g.h=null,delete this.j,qs(this.g),delete this.g,zt.$.N.call(this)},Dn(pr,Xo),Dn(Lr,Eo),Dn(Er,xe),Er.prototype.Ba=function(){Wt(this.g,"a")},Er.prototype.Aa=function(i){Wt(this.g,new pr(i))},Er.prototype.za=function(i){Wt(this.g,new Lr)},Er.prototype.ya=function(){Wt(this.g,"b")},Dn(vr,function gr(){this.blockSize=-1}),vr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},vr.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var r=e-this.blockSize,s=this.m,l=this.h,d=0;d<e;){if(0==l)for(;d<=r;)Yr(this,i,d),d+=this.blockSize;if("string"==typeof i){for(;d<e;)if(s[l++]=i.charCodeAt(d++),l==this.blockSize){Yr(this,s),l=0;break}}else for(;d<e;)if(s[l++]=i[d++],l==this.blockSize){Yr(this,s),l=0;break}}this.h=l,this.i+=e},vr.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var r=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&r,r/=256;for(this.j(i),i=Array(16),e=r=0;4>e;++e)for(var s=0;32>s;s+=8)i[r++]=this.g[e]>>>s&255;return i};var Ns={};function Lo(i){return-128<=i&&128>i?function et(i,e){var r=Ns;return Object.prototype.hasOwnProperty.call(r,i)?r[i]:r[i]=e(i)}(i,function(e){return new ur([0|e],0>e?-1:0)}):new ur([0|i],0>i?-1:0)}function Ti(i){if(isNaN(i)||!isFinite(i))return sr;if(0>i)return bo(Ti(-i));for(var e=[],r=1,s=0;i>=r;s++)e[s]=i/r|0,r*=io;return new ur(e,0)}var io=4294967296,sr=Lo(0),ps=Lo(1),ol=Lo(16777216);function Os(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function gs(i){return-1==i.h}function bo(i){for(var e=i.g.length,r=[],s=0;s<e;s++)r[s]=~i.g[s];return new ur(r,~i.h).add(ps)}function Nl(i,e){return i.add(bo(e))}function Xs(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Fo(i,e){this.g=i,this.h=e}function Ol(i,e){if(Os(e))throw Error("division by zero");if(Os(i))return new Fo(sr,sr);if(gs(i))return e=Ol(bo(i),e),new Fo(bo(e.g),bo(e.h));if(gs(e))return e=Ol(i,bo(e)),new Fo(bo(e.g),e.h);if(30<i.g.length){if(gs(i)||gs(e))throw Error("slowDivide_ only works with positive integers.");for(var r=ps,s=e;0>=s.X(i);)r=fa(r),s=fa(s);var l=Bi(r,1),d=Bi(s,1);for(s=Bi(s,2),r=Bi(r,2);!Os(s);){var p=d.add(s);0>=p.X(i)&&(l=l.add(r),d=p),s=Bi(s,1),r=Bi(r,1)}return e=Nl(i,l.R(e)),new Fo(l,e)}for(l=sr;0<=i.X(e);){for(r=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,s-48),p=(d=Ti(r)).R(e);gs(p)||0<p.X(i);)p=(d=Ti(r-=s)).R(e);Os(d)&&(d=ps),l=l.add(d),i=Nl(i,p)}return new Fo(l,i)}function fa(i){for(var e=i.g.length+1,r=[],s=0;s<e;s++)r[s]=i.D(s)<<1|i.D(s-1)>>>31;return new ur(r,i.h)}function Bi(i,e){var r=e>>5;e%=32;for(var s=i.g.length-r,l=[],d=0;d<s;d++)l[d]=0<e?i.D(d+r)>>>e|i.D(d+r+1)<<32-e:i.D(d+r);return new ur(l,i.h)}(Mt=ur.prototype).ea=function(){if(gs(this))return-bo(this).ea();for(var i=0,e=1,r=0;r<this.g.length;r++){var s=this.D(r);i+=(0<=s?s:io+s)*e,e*=io}return i},Mt.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Os(this))return"0";if(gs(this))return"-"+bo(this).toString(i);for(var e=Ti(Math.pow(i,6)),r=this,s="";;){var l=Ol(r,e).g,d=((0<(r=Nl(r,l.R(e))).g.length?r.g[0]:r.h)>>>0).toString(i);if(Os(r=l))return d+s;for(;6>d.length;)d="0"+d;s=d+s}},Mt.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Mt.X=function(i){return gs(i=Nl(this,i))?-1:Os(i)?0:1},Mt.abs=function(){return gs(this)?bo(this):this},Mt.add=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0,l=0;l<=e;l++){var d=s+(65535&this.D(l))+(65535&i.D(l)),p=(d>>>16)+(this.D(l)>>>16)+(i.D(l)>>>16);s=p>>>16,r[l]=(p&=65535)<<16|(d&=65535)}return new ur(r,-2147483648&r[r.length-1]?-1:0)},Mt.R=function(i){if(Os(this)||Os(i))return sr;if(gs(this))return gs(i)?bo(this).R(bo(i)):bo(bo(this).R(i));if(gs(i))return bo(this.R(bo(i)));if(0>this.X(ol)&&0>i.X(ol))return Ti(this.ea()*i.ea());for(var e=this.g.length+i.g.length,r=[],s=0;s<2*e;s++)r[s]=0;for(s=0;s<this.g.length;s++)for(var l=0;l<i.g.length;l++){var d=this.D(s)>>>16,p=65535&this.D(s),S=i.D(l)>>>16,M=65535&i.D(l);r[2*s+2*l]+=p*M,Xs(r,2*s+2*l),r[2*s+2*l+1]+=d*M,Xs(r,2*s+2*l+1),r[2*s+2*l+1]+=p*S,Xs(r,2*s+2*l+1),r[2*s+2*l+2]+=d*S,Xs(r,2*s+2*l+2)}for(s=0;s<e;s++)r[s]=r[2*s+1]<<16|r[2*s];for(s=e;s<2*e;s++)r[s]=0;return new ur(r,0)},Mt.gb=function(i){return Ol(this,i).h},Mt.and=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)&i.D(s);return new ur(r,this.h&i.h)},Mt.or=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)|i.D(s);return new ur(r,this.h|i.h)},Mt.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)^i.D(s);return new ur(r,this.h^i.h)},St.prototype.createWebChannel=St.prototype.g,zt.prototype.send=zt.prototype.u,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,yo.NO_ERROR=0,yo.TIMEOUT=8,yo.HTTP_ERROR=6,ai.COMPLETE="complete",Wi.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",bt.prototype.listen=bt.prototype.O,hi.prototype.listenOnce=hi.prototype.P,hi.prototype.getLastError=hi.prototype.Sa,hi.prototype.getLastErrorCode=hi.prototype.Ia,hi.prototype.getStatus=hi.prototype.da,hi.prototype.getResponseJson=hi.prototype.Wa,hi.prototype.getResponseText=hi.prototype.ja,hi.prototype.send=hi.prototype.ha,hi.prototype.setWithCredentials=hi.prototype.Oa,vr.prototype.digest=vr.prototype.l,vr.prototype.reset=vr.prototype.reset,vr.prototype.update=vr.prototype.j,ur.prototype.add=ur.prototype.add,ur.prototype.multiply=ur.prototype.R,ur.prototype.modulo=ur.prototype.gb,ur.prototype.compare=ur.prototype.X,ur.prototype.toNumber=ur.prototype.ea,ur.prototype.toString=ur.prototype.toString,ur.prototype.getBits=ur.prototype.D,ur.fromNumber=Ti,ur.fromString=function xi(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return bo(xi(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Ti(Math.pow(e,8)),s=sr,l=0;l<i.length;l+=8){var d=Math.min(8,i.length-l),p=parseInt(i.substring(l,l+d),e);8>d?(d=Ti(Math.pow(e,d)),s=s.R(d).add(Ti(p))):s=(s=s.R(r)).add(Ti(p))}return s};var uc=an.createWebChannelTransport=function(){return new St},Rf=an.getStatEventTarget=function(){return Hi()},Vo=an.ErrorCode=yo,kl=an.EventType=ai,ad=an.Event=wr,Zs=an.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ts=(an.FetchXmlHttpFactory=No,an.WebChannel=Wi),Mf=an.XhrIo=hi,uh=an.Md5=vr,ks=an.Integer=ur;const Ko="@firebase/firestore";class Fr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");let Ls="10.8.0";const pa=new jt.YJ("@firebase/firestore");function ka(){return pa.logLevel}function Xt(i,...e){if(pa.logLevel<=jt.Ge.DEBUG){const r=e.map(hu);pa.debug(`Firestore (${Ls}): ${i}`,...r)}}function Ri(i,...e){if(pa.logLevel<=jt.Ge.ERROR){const r=e.map(hu);pa.error(`Firestore (${Ls}): ${i}`,...r)}}function Uo(i,...e){if(pa.logLevel<=jt.Ge.WARN){const r=e.map(hu);pa.warn(`Firestore (${Ls}): ${i}`,...r)}}function hu(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Rn(i="Unexpected state"){const e=`FIRESTORE (${Ls}) INTERNAL ASSERTION FAILED: `+i;throw Ri(e),new Error(e)}function $n(i,e){i||Rn()}function vn(i,e){return i}const At={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ut extends qt.kx{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ir{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class ld{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Fr.UNAUTHENTICATED))}shutdown(){}}class Ll{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ch{constructor(e){this.t=e,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let l=this.i;const d=$=>this.i!==l?(l=this.i,r($)):Promise.resolve();let p=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Ir,e.enqueueRetryable(()=>d(this.currentUser))};const S=()=>{const $=p;e.enqueueRetryable((0,Le.c)(function*(){yield $.promise,yield d(s.currentUser)}))},M=$=>{Xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=$,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit($=>M($)),setTimeout(()=>{if(!this.auth){const $=this.t.getImmediate({optional:!0});$?M($):(Xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Ir)}},0),S()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(Xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($n("string"==typeof s.accessToken),new ld(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $n(null===e||"string"==typeof e),new Fr(e)}}class dh{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Pf{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new dh(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=d=>{null!=d.error&&Xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const p=d.token!==this.R;return this.R=d.token,Xt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const l=d=>{Xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.A.onInit(d=>l(d)),setTimeout(()=>{if(!this.appCheck){const d=this.A.getImmediate({optional:!0});d?l(d):Xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?($n("string"==typeof r.token),this.R=r.token,new y(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function A(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}class N{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=A(40);for(let d=0;d<l.length;++d)s.length<20&&l[d]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[d]%62))}return s}}function H(i,e){return i<e?-1:i>e?1:0}function de(i,e,r){return i.length===e.length&&i.every((s,l)=>r(s,e[l]))}function ht(i){return i+"\0"}class xt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ut(At.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ut(At.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ut(At.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ut(At.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new xt(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?H(this.nanoseconds,e.nanoseconds):H(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new xt(0,0))}static max(){return new Ye(new xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class En{constructor(e,r,s){void 0===r?r=0:r>e.length&&Rn(),void 0===s?s=e.length-r:s>e.length-r&&Rn(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===En.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof En?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let l=0;l<s;l++){const d=e.get(l),p=r.get(l);if(d<p)return-1;if(d>p)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class yn extends En{construct(e,r,s){return new yn(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ut(At.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(l=>l.length>0))}return new yn(r)}static emptyPath(){return new yn([])}}const Li=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jn extends En{construct(e,r,s){return new Jn(e,r,s)}static isValidIdentifier(e){return Li.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Jn(["__name__"])}static fromServerFormat(e){const r=[];let s="",l=0;const d=()=>{if(0===s.length)throw new Ut(At.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let p=!1;for(;l<e.length;){const S=e[l];if("\\"===S){if(l+1===e.length)throw new Ut(At.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const M=e[l+1];if("\\"!==M&&"."!==M&&"`"!==M)throw new Ut(At.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=M,l+=2}else"`"===S?(p=!p,l++):"."!==S||p?(s+=S,l++):(d(),l++)}if(d(),p)throw new Ut(At.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jn(r)}static emptyPath(){return new Jn([])}}class ln{constructor(e){this.path=e}static fromPath(e){return new ln(yn.fromString(e))}static fromName(e){return new ln(yn.fromString(e).popFirst(5))}static empty(){return new ln(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return yn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ln(new yn(e.slice()))}}class ms{constructor(e,r,s,l){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=l}}function ws(i){return i.fields.find(e=>2===e.kind)}function Kn(i){return i.fields.filter(e=>2!==e.kind)}ms.UNKNOWN_ID=-1;class ns{constructor(e,r){this.fieldPath=e,this.kind=r}}class Ts{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Ts(0,Bo.min())}}function fu(i,e){const r=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=Ye.fromTimestamp(1e9===s?new xt(r+1,0):new xt(r,s));return new Bo(l,ln.empty(),e)}function xf(i){return new Bo(i.readTime,i.key,-1)}class Bo{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new Bo(Ye.min(),ln.empty(),-1)}static max(){return new Bo(Ye.max(),ln.empty(),-1)}}function Nf(i,e){let r=i.readTime.compareTo(e.readTime);return 0!==r?r:(r=ln.comparator(i.documentKey,e.documentKey),0!==r?r:H(i.largestBatchId,e.largestBatchId))}const hh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ud{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function La(i){return hc.apply(this,arguments)}function hc(){return hc=(0,Le.c)(function*(i){if(i.code!==At.FAILED_PRECONDITION||i.message!==hh)throw i;Xt("LocalStore","Unexpectedly lost primary lease")}),hc.apply(this,arguments)}class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Rn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new tt((s,l)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,l)},this.catchCallback=d=>{this.wrapFailure(r,d).next(s,l)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof tt?r:tt.resolve(r)}catch(r){return tt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):tt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):tt.reject(r)}static resolve(e){return new tt((r,s)=>{r(e)})}static reject(e){return new tt((r,s)=>{s(e)})}static waitFor(e){return new tt((r,s)=>{let l=0,d=0,p=!1;e.forEach(S=>{++l,S.next(()=>{++d,p&&d===l&&r()},M=>s(M))}),p=!0,d===l&&r()})}static or(e){let r=tt.resolve(!1);for(const s of e)r=r.next(l=>l?tt.resolve(l):s());return r}static forEach(e,r){const s=[];return e.forEach((l,d)=>{s.push(r.call(this,l,d))}),this.waitFor(s)}static mapArray(e,r){return new tt((s,l)=>{const d=e.length,p=new Array(d);let S=0;for(let M=0;M<d;M++){const $=M;r(e[$]).next(Q=>{p[$]=Q,++S,S===d&&s(p)},Q=>l(Q))}})}static doWhile(e,r){return new tt((s,l)=>{const d=()=>{!0===e()?r().next(()=>{d()},l):s()};d()})}}class Wr{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Ir,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new fc(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const l=cd(s.target.error);this.V.reject(new fc(e,l))}}static open(e,r,s,l){try{return new Wr(r,e.transaction(l,s))}catch(d){throw new fc(r,d)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Xt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Tg(r)}}class $o{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===$o.S((0,qt.Su)())&&Ri("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Xt("SimpleDb","Removing database:",e),Js(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,qt.yy)())return!1;if($o.C())return!0;const e=(0,qt.Su)(),r=$o.S(e),s=0<r&&r<10,l=$o.v(e),d=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static v(e){const r=e.match(/Android ([\d.]+)/i),s=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var r=this;return(0,Le.c)(function*(){return r.db||(Xt("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,l)=>{const d=indexedDB.open(r.name,r.version);d.onsuccess=p=>{s(p.target.result)},d.onblocked=()=>{l(new fc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=p=>{const S=p.target.error;l("VersionError"===S.name?new Ut(At.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new Ut(At.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new fc(e,S))},d.onupgradeneeded=p=>{Xt("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',p.oldVersion),r.p.N(p.target.result,d.transaction,p.oldVersion,r.version).next(()=>{Xt("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.B&&(r.db.onversionchange=s=>r.B(s)),r.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,l){var d=this;return(0,Le.c)(function*(){const p="readonly"===r;let S=0;for(;;){++S;try{d.db=yield d.O(e);const M=Wr.open(d.db,e,p?"readonly":"readwrite",s),$=l(M).next(Q=>(M.g(),Q)).catch(Q=>(M.abort(Q),tt.reject(Q))).toPromise();return $.catch(()=>{}),yield M.m,$}catch(M){const $=M,Q="FirebaseError"!==$.name&&S<3;if(Xt("SimpleDb","Transaction failed with error:",$.message,"Retrying:",Q),d.close(),!Q)return Promise.reject($)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class fh{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Js(this.k.delete())}}class fc extends Ut{constructor(e,r){super(At.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Vl(i){return"IndexedDbTransactionError"===i.name}class Tg{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(Xt("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(Xt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Js(s)}add(e){return Xt("SimpleDb","ADD",this.store.name,e,e),Js(this.store.add(e))}get(e){return Js(this.store.get(e)).next(r=>(void 0===r&&(r=null),Xt("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Xt("SimpleDb","DELETE",this.store.name,e),Js(this.store.delete(e))}count(){return Xt("SimpleDb","COUNT",this.store.name),Js(this.store.count())}W(e,r){const s=this.options(e,r),l=s.index?this.store.index(s.index):this.store;if("function"==typeof l.getAll){const d=l.getAll(s.range);return new tt((p,S)=>{d.onerror=M=>{S(M.target.error)},d.onsuccess=M=>{p(M.target.result)}})}{const d=this.cursor(s),p=[];return this.G(d,(S,M)=>{p.push(M)}).next(()=>p)}}j(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new tt((l,d)=>{s.onerror=p=>{d(p.target.error)},s.onsuccess=p=>{l(p.target.result)}})}H(e,r){Xt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.J=!1;const l=this.cursor(s);return this.G(l,(d,p,S)=>S.delete())}Y(e,r){let s;r?s=e:(s={},r=e);const l=this.cursor(s);return this.G(l,r)}Z(e){const r=this.cursor({});return new tt((s,l)=>{r.onerror=d=>{const p=cd(d.target.error);l(p)},r.onsuccess=d=>{const p=d.target.result;p?e(p.primaryKey,p.value).next(S=>{S?p.continue():s()}):s()}})}G(e,r){const s=[];return new tt((l,d)=>{e.onerror=p=>{d(p.target.error)},e.onsuccess=p=>{const S=p.target.result;if(!S)return void l();const M=new fh(S),$=r(S.primaryKey,S.value,M);if($ instanceof tt){const Q=$.catch(ve=>(M.done(),tt.reject(ve)));s.push(Q)}M.isDone?l():null===M.$?S.continue():S.continue(M.$)}}).next(()=>tt.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.J?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Js(i){return new tt((e,r)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const l=cd(s.target.error);r(l)}})}let pc=!1;function cd(i){const e=$o.S((0,qt.Su)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const s=new Ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return pc||(pc=!0,setTimeout(()=>{throw s},0)),s}}return i}class vs{constructor(e,r){this.asyncQueue=e,this.X=r,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var r=this;Xt("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Le.c)(function*(){r.task=null;try{Xt("IndexBackfiller",`Documents written: ${yield r.X.te()}`)}catch(s){Vl(s)?Xt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield La(s)}yield r.ee(6e4)}))}}class dd{constructor(e,r){this.localStore=e,this.persistence=r}te(e=50){var r=this;return(0,Le.c)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.ne(s,e))})()}ne(e,r){const s=new Set;let l=r,d=!0;return tt.doWhile(()=>!0===d&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!s.has(p))return Xt("IndexBackfiller",`Processing collection: ${p}`),this.re(e,p,l).next(S=>{l-=S,s.add(p)});d=!1})).next(()=>r-l)}re(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(l=>this.localStore.localDocuments.getNextDocuments(e,r,l,s).next(d=>{const p=d.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.ie(l,d)).next(S=>(Xt("IndexBackfiller",`Updating offset: ${S}`),this.localStore.indexManager.updateCollectionGroup(e,r,S))).next(()=>p.size)}))}ie(e,r){let s=e;return r.changes.forEach((l,d)=>{const p=xf(d);Nf(p,s)>0&&(s=p)}),new Bo(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let Fs=(()=>{class i{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=l=>this.se(l),this.oe=l=>s.writeSequenceNumber(l))}se(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.oe&&this.oe(r),r}}return i._e=-1,i})();function pu(i){return null==i}function Fa(i){return 0===i&&1/i==-1/0}function gu(i){return"number"==typeof i&&Number.isInteger(i)&&!Fa(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function oo(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=mu(e)),e=bg(i.get(r),e);return mu(e)}function bg(i,e){let r=e;const s=i.length;for(let l=0;l<s;l++){const d=i.charAt(l);switch(d){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=d}}return r}function mu(i){return i+"\x01\x01"}function va(i){const e=i.length;if($n(e>=2),2===e)return $n("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),yn.emptyPath();const r=e-2,s=[];let l="";for(let d=0;d<e;){const p=i.indexOf("\x01",d);switch((p<0||p>r)&&Rn(),i.charAt(p+1)){case"\x01":const S=i.substring(d,p);let M;0===l.length?M=S:(l+=S,M=l,l=""),s.push(M);break;case"\x10":l+=i.substring(d,p),l+="\0";break;case"\x11":l+=i.substring(d,p+1);break;default:Rn()}d=p+2}return new yn(s)}const ph=["userId","batchId"];function ea(i,e){return[i,oo(e)]}function hd(i,e,r){return[i,oo(e),r]}const _a={},Ag=["prefixPath","collectionGroup","readTime","documentId"],Ao=["prefixPath","collectionGroup","documentId"],gh=["collectionGroup","readTime","prefixPath","documentId"],Zr=["canonicalId","targetId"],fd=["targetId","path"],mh=["path","targetId"],Ul=["collectionId","parent"],Sg=["indexId","uid"],Rg=["uid","sequenceNumber"],vh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Pv=["indexId","uid","orderedDocumentKey"],xv=["userId","collectionPath","documentId"],vu=["userId","collectionPath","largestBatchId"],Mg=["userId","collectionGroup","largestBatchId"],_u=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],yu=[..._u,"documentOverlays"],Va=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Iu=Va,Eu=[...Iu,"indexConfiguration","indexState","indexEntries"];class sl extends ud{constructor(e,r){super(),this.ae=e,this.currentSequenceNumber=r}}function qi(i,e){const r=vn(i);return $o.M(r.ae,e)}function al(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function ta(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function gc(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class mi{constructor(e,r){this.comparator=e,this.root=r||vo.EMPTY}insert(e,r){return new mi(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,vo.BLACK,null,null))}remove(e){return new mi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vo.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return r+s.left.size;l<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mc(this.root,e,this.comparator,!0)}}class mc{constructor(e,r,s,l){this.isReverse=l,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=r?s(e.key,r):1,r&&l&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vo{constructor(e,r,s,l,d){this.key=e,this.value=r,this.color=null!=s?s:vo.RED,this.left=null!=l?l:vo.EMPTY,this.right=null!=d?d:vo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,l,d){return new vo(null!=e?e:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=l?l:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let l=this;const d=s(e,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(e,r,s),null):0===d?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return vo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(e,l.key)){if(l.right.isEmpty())return vo.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rn();const e=this.left.check();if(e!==this.right.check())throw Rn();return e+(this.isRed()?0:1)}}vo.EMPTY=null,vo.RED=!0,vo.BLACK=!1,vo.EMPTY=new class{constructor(){this.size=0}get key(){throw Rn()}get value(){throw Rn()}get color(){throw Rn()}get left(){throw Rn()}get right(){throw Rn()}copy(e,r,s,l,d){return this}insert(e,r,s){return new vo(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pi{constructor(e){this.comparator=e,this.data=new mi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Of(this.data.getIterator())}getIteratorFrom(e){return new Of(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof pi)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,d=s.getNext().key;if(0!==this.comparator(l,d))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new pi(this.comparator);return r.data=e,r}}class Of{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ua(i){return i.hasNext()?i.getNext():void 0}class _s{constructor(e){this.fields=e,e.sort(Jn.comparator)}static empty(){return new _s([])}unionWith(e){let r=new pi(Jn.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new _s(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return de(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class kf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class po{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(l){try{return atob(l)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new kf("Invalid base64 string: "+d):d}}(e);return new po(r)}static fromUint8Array(e){const r=function(l){let d="";for(let p=0;p<l.length;++p)d+=String.fromCharCode(l[p]);return d}(e);return new po(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let l=0;l<r.length;l++)s[l]=r.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return H(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}po.EMPTY_BYTE_STRING=new po("");const gd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ll(i){if($n(!!i),"string"==typeof i){let e=0;const r=gd.exec(i);if($n(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ni(i.seconds),nanos:Ni(i.nanos)}}function Ni(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ya(i){return"string"==typeof i?po.fromBase64String(i):po.fromUint8Array(i)}function Cu(i){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function vc(i){const e=i.mapValue.fields.__previous_value__;return Cu(e)?vc(e):e}function md(i){const e=ll(i.mapValue.fields.__local_write_time__.timestampValue);return new xt(e.seconds,e.nanos)}class Nv{constructor(e,r,s,l,d,p,S,M,$){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=l,this.ssl=d,this.forceLongPolling=p,this.autoDetectLongPolling=S,this.longPollingOptions=M,this.useFetchStreams=$}}class Vs{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Vs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vs&&e.projectId===this.projectId&&e.database===this.database}}const Ia={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Bl={nullValue:"NULL_VALUE"};function Ea(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Cu(i)?4:Tu(i)?9007199254740991:10:Rn()}function Ca(i,e){if(i===e)return!0;const r=Ea(i);if(r!==Ea(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return md(i).isEqual(md(e));case 3:return function(l,d){if("string"==typeof l.timestampValue&&"string"==typeof d.timestampValue&&l.timestampValue.length===d.timestampValue.length)return l.timestampValue===d.timestampValue;const p=ll(l.timestampValue),S=ll(d.timestampValue);return p.seconds===S.seconds&&p.nanos===S.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return d=e,ya(i.bytesValue).isEqual(ya(d.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(l,d){return Ni(l.geoPointValue.latitude)===Ni(d.geoPointValue.latitude)&&Ni(l.geoPointValue.longitude)===Ni(d.geoPointValue.longitude)}(i,e);case 2:return function(l,d){if("integerValue"in l&&"integerValue"in d)return Ni(l.integerValue)===Ni(d.integerValue);if("doubleValue"in l&&"doubleValue"in d){const p=Ni(l.doubleValue),S=Ni(d.doubleValue);return p===S?Fa(p)===Fa(S):isNaN(p)&&isNaN(S)}return!1}(i,e);case 9:return de(i.arrayValue.values||[],e.arrayValue.values||[],Ca);case 10:return function(l,d){const p=l.mapValue.fields||{},S=d.mapValue.fields||{};if(al(p)!==al(S))return!1;for(const M in p)if(p.hasOwnProperty(M)&&(void 0===S[M]||!Ca(p[M],S[M])))return!1;return!0}(i,e);default:return Rn()}var d}function Du(i,e){return void 0!==(i.values||[]).find(r=>Ca(r,e))}function Da(i,e){if(i===e)return 0;const r=Ea(i),s=Ea(e);if(r!==s)return H(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return H(i.booleanValue,e.booleanValue);case 2:return function(d,p){const S=Ni(d.integerValue||d.doubleValue),M=Ni(p.integerValue||p.doubleValue);return S<M?-1:S>M?1:S===M?0:isNaN(S)?isNaN(M)?0:-1:1}(i,e);case 3:return wu(i.timestampValue,e.timestampValue);case 4:return wu(md(i),md(e));case 5:return H(i.stringValue,e.stringValue);case 6:return function(d,p){const S=ya(d),M=ya(p);return S.compareTo(M)}(i.bytesValue,e.bytesValue);case 7:return function(d,p){const S=d.split("/"),M=p.split("/");for(let $=0;$<S.length&&$<M.length;$++){const Q=H(S[$],M[$]);if(0!==Q)return Q}return H(S.length,M.length)}(i.referenceValue,e.referenceValue);case 8:return function(d,p){const S=H(Ni(d.latitude),Ni(p.latitude));return 0!==S?S:H(Ni(d.longitude),Ni(p.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(d,p){const S=d.values||[],M=p.values||[];for(let $=0;$<S.length&&$<M.length;++$){const Q=Da(S[$],M[$]);if(Q)return Q}return H(S.length,M.length)}(i.arrayValue,e.arrayValue);case 10:return function(d,p){if(d===Ia.mapValue&&p===Ia.mapValue)return 0;if(d===Ia.mapValue)return 1;if(p===Ia.mapValue)return-1;const S=d.fields||{},M=Object.keys(S),$=p.fields||{},Q=Object.keys($);M.sort(),Q.sort();for(let ve=0;ve<M.length&&ve<Q.length;++ve){const Ze=H(M[ve],Q[ve]);if(0!==Ze)return Ze;const lt=Da(S[M[ve]],$[Q[ve]]);if(0!==lt)return lt}return H(M.length,Q.length)}(i.mapValue,e.mapValue);default:throw Rn()}}function wu(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return H(i,e);const r=ll(i),s=ll(e),l=H(r.seconds,s.seconds);return 0!==l?l:H(r.nanos,s.nanos)}function na(i){return ul(i)}function ul(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const s=ll(r);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ya(i.bytesValue).toBase64():"referenceValue"in i?ln.fromName(i.referenceValue).toString():"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let s="[",l=!0;for(const d of r.values||[])l?l=!1:s+=",",s+=ul(d);return s+"]"}(i.arrayValue):"mapValue"in i?function(r){const s=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const p of s)d?d=!1:l+=",",l+=`${p}:${ul(r.fields[p])}`;return l+"}"}(i.mapValue):Rn()}function cl(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function _c(i){return!!i&&"integerValue"in i}function Us(i){return!!i&&"arrayValue"in i}function _h(i){return!!i&&"nullValue"in i}function Lf(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function $a(i){return!!i&&"mapValue"in i}function yc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ta(i.mapValue.fields,(r,s)=>e.mapValue.fields[r]=yc(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=yc(i.arrayValue.values[r]);return e}return Object.assign({},i)}function Tu(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ff(i){return"nullValue"in i?Bl:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?cl(Vs.empty(),ln.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Rn()}function Ga(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?cl(Vs.empty(),ln.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Ia:Rn()}function dl(i,e){const r=Da(i.value,e.value);return 0!==r?r:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Vf(i,e){const r=Da(i.value,e.value);return 0!==r?r:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class so{constructor(e){this.value=e}static empty(){return new so({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!$a(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=yc(r)}setAll(e){let r=Jn.emptyPath(),s={},l=[];e.forEach((p,S)=>{if(!r.isImmediateParentOf(S)){const M=this.getFieldsMap(r);this.applyChanges(M,s,l),s={},l=[],r=S.popLast()}p?s[S.lastSegment()]=yc(p):l.push(S.lastSegment())});const d=this.getFieldsMap(r);this.applyChanges(d,s,l)}delete(e){const r=this.field(e.popLast());$a(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ca(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=r.mapValue.fields[e.get(s)];$a(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,s){ta(r,(l,d)=>e[l]=d);for(const l of s)delete e[l]}clone(){return new so(yc(this.value))}}function bu(i){const e=[];return ta(i.fields,(r,s)=>{const l=new Jn([r]);if($a(s)){const d=bu(s.mapValue).fields;if(0===d.length)e.push(l);else for(const p of d)e.push(l.child(p))}else e.push(l)}),new _s(e)}class Ii{constructor(e,r,s,l,d,p,S){this.key=e,this.documentType=r,this.version=s,this.readTime=l,this.createTime=d,this.data=p,this.documentState=S}static newInvalidDocument(e){return new Ii(e,0,Ye.min(),Ye.min(),Ye.min(),so.empty(),0)}static newFoundDocument(e,r,s,l){return new Ii(e,1,r,Ye.min(),s,l,0)}static newNoDocument(e,r){return new Ii(e,2,r,Ye.min(),Ye.min(),so.empty(),0)}static newUnknownDocument(e,r){return new Ii(e,3,r,Ye.min(),Ye.min(),so.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ye.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=so.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=so.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ii&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ii(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ja{constructor(e,r){this.position=e,this.inclusive=r}}function vd(i,e,r){let s=0;for(let l=0;l<i.position.length;l++){const d=e[l],p=i.position[l];if(s=d.field.isKeyField()?ln.comparator(ln.fromName(p.referenceValue),r.key):Da(p,r.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function yh(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Ca(i.position[r],e.position[r]))return!1;return!0}class hl{constructor(e,r="asc"){this.field=e,this.dir=r}}function Ov(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class _d{}class Jr extends _d{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new Au(e,r,s):"array-contains"===r?new Pg(e,s):"in"===r?new Uf(e,s):"not-in"===r?new Ed(e,s):"array-contains-any"===r?new Mu(e,s):new Jr(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new wa(e,s):new Su(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Da(r,this.value)):null!==r&&Ea(this.value)===Ea(r)&&this.matchesComparison(Da(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Rn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends _d{constructor(e,r){super(),this.filters=e,this.op=r,this.ue=null}static create(e,r){return new gi(e,r)}matches(e){return $l(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function $l(i){return"and"===i.op}function Ih(i){return"or"===i.op}function Ha(i){return fl(i)&&$l(i)}function fl(i){for(const e of i.filters)if(e instanceof gi)return!1;return!0}function Ic(i){if(i instanceof Jr)return i.field.canonicalString()+i.op.toString()+na(i.value);if(Ha(i))return i.filters.map(e=>Ic(e)).join(",");{const e=i.filters.map(r=>Ic(r)).join(",");return`${i.op}(${e})`}}function Ec(i,e){return i instanceof Jr?(s=i,(l=e)instanceof Jr&&s.op===l.op&&s.field.isEqual(l.field)&&Ca(s.value,l.value)):i instanceof gi?function(s,l){return l instanceof gi&&s.op===l.op&&s.filters.length===l.filters.length&&s.filters.reduce((d,p,S)=>d&&Ec(p,l.filters[S]),!0)}(i,e):void Rn();var s,l}function yd(i,e){const r=i.filters.concat(e);return gi.create(r,i.op)}function Id(i){return i instanceof Jr?`${(r=i).field.canonicalString()} ${r.op} ${na(r.value)}`:i instanceof gi?function(r){return r.op.toString()+" {"+r.getFilters().map(Id).join(" ,")+"}"}(i):"Filter";var r}class Au extends Jr{constructor(e,r,s){super(e,r,s),this.key=ln.fromName(s.referenceValue)}matches(e){const r=ln.comparator(e.key,this.key);return this.matchesComparison(r)}}class wa extends Jr{constructor(e,r){super(e,"in",r),this.keys=Ru(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Su extends Jr{constructor(e,r){super(e,"not-in",r),this.keys=Ru(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Ru(i,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>ln.fromName(s.referenceValue))}class Pg extends Jr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Us(r)&&Du(r.arrayValue,this.value)}}class Uf extends Jr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Du(this.value.arrayValue,r)}}class Ed extends Jr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Du(this.value.arrayValue,r)}}class Mu extends Jr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Us(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Du(this.value.arrayValue,s))}}class xg{constructor(e,r=null,s=[],l=[],d=null,p=null,S=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=l,this.limit=d,this.startAt=p,this.endAt=S,this.ce=null}}function Eh(i,e=null,r=[],s=[],l=null,d=null,p=null){return new xg(i,e,r,s,l,d,p)}function Gl(i){const e=vn(i);if(null===e.ce){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Ic(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(d=s).field.canonicalString()+d.dir;var d}).join(","),pu(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>na(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>na(s)).join(",")),e.ce=r}return e.ce}function jl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!Ov(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!Ec(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!yh(i.startAt,e.startAt)&&yh(i.endAt,e.endAt)}function Cc(i){return ln.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function pl(i,e){return i.filters.filter(r=>r instanceof Jr&&r.field.isEqual(e))}function Hl(i,e,r){let s=Bl,l=!0;for(const d of pl(i,e)){let p=Bl,S=!0;switch(d.op){case"<":case"<=":p=Ff(d.value);break;case"==":case"in":case">=":p=d.value;break;case">":p=d.value,S=!1;break;case"!=":case"not-in":p=Bl}dl({value:s,inclusive:l},{value:p,inclusive:S})<0&&(s=p,l=S)}if(null!==r)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const p=r.position[d];dl({value:s,inclusive:l},{value:p,inclusive:r.inclusive})<0&&(s=p,l=r.inclusive);break}return{value:s,inclusive:l}}function Bf(i,e,r){let s=Ia,l=!0;for(const d of pl(i,e)){let p=Ia,S=!0;switch(d.op){case">=":case">":p=Ga(d.value),S=!1;break;case"==":case"in":case"<=":p=d.value;break;case"<":p=d.value,S=!1;break;case"!=":case"not-in":p=Ia}Vf({value:s,inclusive:l},{value:p,inclusive:S})>0&&(s=p,l=S)}if(null!==r)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const p=r.position[d];Vf({value:s,inclusive:l},{value:p,inclusive:r.inclusive})>0&&(s=p,l=r.inclusive);break}return{value:s,inclusive:l}}class ra{constructor(e,r=null,s=[],l=[],d=null,p="F",S=null,M=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=l,this.limit=d,this.limitType=p,this.startAt=S,this.endAt=M,this.le=null,this.he=null,this.Pe=null}}function Ji(i,e,r,s,l,d,p,S){return new ra(i,e,r,s,l,d,p,S)}function Wl(i){return new ra(i)}function $f(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Ta(i){return null!==i.collectionGroup}function Pu(i){const e=vn(i);if(null===e.le){e.le=[];const r=new Set;for(const d of e.explicitOrderBy)e.le.push(d),r.add(d.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let S=new pi(Jn.comparator);return p.filters.forEach(M=>{M.getFlattenedFilters().forEach($=>{$.isInequality()&&(S=S.add($.field))})}),S})(e).forEach(d=>{r.has(d.canonicalString())||d.isKeyField()||e.le.push(new hl(d,s))}),r.has(Jn.keyField().canonicalString())||e.le.push(new hl(Jn.keyField(),s))}return e.le}function rs(i){const e=vn(i);return e.he||(e.he=function Gf(i,e){if("F"===i.limitType)return Eh(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(l=>new hl(l.field,"desc"===l.dir?"asc":"desc"));const r=i.endAt?new ja(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ja(i.startAt.position,i.startAt.inclusive):null;return Eh(i.path,i.collectionGroup,e,i.filters,i.limit,r,s)}}(e,Pu(i))),e.he}function Cd(i,e){const r=i.filters.concat([e]);return new ra(i.path,i.collectionGroup,i.explicitOrderBy.slice(),r,i.limit,i.limitType,i.startAt,i.endAt)}function Dd(i,e,r){return new ra(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function Dc(i,e){return jl(rs(i),rs(e))&&i.limitType===e.limitType}function wd(i){return`${Gl(rs(i))}|lt:${i.limitType}`}function Wa(i){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(l=>Id(l)).join(", ")}]`),pu(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(l=>{return`${(p=l).field.canonicalString()} (${p.dir})`;var p}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(l=>na(l)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(l=>na(l)).join(",")),`Target(${s})`}(rs(i))}; limitType=${i.limitType})`}function za(i,e){return e.isFoundDocument()&&function(s,l){const d=l.key.path;return null!==s.collectionGroup?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(d):ln.isDocumentKey(s.path)?s.path.isEqual(d):s.path.isImmediateParentOf(d)}(i,e)&&function(s,l){for(const d of Pu(s))if(!d.field.isKeyField()&&null===l.data.field(d.field))return!1;return!0}(i,e)&&function(s,l){for(const d of s.filters)if(!d.matches(l))return!1;return!0}(i,e)&&(l=e,!((s=i).startAt&&!function(p,S,M){const $=vd(p,S,M);return p.inclusive?$<=0:$<0}(s.startAt,Pu(s),l)||s.endAt&&!function(p,S,M){const $=vd(p,S,M);return p.inclusive?$>=0:$>0}(s.endAt,Pu(s),l)));var s,l}function Ch(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function wc(i){return(e,r)=>{let s=!1;for(const l of Pu(i)){const d=jf(l,e,r);if(0!==d)return d;s=s||l.field.isKeyField()}return 0}}function jf(i,e,r){const s=i.field.isKeyField()?ln.comparator(e.key,r.key):function(d,p,S){const M=p.data.field(d),$=S.data.field(d);return null!==M&&null!==$?Da(M,$):Rn()}(i.field,e,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Rn()}}class qa{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[l,d]of s)if(this.equalsFn(l,e))return d}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,r]],void this.innerSize++;for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],e))return void(l[d]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[r]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,(r,s)=>{for(const[l,d]of s)e(l,d)})}isEmpty(){return gc(this.inner)}size(){return this.innerSize}}const Ng=new mi(ln.comparator);function is(){return Ng}const Td=new mi(ln.comparator);function zl(...i){let e=Td;for(const r of i)e=e.insert(r.key,r);return e}function xu(i){let e=Td;return i.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function ia(){return ql()}function oa(){return ql()}function ql(){return new qa(i=>i.toString(),(i,e)=>i.isEqual(e))}const bd=new mi(ln.comparator),Yo=new pi(ln.comparator);function hr(...i){let e=Yo;for(const r of i)e=e.add(r);return e}const Ad=new pi(H);function Sd(){return Ad}function Tc(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fa(e)?"-0":e}}function Rd(i){return{integerValue:""+i}}function Kl(i,e){return gu(e)?Rd(e):Tc(i,e)}class Ka{constructor(){this._=void 0}}function Og(i,e,r){return i instanceof Nu?function(l,d){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return d&&Cu(d)&&(d=vc(d)),d&&(p.fields.__previous_value__=d),{mapValue:p}}(r,e):i instanceof Yl?kg(i,e):i instanceof Ql?Go(i,e):function(l,d){const p=Dh(l,d),S=Md(p)+Md(l.Ie);return _c(p)&&_c(l.Ie)?Rd(S):Tc(l.serializer,S)}(i,e)}function ba(i,e,r){return i instanceof Yl?kg(i,e):i instanceof Ql?Go(i,e):r}function Dh(i,e){return i instanceof Bs?_c(s=e)||(d=s)&&"doubleValue"in d?e:{integerValue:0}:null;var s,d}class Nu extends Ka{}class Yl extends Ka{constructor(e){super(),this.elements=e}}function kg(i,e){const r=Ou(e);for(const s of i.elements)r.some(l=>Ca(l,s))||r.push(s);return{arrayValue:{values:r}}}class Ql extends Ka{constructor(e){super(),this.elements=e}}function Go(i,e){let r=Ou(e);for(const s of i.elements)r=r.filter(l=>!Ca(l,s));return{arrayValue:{values:r}}}class Bs extends Ka{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function Md(i){return Ni(i.integerValue||i.doubleValue)}function Ou(i){return Us(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class os{constructor(e,r){this.field=e,this.transform=r}}class Lg{constructor(e,r){this.version=e,this.transformResults=r}}class Fi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Fi}static exists(e){return new Fi(void 0,e)}static updateTime(e){return new Fi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bc(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class ku{}function sa(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Ge(i.key,Fi.none()):new f(i.key,i.data,Fi.none());{const r=i.data,s=so.empty();let l=new pi(Jn.comparator);for(let d of e.fields)if(!l.has(d)){let p=r.field(d);null===p&&d.length>1&&(d=d.popLast(),p=r.field(d)),null===p?s.delete(d):s.set(d,p),l=l.add(d)}return new g(i.key,s,new _s(l.toArray()),Fi.none())}}function Fg(i,e,r){i instanceof f?function(l,d,p){const S=l.value.clone(),M=U(l.fieldTransforms,d,p.transformResults);S.setAll(M),d.convertToFoundDocument(p.version,S).setHasCommittedMutations()}(i,e,r):i instanceof g?function(l,d,p){if(!bc(l.precondition,d))return void d.convertToUnknownDocument(p.version);const S=U(l.fieldTransforms,d,p.transformResults),M=d.data;M.setAll(I(l)),M.setAll(S),d.convertToFoundDocument(p.version,M).setHasCommittedMutations()}(i,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function ml(i,e,r,s){return i instanceof f?function(d,p,S,M){if(!bc(d.precondition,p))return S;const $=d.value.clone(),Q=ee(d.fieldTransforms,M,p);return $.setAll(Q),p.convertToFoundDocument(p.version,$).setHasLocalMutations(),null}(i,e,r,s):i instanceof g?function(d,p,S,M){if(!bc(d.precondition,p))return S;const $=ee(d.fieldTransforms,M,p),Q=p.data;return Q.setAll(I(d)),Q.setAll($),p.convertToFoundDocument(p.version,Q).setHasLocalMutations(),null===S?null:S.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(ve=>ve.field))}(i,e,r,s):(S=r,bc(i.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):S);var p,S}function wh(i,e){let r=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),d=Dh(s.transform,l||null);null!=d&&(null===r&&(r=so.empty()),r.set(s.field,d))}return r||null}function v(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(s=i.fieldTransforms)&&void 0===l||s&&l&&de(s,l,(d,p)=>function gl(i,e){return i.field.isEqual(e.field)&&(l=e.transform,(s=i.transform)instanceof Yl&&l instanceof Yl||s instanceof Ql&&l instanceof Ql?de(s.elements,l.elements,Ca):s instanceof Bs&&l instanceof Bs?Ca(s.Ie,l.Ie):s instanceof Nu&&l instanceof Nu);var s,l}(d,p))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var s,l}class f extends ku{constructor(e,r,s,l=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class g extends ku{constructor(e,r,s,l,d=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=l,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function I(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);e.set(r,s)}}),e}function U(i,e,r){const s=new Map;$n(i.length===r.length);for(let l=0;l<r.length;l++){const d=i[l],p=d.transform,S=e.data.field(d.field);s.set(d.field,ba(p,S,r[l]))}return s}function ee(i,e,r){const s=new Map;for(const l of i){const d=l.transform,p=r.data.field(l.field);s.set(l.field,Og(d,p,e))}return s}class Ge extends ku{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mt extends ku{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ft{constructor(e,r,s,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const d=this.mutations[l];d.key.isEqual(e.key)&&Fg(d,e,s[l])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=ml(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=ml(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=oa();return this.mutations.forEach(l=>{const d=e.get(l.key),p=d.overlayedDocument;let S=this.applyToLocalView(p,d.mutatedFields);S=r.has(l.key)?null:S;const M=sa(p,S);null!==M&&s.set(l.key,M),p.isValidDocument()||p.convertToNoDocument(Ye.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),hr())}isEqual(e){return this.batchId===e.batchId&&de(this.mutations,e.mutations,(r,s)=>v(r,s))&&de(this.baseMutations,e.baseMutations,(r,s)=>v(r,s))}}class In{constructor(e,r,s,l){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=l}static from(e,r,s){$n(e.mutations.length===s.length);let l=function(){return bd}();const d=e.mutations;for(let p=0;p<d.length;p++)l=l.insert(d[p].key,s[p].version);return new In(e,r,s,l)}}class Sn{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $i{constructor(e,r){this.count=e,this.unchangedNames=r}}var vi,xr;function vl(i){switch(i){default:return Rn();case At.CANCELLED:case At.UNKNOWN:case At.DEADLINE_EXCEEDED:case At.RESOURCE_EXHAUSTED:case At.INTERNAL:case At.UNAVAILABLE:case At.UNAUTHENTICATED:return!1;case At.INVALID_ARGUMENT:case At.NOT_FOUND:case At.ALREADY_EXISTS:case At.PERMISSION_DENIED:case At.FAILED_PRECONDITION:case At.ABORTED:case At.OUT_OF_RANGE:case At.UNIMPLEMENTED:case At.DATA_LOSS:return!0}}function eo(i){if(void 0===i)return Ri("GRPC error has no .code"),At.UNKNOWN;switch(i){case vi.OK:return At.OK;case vi.CANCELLED:return At.CANCELLED;case vi.UNKNOWN:return At.UNKNOWN;case vi.DEADLINE_EXCEEDED:return At.DEADLINE_EXCEEDED;case vi.RESOURCE_EXHAUSTED:return At.RESOURCE_EXHAUSTED;case vi.INTERNAL:return At.INTERNAL;case vi.UNAVAILABLE:return At.UNAVAILABLE;case vi.UNAUTHENTICATED:return At.UNAUTHENTICATED;case vi.INVALID_ARGUMENT:return At.INVALID_ARGUMENT;case vi.NOT_FOUND:return At.NOT_FOUND;case vi.ALREADY_EXISTS:return At.ALREADY_EXISTS;case vi.PERMISSION_DENIED:return At.PERMISSION_DENIED;case vi.FAILED_PRECONDITION:return At.FAILED_PRECONDITION;case vi.ABORTED:return At.ABORTED;case vi.OUT_OF_RANGE:return At.OUT_OF_RANGE;case vi.UNIMPLEMENTED:return At.UNIMPLEMENTED;case vi.DATA_LOSS:return At.DATA_LOSS;default:return Rn()}}(xr=vi||(vi={}))[xr.OK=0]="OK",xr[xr.CANCELLED=1]="CANCELLED",xr[xr.UNKNOWN=2]="UNKNOWN",xr[xr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xr[xr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xr[xr.NOT_FOUND=5]="NOT_FOUND",xr[xr.ALREADY_EXISTS=6]="ALREADY_EXISTS",xr[xr.PERMISSION_DENIED=7]="PERMISSION_DENIED",xr[xr.UNAUTHENTICATED=16]="UNAUTHENTICATED",xr[xr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xr[xr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xr[xr.ABORTED=10]="ABORTED",xr[xr.OUT_OF_RANGE=11]="OUT_OF_RANGE",xr[xr.UNIMPLEMENTED=12]="UNIMPLEMENTED",xr[xr.INTERNAL=13]="INTERNAL",xr[xr.UNAVAILABLE=14]="UNAVAILABLE",xr[xr.DATA_LOSS=15]="DATA_LOSS";function Pd(){return new TextEncoder}const Sc=new ks([4294967295,4294967295],0);function Th(i){const e=Pd().encode(i),r=new uh;return r.update(e),new Uint8Array(r.digest())}function xd(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new ks([r,s],0),new ks([l,d],0)]}class Xl{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Lu(`Invalid padding: ${r}`);if(s<0)throw new Lu(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Lu(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new Lu(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*e.length-r,this.Ee=ks.fromNumber(this.Te)}de(e,r,s){let l=e.add(r.multiply(ks.fromNumber(s)));return 1===l.compare(Sc)&&(l=new ks([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const r=Th(e),[s,l]=xd(r);for(let d=0;d<this.hashCount;d++){const p=this.de(s,l,d);if(!this.Ae(p))return!1}return!0}static create(e,r,s){const l=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),p=new Xl(d,l,r);return s.forEach(S=>p.insert(S)),p}insert(e){if(0===this.Te)return;const r=Th(e),[s,l]=xd(r);for(let d=0;d<this.hashCount;d++){const p=this.de(s,l,d);this.Re(p)}}Re(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fu{constructor(e,r,s,l,d){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const l=new Map;return l.set(e,Ya.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Fu(Ye.min(),l,new mi(H),is(),hr())}}class Ya{constructor(e,r,s,l,d){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Ya(s,r,hr(),hr(),hr())}}class Zl{constructor(e,r,s,l){this.Ve=e,this.removedTargetIds=r,this.key=s,this.me=l}}class Vg{constructor(e,r){this.targetId=e,this.fe=r}}class kv{constructor(e,r,s=po.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=l}}class Lv{constructor(){this.ge=0,this.pe=Fv(),this.ye=po.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=hr(),r=hr(),s=hr();return this.pe.forEach((l,d)=>{switch(d){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:s=s.add(l);break;default:Rn()}}),new Ya(this.ye,this.we,e,r,s)}Fe(){this.Se=!1,this.pe=Fv()}Me(e,r){this.Se=!0,this.pe=this.pe.insert(e,r)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,$n(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class iI{constructor(e){this.Le=e,this.ke=new Map,this.qe=is(),this.Qe=Ug(),this.Ke=new mi(H)}$e(e){for(const r of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me);for(const r of e.removedTargetIds)this.We(r,e.key,e.me)}Ge(e){this.forEachTarget(e,r=>{const s=this.ze(r);switch(e.state){case 0:this.je(r)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(r);break;case 3:this.je(r)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(r)&&(this.He(r),s.Ce(e.resumeToken));break;default:Rn()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ke.forEach((s,l)=>{this.je(l)&&r(l)})}Je(e){const r=e.targetId,s=e.fe.count,l=this.Ye(r);if(l){const d=l.target;if(Cc(d))if(0===s){const p=new ln(d.path);this.We(r,p,Ii.newNoDocument(p,Ye.min()))}else $n(1===s);else{const p=this.Ze(r);if(p!==s){const S=this.Xe(e),M=S?this.et(S,e,p):1;0!==M&&(this.He(r),this.Ke=this.Ke.insert(r,2===M?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const r=e.fe.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:d=0}=r;let p,S;try{p=ya(s).toUint8Array()}catch(M){if(M instanceof kf)return Uo("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw M}try{S=new Xl(p,l,d)}catch(M){return Uo(M instanceof Lu?"BloomFilter error: ":"Applying bloom filter failed: ",M),null}return 0===S.Te?null:S}et(e,r,s){return r.fe.count===s-this.rt(e,r.targetId)?0:2}rt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let l=0;return s.forEach(d=>{const p=this.Le.nt(),S=`projects/${p.projectId}/databases/${p.database}/documents/${d.path.canonicalString()}`;e.mightContain(S)||(this.We(r,d,null),l++)}),l}it(e){const r=new Map;this.ke.forEach((d,p)=>{const S=this.Ye(p);if(S){if(d.current&&Cc(S.target)){const M=new ln(S.target.path);null!==this.qe.get(M)||this.st(p,M)||this.We(p,M,Ii.newNoDocument(M,e))}d.De&&(r.set(p,d.ve()),d.Fe())}});let s=hr();this.Qe.forEach((d,p)=>{let S=!0;p.forEachWhile(M=>{const $=this.Ye(M);return!$||"TargetPurposeLimboResolution"===$.purpose||(S=!1,!1)}),S&&(s=s.add(d))}),this.qe.forEach((d,p)=>p.setReadTime(e));const l=new Fu(e,r,this.Ke,this.qe,s);return this.qe=is(),this.Qe=Ug(),this.Ke=new mi(H),l}Ue(e,r){if(!this.je(e))return;const s=this.st(e,r.key)?2:0;this.ze(e).Me(r.key,s),this.qe=this.qe.insert(r.key,r),this.Qe=this.Qe.insert(r.key,this.ot(r.key).add(e))}We(e,r,s){if(!this.je(e))return;const l=this.ze(e);this.st(e,r)?l.Me(r,1):l.xe(r),this.Qe=this.Qe.insert(r,this.ot(r).delete(e)),s&&(this.qe=this.qe.insert(r,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const r=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let r=this.ke.get(e);return r||(r=new Lv,this.ke.set(e,r)),r}ot(e){let r=this.Qe.get(e);return r||(r=new pi(H),this.Qe=this.Qe.insert(e,r)),r}je(e){const r=null!==this.Ye(e);return r||Xt("WatchChangeAggregator","Detected inactive target",e),r}Ye(e){const r=this.ke.get(e);return r&&r.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Lv),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.We(e,r,null)})}st(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Ug(){return new mi(ln.comparator)}function Fv(){return new mi(ln.comparator)}const Vv={asc:"ASCENDING",desc:"DESCENDING"},oI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sI={and:"AND",or:"OR"};class q0{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Hf(i,e){return i.useProto3Json||pu(e)?e:{value:e}}function Rc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aa(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Uv(i,e){return Rc(i,e.toTimestamp())}function So(i){return $n(!!i),Ye.fromTimestamp(function(r){const s=ll(r);return new xt(s.seconds,s.nanos)}(i))}function bh(i,e){return _l(i,e).canonicalString()}function _l(i,e){const r=(l=i,new yn(["projects",l.projectId,"databases",l.database])).child("documents");var l;return void 0===e?r:r.child(e)}function Bg(i){const e=yn.fromString(i);return $n(dI(e)),e}function Vu(i,e){return bh(i.databaseId,e.path)}function Qa(i,e){const r=Bg(e);if(r.get(1)!==i.databaseId.projectId)throw new Ut(At.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Ut(At.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new ln(Mc(r))}function $g(i,e){return bh(i.databaseId,e)}function Ah(i){const e=Bg(i);return 4===e.length?yn.emptyPath():Mc(e)}function Sh(i){return new yn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Mc(i){return $n(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Bv(i,e,r){return{name:Vu(i,e),fields:r.value.mapValue.fields}}function $v(i,e,r){const s=Qa(i,e.name),l=So(e.updateTime),d=e.createTime?So(e.createTime):Ye.min(),p=new so({mapValue:{fields:e.fields}}),S=Ii.newFoundDocument(s,l,d,p);return r&&S.setHasCommittedMutations(),r?S.setHasCommittedMutations():S}function Pc(i,e){let r;if(e instanceof f)r={update:Bv(i,e.key,e.value)};else if(e instanceof Ge)r={delete:Vu(i,e.key)};else if(e instanceof g)r={update:Bv(i,e.key,e.data),updateMask:Y0(e.fieldMask)};else{if(!(e instanceof mt))return Rn();r={verify:Vu(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(d,p){const S=p.transform;if(S instanceof Nu)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(S instanceof Yl)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:S.elements}};if(S instanceof Ql)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:S.elements}};if(S instanceof Bs)return{fieldPath:p.field.canonicalString(),increment:S.Ie};throw Rn()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:Uv(i,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:Rn()),r;var d}function zf(i,e){const r=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?Fi.updateTime(So(d.updateTime)):void 0!==d.exists?Fi.exists(d.exists):Fi.none():Fi.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(p,S){let M=null;"setToServerValue"in S?($n("REQUEST_TIME"===S.setToServerValue),M=new Nu):"appendMissingElements"in S?M=new Yl(S.appendMissingElements.values||[]):"removeAllFromArray"in S?M=new Ql(S.removeAllFromArray.values||[]):"increment"in S?M=new Bs(p,S.increment):Rn();const $=Jn.fromServerFormat(S.fieldPath);return new os($,M)}(i,l)):[];var d;if(e.update){const l=Qa(i,e.update.name),d=new so({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new _s((e.updateMask.fieldPaths||[]).map(Q=>Jn.fromServerFormat(Q)));return new g(l,d,p,r,s)}return new f(l,d,r,s)}if(e.delete){const l=Qa(i,e.delete);return new Ge(l,r)}if(e.verify){const l=Qa(i,e.verify);return new mt(l,r)}return Rn()}function Gg(i,e){return{documents:[$g(i,e.path)]}}function qf(i,e){const r={structuredQuery:{}},s=e.path;let l;null!==e.collectionGroup?(l=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=$g(i,l);const d=function($){if(0!==$.length)return cI(gi.create($,"and"))}(e.filters);d&&(r.structuredQuery.where=d);const p=function($){if(0!==$.length)return $.map(Q=>{return{field:Aa((Ze=Q).field),direction:lI(Ze.dir)};var Ze})}(e.orderBy);p&&(r.structuredQuery.orderBy=p);const S=Hf(i,e.limit);return null!==S&&(r.structuredQuery.limit=S),e.startAt&&(r.structuredQuery.startAt={before:($=e.startAt).inclusive,values:$.position}),e.endAt&&(r.structuredQuery.endAt=function($){return{before:!$.inclusive,values:$.position}}(e.endAt)),{ut:r,parent:l};var $}function jv(i){let e=Ah(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let l=null;if(s>0){$n(1===s);const Q=r.from[0];Q.allDescendants?l=Q.collectionId:e=e.child(Q.collectionId)}let d=[];r.where&&(d=function(ve){const Ze=Hv(ve);return Ze instanceof gi&&Ha(Ze)?Ze.getFilters():[Ze]}(r.where));let p=[];r.orderBy&&(p=r.orderBy.map(Ze=>{return new hl(Nd((Jt=Ze).field),function(sn){switch(sn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Jt.direction));var Jt}));let S=null;r.limit&&(S=function(ve){let Ze;return Ze="object"==typeof ve?ve.value:ve,pu(Ze)?null:Ze}(r.limit));let M=null;var ve;r.startAt&&(M=new ja((ve=r.startAt).values||[],!!ve.before));let $=null;return r.endAt&&($=function(ve){return new ja(ve.values||[],!ve.before)}(r.endAt)),Ji(e,l,p,d,S,"F",M,$)}function Hv(i){return void 0!==i.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Nd(r.unaryFilter.field);return Jr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Nd(r.unaryFilter.field);return Jr.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=Nd(r.unaryFilter.field);return Jr.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Nd(r.unaryFilter.field);return Jr.create(p,"!=",{nullValue:"NULL_VALUE"});default:return Rn()}}(i):void 0!==i.fieldFilter?Jr.create(Nd((r=i).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rn()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==i.compositeFilter?function(r){return gi.create(r.compositeFilter.filters.map(s=>Hv(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Rn()}}(r.compositeFilter.op))}(i):Rn();var r}function lI(i){return Vv[i]}function uI(i){return oI[i]}function Uu(i){return sI[i]}function Aa(i){return{fieldPath:i.canonicalString()}}function Nd(i){return Jn.fromServerFormat(i.fieldPath)}function cI(i){return i instanceof Jr?function(r){if("=="===r.op){if(Lf(r.value))return{unaryFilter:{field:Aa(r.field),op:"IS_NAN"}};if(_h(r.value))return{unaryFilter:{field:Aa(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Lf(r.value))return{unaryFilter:{field:Aa(r.field),op:"IS_NOT_NAN"}};if(_h(r.value))return{unaryFilter:{field:Aa(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Aa(r.field),op:uI(r.op),value:r.value}}}(i):i instanceof gi?function(r){const s=r.getFilters().map(l=>cI(l));return 1===s.length?s[0]:{compositeFilter:{op:Uu(r.op),filters:s}}}(i):Rn()}function Y0(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function dI(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Bu{constructor(e,r,s,l,d=Ye.min(),p=Ye.min(),S=po.EMPTY_BYTE_STRING,M=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=S,this.expectedCount=M}withSequenceNumber(e){return new Bu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Bu(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hI{constructor(e){this.ct=e}}function zv(i,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Kf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Vu(d=i.ct,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:Rc(d,p.version.toTimestamp()),createTime:Rc(d,p.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:xc(e.version)};else{if(!e.isUnknownDocument())return Rn();s.unknownDocument={path:r.path.toArray(),version:xc(e.version)}}var d,p;return s}function Kf(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function xc(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Nc(i){const e=new xt(i.seconds,i.nanoseconds);return Ye.fromTimestamp(e)}function Jl(i,e){const r=(e.baseMutations||[]).map(d=>zf(i.ct,d));for(let d=0;d<e.mutations.length-1;++d)d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(e.mutations[d].updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d);const s=e.mutations.map(d=>zf(i.ct,d)),l=xt.fromMillis(e.localWriteTimeMs);return new Ft(e.batchId,l,r,s)}function la(i){const e=Nc(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?Nc(i.lastLimboFreeSnapshotVersion):Ye.min();let s;return s=void 0!==i.query.documents?($n(1===(d=i.query).documents.length),rs(Wl(Ah(d.documents[0])))):function(d){return rs(jv(d))}(i.query),new Bu(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,r,po.fromBase64String(i.resumeToken));var d}function Od(i,e){const r=xc(e.snapshotVersion),s=xc(e.lastLimboFreeSnapshotVersion);let l;l=Cc(e.target)?Gg(i.ct,e.target):qf(i.ct,e.target).ut;const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Gl(e.target),readTime:r,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function Yf(i){const e=jv({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Dd(e,e.limit,"L"):e}function Qf(i,e){return new Sn(e.largestBatchId,zf(i.ct,e.overlayMutation))}function jg(i,e){const r=e.path.lastSegment();return[i,oo(e.path.popLast()),r]}function fI(i,e,r,s){return{indexId:i,uid:e,sequenceNumber:r,readTime:xc(s.readTime),documentKey:oo(s.documentKey.path),largestBatchId:s.largestBatchId}}class Q0{getBundleMetadata(e,r){return pI(e).get(r).next(s=>{if(s)return{id:(d=s).bundleId,createTime:Nc(d.createTime),version:d.version};var d})}saveBundleMetadata(e,r){return pI(e).put({bundleId:(l=r).id,createTime:xc(So(l.createTime)),version:l.version});var l}getNamedQuery(e,r){return Xf(e).get(r).next(s=>{if(s)return{name:(d=s).name,query:Yf(d.bundledQuery),readTime:Nc(d.readTime)};var d})}saveNamedQuery(e,r){return Xf(e).put({name:(l=r).name,readTime:xc(So(l.readTime)),bundledQuery:l.bundledQuery});var l}}function pI(i){return qi(i,"bundles")}function Xf(i){return qi(i,"namedQueries")}class kd{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new kd(e,r.uid||"")}getOverlay(e,r){return Zf(e).get(jg(this.userId,r)).next(s=>s?Qf(this.serializer,s):null)}getOverlays(e,r){const s=ia();return tt.forEach(r,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,r,s){const l=[];return s.forEach((d,p)=>{const S=new Sn(r,p);l.push(this.ht(e,S))}),tt.waitFor(l)}removeOverlaysForBatchId(e,r,s){const l=new Set;r.forEach(p=>l.add(oo(p.getCollectionPath())));const d=[];return l.forEach(p=>{const S=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,s+1],!1,!0);d.push(Zf(e).H("collectionPathOverlayIndex",S))}),tt.waitFor(d)}getOverlaysForCollection(e,r,s){const l=ia(),d=oo(r),p=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Zf(e).W("collectionPathOverlayIndex",p).next(S=>{for(const M of S){const $=Qf(this.serializer,M);l.set($.getKey(),$)}return l})}getOverlaysForCollectionGroup(e,r,s,l){const d=ia();let p;const S=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Zf(e).Y({index:"collectionGroupOverlayIndex",range:S},(M,$,Q)=>{const ve=Qf(this.serializer,$);d.size()<l||ve.largestBatchId===p?(d.set(ve.getKey(),ve),p=ve.largestBatchId):Q.done()}).next(()=>d)}ht(e,r){return Zf(e).put(function(l,d,p){const[S,M,$]=jg(d,p.mutation.key);return{userId:d,collectionPath:M,documentId:$,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:Pc(l.ct,p.mutation)}}(this.serializer,this.userId,r))}}function Zf(i){return qi(i,"documentOverlays")}class Ld{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(Ni(e.integerValue));else if("doubleValue"in e){const s=Ni(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),Fa(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Et(r,20),"string"==typeof s?r.At(s):(r.At(`${s.seconds||""}`),r.dt(s.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(ya(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?Tu(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):Rn()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const l of Object.keys(s))this.Rt(l,r),this.It(s[l],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const l of s)this.It(l,r)}gt(e,r){this.Et(r,37),ln.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function qv(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Kv(i){const e=64-function(s){let l=0;for(let d=0;d<8;++d){const p=qv(255&s[d]);if(l+=p,8!==p)break}return l}(i);return Math.ceil(e/8)}Ld.bt=new Ld;class gI{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const l=r.codePointAt(0);this.Ct(240|l>>>18),this.Ct(128|63&l>>>12),this.Ct(128|63&l>>>6),this.Ct(128|63&l)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const l=r.codePointAt(0);this.Mt(240|l>>>18),this.Mt(128|63&l>>>12),this.Mt(128|63&l>>>6),this.Mt(128|63&l)}}this.xt()}Bt(e){const r=this.Lt(e),s=Kv(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let l=r.length-s;l<r.length;++l)this.buffer[this.position++]=255&r[l]}qt(e){const r=this.Lt(e),s=Kv(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let l=r.length-s;l<r.length;++l)this.buffer[this.position++]=~(255&r[l])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const r=function(d){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,d,!1),new Uint8Array(p.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let l=1;l<r.length;++l)r[l]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class mI{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class vI{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Fd{constructor(){this.Gt=new gI,this.zt=new mI(this.Gt),this.jt=new vI(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class yl{constructor(e,r,s,l){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=l}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new yl(this.indexId,this.documentKey,this.arrayValue,s)}}function $u(i,e){let r=i.indexId-e.indexId;return 0!==r?r:(r=Jf(i.arrayValue,e.arrayValue),0!==r?r:(r=Jf(i.directionalValue,e.directionalValue),0!==r?r:ln.comparator(i.documentKey,e.documentKey)))}function Jf(i,e){for(let r=0;r<i.length&&r<e.length;++r){const s=i[r]-e[r];if(0!==s)return s}return i.length-e.length}class Yv{constructor(e){this.Yt=new pi((r,s)=>Jn.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if($n(e.collectionGroup===this.collectionId),this.en)return!1;const r=ws(e);if(void 0!==r&&!this.nn(r))return!1;const s=Kn(e);let l=new Set,d=0,p=0;for(;d<s.length&&this.nn(s[d]);++d)l=l.add(s[d].fieldPath.canonicalString());if(d===s.length)return!0;if(this.Yt.size>0){const S=this.Yt.getIterator().getNext();if(!l.has(S.field.canonicalString())){const M=s[d];if(!this.rn(S,M)||!this.sn(this.Zt[p++],M))return!1}++d}for(;d<s.length;++d)if(p>=this.Zt.length||!this.sn(this.Zt[p++],s[d]))return!1;return!0}on(){if(this.en)return null;let e=new pi(Jn.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new ns(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new ns(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new ns(s.field,"asc"===s.dir?0:1)));return new ms(ms.UNKNOWN_ID,this.collectionId,r,Ts.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Oc(i){var e,r;if($n(i instanceof Jr||i instanceof gi),i instanceof Jr){if(i instanceof Uf){const l=(null===(r=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(d=>Jr.create(i.field,"==",d)))||[];return gi.create(l,"or")}return i}const s=i.filters.map(l=>Oc(l));return gi.create(s,i.op)}function _I(i){if(0===i.getFilters().length)return[];const e=zg(Oc(i));return $n(Wg(e)),Hg(e)||ep(e)?[e]:e.getFilters()}function Hg(i){return i instanceof Jr}function ep(i){return i instanceof gi&&Ha(i)}function Wg(i){return Hg(i)||ep(i)||function(r){if(r instanceof gi&&Ih(r)){for(const s of r.getFilters())if(!Hg(s)&&!ep(s))return!1;return!0}return!1}(i)}function zg(i){if($n(i instanceof Jr||i instanceof gi),i instanceof Jr)return i;if(1===i.filters.length)return zg(i.filters[0]);const e=i.filters.map(s=>zg(s));let r=gi.create(e,i.op);return r=tp(r),Wg(r)?r:($n(r instanceof gi),$n($l(r)),$n(r.filters.length>1),r.filters.reduce((s,l)=>qg(s,l)))}function qg(i,e){let r;return $n(i instanceof Jr||i instanceof gi),$n(e instanceof Jr||e instanceof gi),r=i instanceof Jr?e instanceof Jr?gi.create([i,e],"and"):Qv(i,e):e instanceof Jr?Qv(e,i):function(l,d){if($n(l.filters.length>0&&d.filters.length>0),$l(l)&&$l(d))return yd(l,d.getFilters());const p=Ih(l)?l:d,S=Ih(l)?d:l,M=p.filters.map($=>qg($,S));return gi.create(M,"or")}(i,e),tp(r)}function Qv(i,e){if($l(e))return yd(e,i.getFilters());{const r=e.filters.map(s=>qg(i,s));return gi.create(r,"or")}}function tp(i){if($n(i instanceof Jr||i instanceof gi),i instanceof Jr)return i;const e=i.getFilters();if(1===e.length)return tp(e[0]);if(fl(i))return i;const r=e.map(l=>tp(l)),s=[];return r.forEach(l=>{l instanceof Jr?s.push(l):l instanceof gi&&(l.op===i.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:gi.create(s,i.op)}class Xv{constructor(){this._n=new Zv}addToCollectionParentIndex(e,r){return this._n.add(r),tt.resolve()}getCollectionParents(e,r){return tt.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return tt.resolve()}deleteFieldIndex(e,r){return tt.resolve()}deleteAllFieldIndexes(e){return tt.resolve()}createTargetIndexes(e,r){return tt.resolve()}getDocumentsMatchingTarget(e,r){return tt.resolve(null)}getIndexType(e,r){return tt.resolve(0)}getFieldIndexes(e,r){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,r){return tt.resolve(Bo.min())}getMinOffsetFromCollectionGroup(e,r){return tt.resolve(Bo.min())}updateCollectionGroup(e,r,s){return tt.resolve()}updateIndexEntries(e,r){return tt.resolve()}}class Zv{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r]||new pi(yn.comparator),d=!l.has(s);return this.index[r]=l.add(s),d}has(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r];return l&&l.has(s)}getEntries(e){return(this.index[e]||new pi(yn.comparator)).toArray()}}const Kg=new Uint8Array(0);class Rh{constructor(e,r){this.databaseId=r,this.an=new Zv,this.un=new qa(s=>Gl(s),(s,l)=>jl(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),l=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const d={collectionId:s,parent:oo(l)};return Jv(e).put(d)}return tt.resolve()}getCollectionParents(e,r){const s=[],l=IDBKeyRange.bound([r,""],[ht(r),""],!1,!0);return Jv(e).W(l).next(d=>{for(const p of d){if(p.collectionId!==r)break;s.push(va(p.parent))}return s})}addFieldIndex(e,r){const s=Mh(e),l={indexId:(S=r).indexId,collectionGroup:S.collectionGroup,fields:S.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var S;delete l.indexId;const d=s.add(l);if(r.indexState){const p=kc(e);return d.next(S=>{p.put(fI(S,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return d.next()}deleteFieldIndex(e,r){const s=Mh(e),l=kc(e),d=Vd(e);return s.delete(r.indexId).next(()=>l.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Mh(e),s=Vd(e),l=kc(e);return r.H().next(()=>s.H()).next(()=>l.H())}createTargetIndexes(e,r){return tt.forEach(this.cn(r),s=>this.getIndexType(e,s).next(l=>{if(0===l||1===l){const d=new Yv(s).on();if(null!=d)return this.addFieldIndex(e,d)}}))}getDocumentsMatchingTarget(e,r){const s=Vd(e);let l=!0;const d=new Map;return tt.forEach(this.cn(r),p=>this.ln(e,p).next(S=>{l&&(l=!!S),d.set(p,S)})).next(()=>{if(l){let p=hr();const S=[];return tt.forEach(d,(M,$)=>{var Qn;Xt("IndexedDbIndexManager",`Using index ${Qn=M,`id=${Qn.indexId}|cg=${Qn.collectionGroup}|f=${Qn.fields.map(Gn=>`${Gn.fieldPath}:${Gn.kind}`).join(",")}`} to execute ${Gl(r)}`);const Q=function(Qn,Gn){const Vr=ws(Gn);if(void 0===Vr)return null;for(const br of pl(Qn,Vr.fieldPath))switch(br.op){case"array-contains-any":return br.value.arrayValue.values||[];case"array-contains":return[br.value]}return null}($,M),ve=function(Qn,Gn){const Vr=new Map;for(const br of Kn(Gn))for(const uo of pl(Qn,br.fieldPath))switch(uo.op){case"==":case"in":Vr.set(br.fieldPath.canonicalString(),uo.value);break;case"not-in":case"!=":return Vr.set(br.fieldPath.canonicalString(),uo.value),Array.from(Vr.values())}return null}($,M),Ze=function(Qn,Gn){const Vr=[];let br=!0;for(const uo of Kn(Gn)){const Rs=0===uo.kind?Hl(Qn,uo.fieldPath,Qn.startAt):Bf(Qn,uo.fieldPath,Qn.startAt);Vr.push(Rs.value),br&&(br=Rs.inclusive)}return new ja(Vr,br)}($,M),lt=function(Qn,Gn){const Vr=[];let br=!0;for(const uo of Kn(Gn)){const Rs=0===uo.kind?Bf(Qn,uo.fieldPath,Qn.endAt):Hl(Qn,uo.fieldPath,Qn.endAt);Vr.push(Rs.value),br&&(br=Rs.inclusive)}return new ja(Vr,br)}($,M),Jt=this.hn(M,$,Ze),hn=this.hn(M,$,lt),sn=this.Pn(M,$,ve),Mn=this.In(M.indexId,Q,Jt,Ze.inclusive,hn,lt.inclusive,sn);return tt.forEach(Mn,tr=>s.j(tr,r.limit).next(Qn=>{Qn.forEach(Gn=>{const Vr=ln.fromSegments(Gn.documentKey);p.has(Vr)||(p=p.add(Vr),S.push(Vr))})}))}).next(()=>S)}return tt.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:_I(gi.create(e.filters,"and")).map(s=>Eh(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,l,d,p,S){const M=(null!=r?r.length:1)*Math.max(s.length,d.length),$=M/(null!=r?r.length:1),Q=[];for(let ve=0;ve<M;++ve){const Ze=r?this.Tn(r[ve/$]):Kg,lt=this.En(e,Ze,s[ve%$],l),Jt=this.dn(e,Ze,d[ve%$],p),hn=S.map(sn=>this.En(e,Ze,sn,!0));Q.push(...this.createRange(lt,Jt,hn))}return Q}En(e,r,s,l){const d=new yl(e,ln.empty(),r,s);return l?d:d.Jt()}dn(e,r,s,l){const d=new yl(e,ln.empty(),r,s);return l?d.Jt():d}ln(e,r){const s=new Yv(r),l=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,l).next(d=>{let p=null;for(const S of d)s.tn(S)&&(!p||S.fields.length>p.fields.length)&&(p=S);return p})}getIndexType(e,r){let s=2;const l=this.cn(r);return tt.forEach(l,d=>this.ln(e,d).next(p=>{p?0!==s&&p.fields.length<function(M){let $=new pi(Jn.comparator),Q=!1;for(const ve of M.filters)for(const Ze of ve.getFlattenedFilters())Ze.field.isKeyField()||("array-contains"===Ze.op||"array-contains-any"===Ze.op?Q=!0:$=$.add(Ze.field));for(const ve of M.orderBy)ve.field.isKeyField()||($=$.add(ve.field));return $.size+(Q?1:0)}(d)&&(s=1):s=0})).next(()=>null!==r.limit&&l.length>1&&2===s?1:s)}An(e,r){const s=new Fd;for(const l of Kn(e)){const d=r.data.field(l.fieldPath);if(null==d)return null;const p=s.Ht(l.kind);Ld.bt.Pt(d,p)}return s.Wt()}Tn(e){const r=new Fd;return Ld.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new Fd;return Ld.bt.Pt(cl(this.databaseId,r),s.Ht(function(d){const p=Kn(d);return 0===p.length?0:p[p.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let l=[];l.push(new Fd);let d=0;for(const p of Kn(e)){const S=s[d++];for(const M of l)if(this.Vn(r,p.fieldPath)&&Us(S))l=this.mn(l,p,S);else{const $=M.Ht(p.kind);Ld.bt.Pt(S,$)}}return this.fn(l)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const l=[...e],d=[];for(const p of s.arrayValue.values||[])for(const S of l){const M=new Fd;M.seed(S.Wt()),Ld.bt.Pt(p,M.Ht(r.kind)),d.push(M)}return d}Vn(e,r){return!!e.filters.find(s=>s instanceof Jr&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=Mh(e),l=kc(e);return(r?s.W("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.W()).next(d=>{const p=[];return tt.forEach(d,S=>l.get([S.indexId,this.uid]).next(M=>{p.push(function(Q,ve){const Ze=ve?new Ts(ve.sequenceNumber,new Bo(Nc(ve.readTime),new ln(va(ve.documentKey)),ve.largestBatchId)):Ts.empty(),lt=Q.fields.map(([Jt,hn])=>new ns(Jn.fromServerFormat(Jt),hn));return new ms(Q.indexId,Q.collectionGroup,lt,Ze)}(S,M))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,l)=>{const d=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==d?d:H(s.collectionGroup,l.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const l=Mh(e),d=kc(e);return this.gn(e).next(p=>l.W("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(S=>tt.forEach(S,M=>d.put(fI(M.indexId,this.uid,p,s)))))}updateIndexEntries(e,r){const s=new Map;return tt.forEach(r,(l,d)=>{const p=s.get(l.collectionGroup);return(p?tt.resolve(p):this.getFieldIndexes(e,l.collectionGroup)).next(S=>(s.set(l.collectionGroup,S),tt.forEach(S,M=>this.pn(e,l,M).next($=>{const Q=this.yn(d,M);return $.isEqual(Q)?tt.resolve():this.wn(e,d,M,$,Q)}))))})}Sn(e,r,s,l){return Vd(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,l){return Vd(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const l=Vd(e);let d=new pi($u);return l.Y({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(p,S)=>{d=d.add(new yl(s.indexId,r,S.arrayValue,S.directionalValue))}).next(()=>d)}yn(e,r){let s=new pi($u);const l=this.An(r,e);if(null==l)return s;const d=ws(r);if(null!=d){const p=e.data.field(d.fieldPath);if(Us(p))for(const S of p.arrayValue.values||[])s=s.add(new yl(r.indexId,e.key,this.Tn(S),l))}else s=s.add(new yl(r.indexId,e.key,Kg,l));return s}wn(e,r,s,l,d){Xt("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const p=[];return function(M,$,Q,ve,Ze){const lt=M.getIterator(),Jt=$.getIterator();let hn=Ua(lt),sn=Ua(Jt);for(;hn||sn;){let Mn=!1,tr=!1;if(hn&&sn){const Qn=Q(hn,sn);Qn<0?tr=!0:Qn>0&&(Mn=!0)}else null!=hn?tr=!0:Mn=!0;Mn?(ve(sn),sn=Ua(Jt)):tr?(Ze(hn),hn=Ua(lt)):(hn=Ua(lt),sn=Ua(Jt))}}(l,d,$u,S=>{p.push(this.Sn(e,r,s,S))},S=>{p.push(this.bn(e,r,s,S))}),tt.waitFor(p)}gn(e){let r=1;return kc(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,d)=>{d.done(),r=l.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((p,S)=>$u(p,S)).filter((p,S,M)=>!S||0!==$u(p,M[S-1]));const l=[];l.push(e);for(const p of s){const S=$u(p,e),M=$u(p,r);if(0===S)l[0]=e.Jt();else if(S>0&&M<0)l.push(p),l.push(p.Jt());else if(M>0)break}l.push(r);const d=[];for(let p=0;p<l.length;p+=2){if(this.Dn(l[p],l[p+1]))return[];d.push(IDBKeyRange.bound([l[p].indexId,this.uid,l[p].arrayValue,l[p].directionalValue,Kg,[]],[l[p+1].indexId,this.uid,l[p+1].arrayValue,l[p+1].directionalValue,Kg,[]]))}return d}Dn(e,r){return $u(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(e_)}getMinOffset(e,r){return tt.mapArray(this.cn(r),s=>this.ln(e,s).next(l=>l||Rn())).next(e_)}}function Jv(i){return qi(i,"collectionParents")}function Vd(i){return qi(i,"indexEntries")}function Mh(i){return qi(i,"indexConfiguration")}function kc(i){return qi(i,"indexState")}function e_(i){$n(0!==i.length);let e=i[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<i.length;s++){const l=i[s].indexState.offset;Nf(l,e)<0&&(e=l),r<l.largestBatchId&&(r=l.largestBatchId)}return new Bo(e.readTime,e.documentKey,r)}const t_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ys{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ys(e,ys.DEFAULT_COLLECTION_PERCENTILE,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function n_(i,e,r){const s=i.store("mutations"),l=i.store("documentMutations"),d=[],p=IDBKeyRange.only(r.batchId);let S=0;const M=s.Y({range:p},(Q,ve,Ze)=>(S++,Ze.delete()));d.push(M.next(()=>{$n(1===S)}));const $=[];for(const Q of r.mutations){const ve=hd(e,Q.key.path,r.batchId);d.push(l.delete(ve)),$.push(Q.key)}return tt.waitFor(d).next(()=>$)}function Ud(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Rn();e=i.noDocument}return JSON.stringify(e).length}ys.DEFAULT_COLLECTION_PERCENTILE=10,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ys.DEFAULT=new ys(41943040,ys.DEFAULT_COLLECTION_PERCENTILE,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ys.DISABLED=new ys(-1,0,0);class np{constructor(e,r,s,l){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=l,this.Cn={}}static lt(e,r,s,l){$n(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new np(d,r,s,l)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gu(e).Y({index:"userMutationsIndex",range:s},(l,d,p)=>{r=!1,p.done()}).next(()=>r)}addMutationBatch(e,r,s,l){const d=Lc(e),p=Gu(e);return p.add({}).next(S=>{$n("number"==typeof S);const M=new Ft(S,r,s,l),$=function(lt,Jt,hn){const sn=hn.baseMutations.map(tr=>Pc(lt.ct,tr)),Mn=hn.mutations.map(tr=>Pc(lt.ct,tr));return{userId:Jt,batchId:hn.batchId,localWriteTimeMs:hn.localWriteTime.toMillis(),baseMutations:sn,mutations:Mn}}(this.serializer,this.userId,M),Q=[];let ve=new pi((Ze,lt)=>H(Ze.canonicalString(),lt.canonicalString()));for(const Ze of l){const lt=hd(this.userId,Ze.key.path,S);ve=ve.add(Ze.key.path.popLast()),Q.push(p.put($)),Q.push(d.put(lt,_a))}return ve.forEach(Ze=>{Q.push(this.indexManager.addToCollectionParentIndex(e,Ze))}),e.addOnCommittedListener(()=>{this.Cn[S]=M.keys()}),tt.waitFor(Q).next(()=>M)})}lookupMutationBatch(e,r){return Gu(e).get(r).next(s=>s?($n(s.userId===this.userId),Jl(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?tt.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const l=s.keys();return this.Cn[r]=l,l}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,l=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return Gu(e).Y({index:"userMutationsIndex",range:l},(p,S,M)=>{S.userId===this.userId&&($n(S.batchId>=s),d=Jl(this.serializer,S)),M.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Gu(e).Y({index:"userMutationsIndex",range:r,reverse:!0},(l,d,p)=>{s=d.batchId,p.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gu(e).W("userMutationsIndex",r).next(s=>s.map(l=>Jl(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=ea(this.userId,r.path),l=IDBKeyRange.lowerBound(s),d=[];return Lc(e).Y({range:l},(p,S,M)=>{const[$,Q,ve]=p,Ze=va(Q);if($===this.userId&&r.path.isEqual(Ze))return Gu(e).get(ve).next(lt=>{if(!lt)throw Rn();$n(lt.userId===this.userId),d.push(Jl(this.serializer,lt))});M.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new pi(H);const l=[];return r.forEach(d=>{const p=ea(this.userId,d.path),S=IDBKeyRange.lowerBound(p),M=Lc(e).Y({range:S},($,Q,ve)=>{const[Ze,lt,Jt]=$,hn=va(lt);Ze===this.userId&&d.path.isEqual(hn)?s=s.add(Jt):ve.done()});l.push(M)}),tt.waitFor(l).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1,d=ea(this.userId,s),p=IDBKeyRange.lowerBound(d);let S=new pi(H);return Lc(e).Y({range:p},(M,$,Q)=>{const[ve,Ze,lt]=M,Jt=va(Ze);ve===this.userId&&s.isPrefixOf(Jt)?Jt.length===l&&(S=S.add(lt)):Q.done()}).next(()=>this.Fn(e,S))}Fn(e,r){const s=[],l=[];return r.forEach(d=>{l.push(Gu(e).get(d).next(p=>{if(null===p)throw Rn();$n(p.userId===this.userId),s.push(Jl(this.serializer,p))}))}),tt.waitFor(l).next(()=>s)}removeMutationBatch(e,r){return n_(e.ae,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),tt.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return tt.resolve();const s=IDBKeyRange.lowerBound(function(p){return[p]}(this.userId)),l=[];return Lc(e).Y({range:s},(d,p,S)=>{if(d[0]===this.userId){const M=va(d[1]);l.push(M)}else S.done()}).next(()=>{$n(0===l.length)})})}containsKey(e,r){return r_(e,this.userId,r)}xn(e){return i_(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function r_(i,e,r){const s=ea(e,r.path),l=s[1],d=IDBKeyRange.lowerBound(s);let p=!1;return Lc(i).Y({range:d,J:!0},(S,M,$)=>{const[Q,ve,Ze]=S;Q===e&&ve===l&&(p=!0),$.done()}).next(()=>p)}function Gu(i){return qi(i,"mutations")}function Lc(i){return qi(i,"documentMutations")}function i_(i){return qi(i,"mutationQueues")}class Fc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Fc(0)}static Bn(){return new Fc(-1)}}class $s{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Ln(e).next(r=>{const s=new Fc(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(r=>Ye.fromTimestamp(new xt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Ln(e).next(l=>(l.highestListenSequenceNumber=r,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.kn(e,l)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Ln(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>ju(e).delete(r.targetId)).next(()=>this.Ln(e)).next(s=>($n(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let l=0;const d=[];return ju(e).Y((p,S)=>{const M=la(S);M.sequenceNumber<=r&&null===s.get(M.targetId)&&(l++,d.push(this.removeTargetData(e,M)))}).next(()=>tt.waitFor(d)).next(()=>l)}forEachTarget(e,r){return ju(e).Y((s,l)=>{const d=la(l);r(d)})}Ln(e){return Yg(e).get("targetGlobalKey").next(r=>($n(null!==r),r))}kn(e,r){return Yg(e).put("targetGlobalKey",r)}qn(e,r){return ju(e).put(Od(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Ln(e).next(r=>r.targetCount)}getTargetData(e,r){const s=Gl(r),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return ju(e).Y({range:l,index:"queryTargetsIndex"},(p,S,M)=>{const $=la(S);jl(r,$.target)&&(d=$,M.done())}).next(()=>d)}addMatchingKeys(e,r,s){const l=[],d=Il(e);return r.forEach(p=>{const S=oo(p.path);l.push(d.put({targetId:s,path:S})),l.push(this.referenceDelegate.addReference(e,s,p))}),tt.waitFor(l)}removeMatchingKeys(e,r,s){const l=Il(e);return tt.forEach(r,d=>{const p=oo(d.path);return tt.waitFor([l.delete([s,p]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,r){const s=Il(e),l=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),l=Il(e);let d=hr();return l.Y({range:s,J:!0},(p,S,M)=>{const $=va(p[1]),Q=new ln($);d=d.add(Q)}).next(()=>d)}containsKey(e,r){const s=oo(r.path),l=IDBKeyRange.bound([s],[ht(s)],!1,!0);let d=0;return Il(e).Y({index:"documentTargetsIndex",J:!0,range:l},([p,S],M,$)=>{0!==p&&(d++,$.done())}).next(()=>d>0)}_t(e,r){return ju(e).get(r).next(s=>s?la(s):null)}}function ju(i){return qi(i,"targets")}function Yg(i){return qi(i,"targetGlobal")}function Il(i){return qi(i,"targetDocuments")}function ss([i,e],[r,s]){const l=H(i,r);return 0===l?H(e,s):l}class Ph{constructor(e){this.Kn=e,this.buffer=new pi(ss),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();ss(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Qg{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;Xt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Le.c)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){Vl(s)?Xt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield La(s)}yield r.zn(3e5)}))}}class o_{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return tt.resolve(Fs._e);const s=new Ph(r);return this.jn.forEachTarget(e,l=>s.Wn(l.sequenceNumber)).next(()=>this.jn.Jn(e,l=>s.Wn(l))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Xt("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(t_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Xt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t_):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,l,d,p,S,M,$;const Q=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ve=>(ve>this.params.maximumSequenceNumbersToCollect?(Xt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ve}`),l=this.params.maximumSequenceNumbersToCollect):l=ve,p=Date.now(),this.nthSequenceNumber(e,l))).next(ve=>(s=ve,S=Date.now(),this.removeTargets(e,s,r))).next(ve=>(d=ve,M=Date.now(),this.removeOrphanedDocuments(e,s))).next(ve=>($=Date.now(),ka()<=jt.Ge.DEBUG&&Xt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-Q}ms\n\tDetermined least recently used ${l} in `+(S-p)+`ms\n\tRemoved ${d} targets in `+(M-S)+`ms\n\tRemoved ${ve} documents in `+($-M)+`ms\nTotal Duration: ${$-Q}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:d,documentsRemoved:ve})))}}class a_{constructor(e,r){this.db=e,this.garbageCollector=function s_(i,e){return new o_(i,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(l=>s+l))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,l)=>r(l))}addReference(e,r,s){return rp(e,s)}removeReference(e,r,s){return rp(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return rp(e,r)}er(e,r){return function(l,d){let p=!1;return i_(l).Z(S=>r_(l,S,d).next(M=>(M&&(p=!0),tt.resolve(!M)))).next(()=>p)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let d=0;return this.Xn(e,(p,S)=>{if(S<=r){const M=this.er(e,p).next($=>{if(!$)return d++,s.getEntry(e,p).next(()=>(s.removeEntry(p,Ye.min()),Il(e).delete([0,oo(p.path)])))});l.push(M)}}).next(()=>tt.waitFor(l)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return rp(e,r)}Xn(e,r){const s=Il(e);let l,d=Fs._e;return s.Y({index:"documentTargetsIndex"},([p,S],{path:M,sequenceNumber:$})=>{0===p?(d!==Fs._e&&r(new ln(va(l)),d),d=$,l=M):d=Fs._e}).next(()=>{d!==Fs._e&&r(new ln(va(l)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function rp(i,e){return Il(i).put((l=i.currentSequenceNumber,{targetId:0,path:oo(e.path),sequenceNumber:l}));var l}class Xg{constructor(){this.changes=new qa(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ii.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?tt.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yI{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return Vc(e).put(s)}removeEntry(e,r,s){return Vc(e).delete(function(d,p){const S=d.path.toArray();return[S.slice(0,S.length-2),S[S.length-2],Kf(p),S[S.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=Ii.newInvalidDocument(r);return Vc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(xh(r))},(l,d)=>{s=this.nr(r,d)}).next(()=>s)}rr(e,r){let s={size:0,document:Ii.newInvalidDocument(r)};return Vc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(xh(r))},(l,d)=>{s={document:this.nr(r,d),size:Ud(d)}}).next(()=>s)}getEntries(e,r){let s=is();return this.ir(e,r,(l,d)=>{const p=this.nr(l,d);s=s.insert(l,p)}).next(()=>s)}sr(e,r){let s=is(),l=new mi(ln.comparator);return this.ir(e,r,(d,p)=>{const S=this.nr(d,p);s=s.insert(d,S),l=l.insert(d,Ud(p))}).next(()=>({documents:s,_r:l}))}ir(e,r,s){if(r.isEmpty())return tt.resolve();let l=new pi(EI);r.forEach(M=>l=l.add(M));const d=IDBKeyRange.bound(xh(l.first()),xh(l.last())),p=l.getIterator();let S=p.getNext();return Vc(e).Y({index:"documentKeyIndex",range:d},(M,$,Q)=>{const ve=ln.fromSegments([...$.prefixPath,$.collectionGroup,$.documentId]);for(;S&&EI(S,ve)<0;)s(S,null),S=p.getNext();S&&S.isEqual(ve)&&(s(S,$),S=p.hasNext()?p.getNext():null),S?Q.U(xh(S)):Q.done()}).next(()=>{for(;S;)s(S,null),S=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,r,s,l,d){const p=r.path,S=[p.popLast().toArray(),p.lastSegment(),Kf(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],M=[p.popLast().toArray(),p.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vc(e).W(IDBKeyRange.bound(S,M,!0)).next($=>{null==d||d.incrementDocumentReadCount($.length);let Q=is();for(const ve of $){const Ze=this.nr(ln.fromSegments(ve.prefixPath.concat(ve.collectionGroup,ve.documentId)),ve);Ze.isFoundDocument()&&(za(r,Ze)||l.has(Ze.key))&&(Q=Q.insert(Ze.key,Ze))}return Q})}getAllFromCollectionGroup(e,r,s,l){let d=is();const p=ip(r,s),S=ip(r,Bo.max());return Vc(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,S,!0)},(M,$,Q)=>{const ve=this.nr(ln.fromSegments($.prefixPath.concat($.collectionGroup,$.documentId)),$);d=d.insert(ve.key,ve),d.size===l&&Q.done()}).next(()=>d)}newChangeBuffer(e){return new II(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return l_(e).get("remoteDocumentGlobalKey").next(r=>($n(!!r),r))}tr(e,r){return l_(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function Wv(i,e){let r;if(e.document)r=$v(i.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=ln.fromSegments(e.noDocument.path),l=Nc(e.noDocument.readTime);r=Ii.newNoDocument(s,l),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Rn();{const s=ln.fromSegments(e.unknownDocument.path),l=Nc(e.unknownDocument.version);r=Ii.newUnknownDocument(s,l)}}return e.readTime&&r.setReadTime(function(l){const d=new xt(l[0],l[1]);return Ye.fromTimestamp(d)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(Ye.min()))return s}return Ii.newInvalidDocument(e)}}function Zg(i){return new yI(i)}class II extends Xg{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new qa(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const r=[];let s=0,l=new pi((d,p)=>H(d.canonicalString(),p.canonicalString()));return this.changes.forEach((d,p)=>{const S=this.ur.get(d);if(r.push(this.ar.removeEntry(e,d,S.readTime)),p.isValidDocument()){const M=zv(this.ar.serializer,p);l=l.add(d.path.popLast());const $=Ud(M);s+=$-S.size,r.push(this.ar.addEntry(e,d,M))}else if(s-=S.size,this.trackRemovals){const M=zv(this.ar.serializer,p.convertToNoDocument(Ye.min()));r.push(this.ar.addEntry(e,d,M))}}),l.forEach(d=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,d))}),r.push(this.ar.updateMetadata(e,s)),tt.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:l})=>(l.forEach((d,p)=>{this.ur.set(d,{size:p,readTime:s.get(d).readTime})}),s))}}function l_(i){return qi(i,"remoteDocumentGlobal")}function Vc(i){return qi(i,"remoteDocumentsV14")}function xh(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ip(i,e){const r=e.documentKey.path.toArray();return[i,Kf(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function EI(i,e){const r=i.path.toArray(),s=e.path.toArray();let l=0;for(let d=0;d<r.length-2&&d<s.length-2;++d)if(l=H(r[d],s[d]),l)return l;return l=H(r.length,s.length),l||(l=H(r[r.length-2],s[s.length-2]),l||H(r[r.length-1],s[s.length-1]))}class X0{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class op{constructor(e,r,s,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,r))).next(l=>(null!==s&&ml(s.mutation,l,_s.empty(),xt.now()),l))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,hr()).next(()=>s))}getLocalViewOfDocuments(e,r,s=hr()){const l=ia();return this.populateOverlays(e,l,r).next(()=>this.computeViews(e,r,l,s).next(d=>{let p=zl();return d.forEach((S,M)=>{p=p.insert(S,M.overlayedDocument)}),p}))}getOverlayedDocuments(e,r){const s=ia();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,hr()))}populateOverlays(e,r,s){const l=[];return s.forEach(d=>{r.has(d)||l.push(d)}),this.documentOverlayCache.getOverlays(e,l).next(d=>{d.forEach((p,S)=>{r.set(p,S)})})}computeViews(e,r,s,l){let d=is();const p=ql(),S=ql();return r.forEach((M,$)=>{const Q=s.get($.key);l.has($.key)&&(void 0===Q||Q.mutation instanceof g)?d=d.insert($.key,$):void 0!==Q?(p.set($.key,Q.mutation.getFieldMask()),ml(Q.mutation,$,Q.mutation.getFieldMask(),xt.now())):p.set($.key,_s.empty())}),this.recalculateAndSaveOverlays(e,d).next(M=>(M.forEach(($,Q)=>p.set($,Q)),r.forEach(($,Q)=>{var ve;return S.set($,new X0(Q,null!==(ve=p.get($))&&void 0!==ve?ve:null))}),S))}recalculateAndSaveOverlays(e,r){const s=ql();let l=new mi((p,S)=>p-S),d=hr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(p=>{for(const S of p)S.keys().forEach(M=>{const $=r.get(M);if(null===$)return;let Q=s.get(M)||_s.empty();Q=S.applyToLocalView($,Q),s.set(M,Q);const ve=(l.get(S.batchId)||hr()).add(M);l=l.insert(S.batchId,ve)})}).next(()=>{const p=[],S=l.getReverseIterator();for(;S.hasNext();){const M=S.getNext(),$=M.key,Q=M.value,ve=oa();Q.forEach(Ze=>{if(!d.has(Ze)){const lt=sa(r.get(Ze),s.get(Ze));null!==lt&&ve.set(Ze,lt),d=d.add(Ze)}}),p.push(this.documentOverlayCache.saveOverlays(e,$,ve))}return tt.waitFor(p)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,l){return ln.isDocumentKey((p=r).path)&&null===p.collectionGroup&&0===p.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):Ta(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,l):this.getDocumentsMatchingCollectionQuery(e,r,s,l);var p}getNextDocuments(e,r,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,l).next(d=>{const p=l-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,l-d.size):tt.resolve(ia());let S=-1,M=d;return p.next($=>tt.forEach($,(Q,ve)=>(S<ve.largestBatchId&&(S=ve.largestBatchId),d.get(Q)?tt.resolve():this.remoteDocumentCache.getEntry(e,Q).next(Ze=>{M=M.insert(Q,Ze)}))).next(()=>this.populateOverlays(e,$,d)).next(()=>this.computeViews(e,M,$,hr())).next(Q=>({batchId:S,changes:xu(Q)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ln(r)).next(s=>{let l=zl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,r,s,l){const d=r.collectionGroup;let p=zl();return this.indexManager.getCollectionParents(e,d).next(S=>tt.forEach(S,M=>{const $=(ve=r,Ze=M.child(d),new ra(Ze,null,ve.explicitOrderBy.slice(),ve.filters.slice(),ve.limit,ve.limitType,ve.startAt,ve.endAt));var ve,Ze;return this.getDocumentsMatchingCollectionQuery(e,$,s,l).next(Q=>{Q.forEach((ve,Ze)=>{p=p.insert(ve,Ze)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,r,s,l){let d;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(p=>(d=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,d,l))).next(p=>{d.forEach((M,$)=>{const Q=$.getKey();null===p.get(Q)&&(p=p.insert(Q,Ii.newInvalidDocument(Q)))});let S=zl();return p.forEach((M,$)=>{const Q=d.get(M);void 0!==Q&&ml(Q.mutation,$,_s.empty(),xt.now()),za(r,$)&&(S=S.insert(M,$))}),S})}}class Z0{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return tt.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(l=r).id,version:l.version,createTime:So(l.createTime)}),tt.resolve();var l}getNamedQuery(e,r){return tt.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(l=r).name,query:Yf(l.bundledQuery),readTime:So(l.readTime)}),tt.resolve();var l}}class J0{constructor(){this.overlays=new mi(ln.comparator),this.hr=new Map}getOverlay(e,r){return tt.resolve(this.overlays.get(r))}getOverlays(e,r){const s=ia();return tt.forEach(r,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((l,d)=>{this.ht(e,r,d)}),tt.resolve()}removeOverlaysForBatchId(e,r,s){const l=this.hr.get(s);return void 0!==l&&(l.forEach(d=>this.overlays=this.overlays.remove(d)),this.hr.delete(s)),tt.resolve()}getOverlaysForCollection(e,r,s){const l=ia(),d=r.length+1,p=new ln(r.child("")),S=this.overlays.getIteratorFrom(p);for(;S.hasNext();){const M=S.getNext().value,$=M.getKey();if(!r.isPrefixOf($.path))break;$.path.length===d&&M.largestBatchId>s&&l.set(M.getKey(),M)}return tt.resolve(l)}getOverlaysForCollectionGroup(e,r,s,l){let d=new mi(($,Q)=>$-Q);const p=this.overlays.getIterator();for(;p.hasNext();){const $=p.getNext().value;if($.getKey().getCollectionGroup()===r&&$.largestBatchId>s){let Q=d.get($.largestBatchId);null===Q&&(Q=ia(),d=d.insert($.largestBatchId,Q)),Q.set($.getKey(),$)}}const S=ia(),M=d.getIterator();for(;M.hasNext()&&(M.getNext().value.forEach(($,Q)=>S.set($,Q)),!(S.size()>=l)););return tt.resolve(S)}ht(e,r,s){const l=this.overlays.get(s.key);if(null!==l){const p=this.hr.get(l.largestBatchId).delete(s.key);this.hr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new Sn(r,s));let d=this.hr.get(r);void 0===d&&(d=hr(),this.hr.set(r,d)),this.hr.set(r,d.add(s.key))}}class u_{constructor(){this.Pr=new pi(as.Ir),this.Tr=new pi(as.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new as(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new as(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new ln(new yn([])),s=new as(r,e),l=new as(r,e+1),d=[];return this.Tr.forEachInRange([s,l],p=>{this.Ar(p),d.push(p.key)}),d}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new ln(new yn([])),s=new as(r,e),l=new as(r,e+1);let d=hr();return this.Tr.forEachInRange([s,l],p=>{d=d.add(p.key)}),d}containsKey(e){const r=new as(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class as{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return ln.comparator(e.key,r.key)||H(e.pr,r.pr)}static Er(e,r){return H(e.pr,r.pr)||ln.comparator(e.key,r.key)}}class eC{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new pi(as.Ir)}checkEmpty(e){return tt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,l){const d=this.yr;this.yr++;const p=new Ft(d,r,s,l);this.mutationQueue.push(p);for(const S of l)this.wr=this.wr.add(new as(S.key,d)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return tt.resolve(p)}lookupMutationBatch(e,r){return tt.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const l=this.br(r+1),d=l<0?0:l;return tt.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new as(r,0),l=new as(r,Number.POSITIVE_INFINITY),d=[];return this.wr.forEachInRange([s,l],p=>{const S=this.Sr(p.pr);d.push(S)}),tt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new pi(H);return r.forEach(l=>{const d=new as(l,0),p=new as(l,Number.POSITIVE_INFINITY);this.wr.forEachInRange([d,p],S=>{s=s.add(S.pr)})}),tt.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1;let d=s;ln.isDocumentKey(d)||(d=d.child(""));const p=new as(new ln(d),0);let S=new pi(H);return this.wr.forEachWhile(M=>{const $=M.key.path;return!!s.isPrefixOf($)&&($.length===l&&(S=S.add(M.pr)),!0)},p),tt.resolve(this.Dr(S))}Dr(e){const r=[];return e.forEach(s=>{const l=this.Sr(s);null!==l&&r.push(l)}),r}removeMutationBatch(e,r){$n(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return tt.forEach(r.mutations,l=>{const d=new as(l.key,r.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new as(r,0),l=this.wr.firstAfterOrEqual(s);return tt.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return tt.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class CI{constructor(e){this.vr=e,this.docs=new mi(ln.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,l=this.docs.get(s),d=l?l.size:0,p=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:p}),this.size+=p-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return tt.resolve(s?s.document.mutableCopy():Ii.newInvalidDocument(r))}getEntries(e,r){let s=is();return r.forEach(l=>{const d=this.docs.get(l);s=s.insert(l,d?d.document.mutableCopy():Ii.newInvalidDocument(l))}),tt.resolve(s)}getDocumentsMatchingQuery(e,r,s,l){let d=is();const p=r.path,S=new ln(p.child("")),M=this.docs.getIteratorFrom(S);for(;M.hasNext();){const{key:$,value:{document:Q}}=M.getNext();if(!p.isPrefixOf($.path))break;$.path.length>p.length+1||Nf(xf(Q),s)<=0||(l.has(Q.key)||za(r,Q))&&(d=d.insert(Q.key,Q.mutableCopy()))}return tt.resolve(d)}getAllFromCollectionGroup(e,r,s,l){Rn()}Fr(e,r){return tt.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new sp(this)}getSize(e){return tt.resolve(this.size)}}class sp extends Xg{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?r.push(this.ar.addEntry(e,l)):this.ar.removeEntry(s)}),tt.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class ap{constructor(e){this.persistence=e,this.Mr=new qa(r=>Gl(r),jl),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.Or=0,this.Nr=new u_,this.targetCount=0,this.Br=Fc.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,l)=>r(l)),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),tt.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Br=new Fc(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,tt.resolve()}updateTargetData(e,r){return this.qn(r),tt.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,r,s){let l=0;const d=[];return this.Mr.forEach((p,S)=>{S.sequenceNumber<=r&&null===s.get(S.targetId)&&(this.Mr.delete(p),d.push(this.removeMatchingKeysForTargetId(e,S.targetId)),l++)}),tt.waitFor(d).next(()=>l)}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return tt.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),tt.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const l=this.persistence.referenceDelegate,d=[];return l&&r.forEach(p=>{d.push(l.markPotentiallyOrphaned(e,p))}),tt.waitFor(d)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),tt.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return tt.resolve(s)}containsKey(e,r){return tt.resolve(this.Nr.containsKey(r))}}class Nh{constructor(e,r){this.Lr={},this.overlays={},this.kr=new Fs(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new ap(this),this.indexManager=new Xv,this.remoteDocumentCache=new CI(s=>this.referenceDelegate.Kr(s)),this.serializer=new hI(r),this.$r=new Z0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new J0,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Lr[e.toKey()];return s||(s=new eC(r,this.referenceDelegate),this.Lr[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){Xt("MemoryPersistence","Starting transaction:",e);const l=new c_(this.kr.next());return this.referenceDelegate.Ur(),s(l).next(d=>this.referenceDelegate.Wr(l).next(()=>d)).toPromise().then(d=>(l.raiseOnCommittedEvent(),d))}Gr(e,r){return tt.or(Object.values(this.Lr).map(s=>()=>s.containsKey(e,r)))}}class c_ extends ud{constructor(e){super(),this.currentSequenceNumber=e}}class Oh{constructor(e){this.persistence=e,this.zr=new u_,this.jr=null}static Hr(e){return new Oh(e)}get Jr(){if(this.jr)return this.jr;throw Rn()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),tt.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),tt.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(l=>this.Jr.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(l=>{l.forEach(d=>this.Jr.add(d.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.Jr,s=>{const l=ln.fromPath(s);return this.Yr(e,l).next(d=>{d||r.removeEntry(l,Ye.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return tt.or([()=>tt.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class DI{constructor(e){this.serializer=e}N(e,r,s,l){const d=new Wr("createOrUpgrade",r);var M;s<1&&l>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ph,{unique:!0}),M.createObjectStore("documentMutations"),Jg(e),function(M){M.createObjectStore("remoteDocuments")}(e));let p=tt.resolve();return s<3&&l>=3&&(0!==s&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),Jg(e)),p=p.next(()=>function(M){const $=M.store("targetGlobal"),Q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ye.min().toTimestamp(),targetCount:0};return $.put("targetGlobalKey",Q)}(d))),s<4&&l>=4&&(0!==s&&(p=p.next(()=>function(M,$){return $.store("mutations").W().next(Q=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ph,{unique:!0});const ve=$.store("mutations"),Ze=Q.map(lt=>ve.put(lt));return tt.waitFor(Ze)})}(e,d))),p=p.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(p=p.next(()=>this.Xr(d))),s<6&&l>=6&&(p=p.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.ei(d)))),s<7&&l>=7&&(p=p.next(()=>this.ti(d))),s<8&&l>=8&&(p=p.next(()=>this.ni(e,d))),s<9&&l>=9&&(p=p.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(p=p.next(()=>this.ri(d))),s<11&&l>=11&&(p=p.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(p=p.next(()=>{!function(M){const $=M.createObjectStore("documentOverlays",{keyPath:xv});$.createIndex("collectionPathOverlayIndex",vu,{unique:!1}),$.createIndex("collectionGroupOverlayIndex",Mg,{unique:!1})}(e)})),s<13&&l>=13&&(p=p.next(()=>function(M){const $=M.createObjectStore("remoteDocumentsV14",{keyPath:Ag});$.createIndex("documentKeyIndex",Ao),$.createIndex("collectionGroupIndex",gh)}(e)).next(()=>this.ii(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(p=p.next(()=>this.si(e,d))),s<15&&l>=15&&(p=p.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:Sg}).createIndex("sequenceNumberIndex",Rg,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:vh}).createIndex("documentKeyIndex",Pv,{unique:!1})}(e))),p}ei(e){let r=0;return e.store("remoteDocuments").Y((s,l)=>{r+=Ud(l)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.W().next(l=>tt.forEach(l,d=>{const p=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",p).next(S=>tt.forEach(S,M=>{$n(M.userId===d.userId);const $=Jl(this.serializer,M);return n_(e,d.userId,$).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const d=[];return s.Y((p,S)=>{const M=new yn(p),$=[0,oo(M)];d.push(r.get($).next(Q=>Q?tt.resolve():r.put({targetId:0,path:oo(M),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>tt.waitFor(d))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:Ul});const s=r.store("collectionParents"),l=new Zv,d=p=>{if(l.add(p)){const S=p.lastSegment(),M=p.popLast();return s.put({collectionId:S,parent:oo(M)})}};return r.store("remoteDocuments").Y({J:!0},(p,S)=>{const M=new yn(p);return d(M.popLast())}).next(()=>r.store("documentMutations").Y({J:!0},([p,S,M],$)=>{const Q=va(S);return d(Q.popLast())}))}ri(e){const r=e.store("targets");return r.Y((s,l)=>{const d=la(l),p=Od(this.serializer,d);return r.put(p)})}ii(e,r){const s=r.store("remoteDocuments"),l=[];return s.Y((d,p)=>{const S=r.store("remoteDocumentsV14"),M=(ve=p,ve.document?new ln(yn.fromString(ve.document.name).popFirst(5)):ve.noDocument?ln.fromSegments(ve.noDocument.path):ve.unknownDocument?ln.fromSegments(ve.unknownDocument.path):Rn()).path.toArray(),$={prefixPath:M.slice(0,M.length-2),collectionGroup:M[M.length-2],documentId:M[M.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};var ve;l.push(S.put($))}).next(()=>tt.waitFor(l))}si(e,r){const s=r.store("mutations"),l=Zg(this.serializer),d=new Nh(Oh.Hr,this.serializer.ct);return s.W().next(p=>{const S=new Map;return p.forEach(M=>{var $;let Q=null!==($=S.get(M.userId))&&void 0!==$?$:hr();Jl(this.serializer,M).keys().forEach(ve=>Q=Q.add(ve)),S.set(M.userId,Q)}),tt.forEach(S,(M,$)=>{const Q=new Fr($),ve=kd.lt(this.serializer,Q),Ze=d.getIndexManager(Q),lt=np.lt(Q,this.serializer,Ze,d.referenceDelegate);return new op(l,lt,ve,Ze).recalculateAndSaveOverlaysForDocumentKeys(new sl(r,Fs._e),M).next()})})}}function Jg(i){i.createObjectStore("targetDocuments",{keyPath:fd}).createIndex("documentTargetsIndex",mh,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Zr,{unique:!0}),i.createObjectStore("targetGlobal")}const Hu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bs{constructor(e,r,s,l,d,p,S,M,$,Q,ve=15){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=d,this.window=p,this.document=S,this._i=$,this.ai=Q,this.ui=ve,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=Ze=>Promise.resolve(),!bs.D())throw new Ut(At.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new a_(this,l),this.Ti=r+"main",this.serializer=new hI(M),this.Ei=new $o(this.Ti,this.ui,new DI(this.serializer)),this.Qr=new $s(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Zg(this.serializer),this.$r=new Q0,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===Q&&Ri("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ut(At.FAILED_PRECONDITION,Hu);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Fs(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,Le.c)(function*(l){if(r.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,Le.c)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,Le.c)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>kh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Vl(e))return Xt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Xt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Sa(e).get("owner").next(r=>tt.resolve(this.Si(r)))}bi(e){return kh(e).delete(this.clientId)}Di(){var e=this;return(0,Le.c)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=qi(s,"clientMetadata");return l.W().next(d=>{const p=e.vi(d,18e5),S=d.filter(M=>-1===p.indexOf(M));return tt.forEach(S,M=>l.delete(M.clientId)).next(()=>S)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?tt.resolve(!0):Sa(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new Ut(At.FAILED_PRECONDITION,Hu);return!1}}return!(!this.networkEnabled||!this.inForeground)||kh(e).W().next(s=>void 0===this.vi(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Xt("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,Le.c)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new sl(r,Fs._e);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Bi()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>kh(e).W().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return np.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Rh(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return kd.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){Xt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===r?"readonly":"readwrite",d=15===(M=this.ui)?Eu:14===M?Iu:13===M?Va:12===M?yu:11===M?_u:void Rn();var M;let p;return this.Ei.runTransaction(e,l,d,S=>(p=new sl(S,this.kr?this.kr.next():Fs._e),"readwrite-primary"===r?this.gi(p).next(M=>!!M||this.pi(p)).next(M=>{if(!M)throw Ri(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new Ut(At.FAILED_PRECONDITION,hh);return s(p)}).next(M=>this.wi(p).next(()=>M)):this.ki(p).next(()=>s(p)))).then(S=>(p.raiseOnCommittedEvent(),S))}ki(e){return Sa(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Ut(At.FAILED_PRECONDITION,Hu)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sa(e).put("owner",r)}static D(){return $o.D()}yi(e){const r=Sa(e);return r.get("owner").next(s=>this.Si(s)?(Xt("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):tt.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(Ri(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,qt.qk)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return Xt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Ri("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Ri("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sa(i){return qi(i,"owner")}function kh(i){return qi(i,"clientMetadata")}function d_(i,e){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+e+"/"+r+"/"}class em{constructor(e,r,s,l){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=l}static Ki(e,r){let s=hr(),l=hr();for(const d of r.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:l=l.add(d.doc.key)}return new em(e,r.fromCache,s,l)}}class tC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class wI{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,qt.qk)()?8:$o.v((0,qt.Su)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,l){const d={result:null};return this.ji(e,r).next(p=>{d.result=p}).next(()=>{if(!d.result)return this.Hi(e,r,l,s).next(p=>{d.result=p})}).next(()=>{if(d.result)return;const p=new tC;return this.Ji(e,r,p).next(S=>{if(d.result=S,this.Ui)return this.Yi(e,r,p,S.size)})}).next(()=>d.result)}Yi(e,r,s,l){return s.documentReadCount<this.Wi?(ka()<=jt.Ge.DEBUG&&Xt("QueryEngine","SDK will not create cache indexes for query:",Wa(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),tt.resolve()):(ka()<=jt.Ge.DEBUG&&Xt("QueryEngine","Query:",Wa(r),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Gi*l?(ka()<=jt.Ge.DEBUG&&Xt("QueryEngine","The SDK decides to create cache indexes for query:",Wa(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rs(r))):tt.resolve())}ji(e,r){if($f(r))return tt.resolve(null);let s=rs(r);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==r.limit&&1===l&&(r=Dd(r,null,"F"),s=rs(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const p=hr(...d);return this.zi.getDocuments(e,p).next(S=>this.indexManager.getMinOffset(e,s).next(M=>{const $=this.Zi(r,S);return this.Xi(r,$,p,M.readTime)?this.ji(e,Dd(r,null,"F")):this.es(e,$,r,M)}))})))}Hi(e,r,s,l){return $f(r)||l.isEqual(Ye.min())?tt.resolve(null):this.zi.getDocuments(e,s).next(d=>{const p=this.Zi(r,d);return this.Xi(r,p,s,l)?tt.resolve(null):(ka()<=jt.Ge.DEBUG&&Xt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Wa(r)),this.es(e,p,r,fu(l,-1)).next(S=>S))})}Zi(e,r){let s=new pi(wc(e));return r.forEach((l,d)=>{za(e,d)&&(s=s.add(d))}),s}Xi(e,r,s,l){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const d="F"===e.limitType?r.last():r.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(l)>0)}Ji(e,r,s){return ka()<=jt.Ge.DEBUG&&Xt("QueryEngine","Using full collection scan to execute query:",Wa(r)),this.zi.getDocumentsMatchingQuery(e,r,Bo.min(),s)}es(e,r,s,l){return this.zi.getDocumentsMatchingQuery(e,s,l).next(d=>(r.forEach(p=>{d=d.insert(p.key,p)}),d))}}class h_{constructor(e,r,s,l){this.persistence=e,this.ts=r,this.serializer=l,this.ns=new mi(H),this.rs=new qa(d=>Gl(d),jl),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new op(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function tm(i,e,r,s){return new h_(i,e,r,s)}function TI(i,e){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,Le.c)(function*(i,e){const r=vn(i);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let l;return r.mutationQueue.getAllMutationBatches(s).next(d=>(l=d,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(d=>{const p=[],S=[];let M=hr();for(const $ of l){p.push($.batchId);for(const Q of $.mutations)M=M.add(Q.key)}for(const $ of d){S.push($.batchId);for(const Q of $.mutations)M=M.add(Q.key)}return r.localDocuments.getDocuments(s,M).next($=>({us:$,removedBatchIds:p,addedBatchIds:S}))})})}),Bd.apply(this,arguments)}function up(i){const e=vn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function Uc(i,e,r){let s=hr(),l=hr();return r.forEach(d=>s=s.add(d)),e.getEntries(i,s).next(d=>{let p=is();return r.forEach((S,M)=>{const $=d.get(S);M.isFoundDocument()!==$.isFoundDocument()&&(l=l.add(S)),M.isNoDocument()&&M.version.isEqual(Ye.min())?(e.removeEntry(S,M.readTime),p=p.insert(S,M)):!$.isValidDocument()||M.version.compareTo($.version)>0||0===M.version.compareTo($.version)&&$.hasPendingWrites?(e.addEntry(M),p=p.insert(S,M)):Xt("LocalStore","Ignoring outdated watch update for ",S,". Current version:",$.version," Watch version:",M.version)}),{cs:p,ls:l}})}function cp(i,e){const r=vn(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Bc(i,e){const r=vn(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return r.Qr.getTargetData(s,e).next(d=>d?(l=d,tt.resolve(l)):r.Qr.allocateTargetId(s).next(p=>(l=new Bu(e,p,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=r.ns.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function Wu(i,e,r){return $d.apply(this,arguments)}function $d(){return $d=(0,Le.c)(function*(i,e,r){const s=vn(i),l=s.ns.get(e),d=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",d,p=>s.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!Vl(p))throw p;Xt("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.ns=s.ns.remove(e),s.rs.delete(l.target)}),$d.apply(this,arguments)}function dp(i,e,r){const s=vn(i);let l=Ye.min(),d=hr();return s.persistence.runTransaction("Execute query","readwrite",p=>function(M,$,Q){const ve=vn(M),Ze=ve.rs.get(Q);return void 0!==Ze?tt.resolve(ve.ns.get(Ze)):ve.Qr.getTargetData($,Q)}(s,p,rs(e)).next(S=>{if(S)return l=S.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(p,S.targetId).next(M=>{d=M})}).next(()=>s.ts.getDocumentsMatchingQuery(p,e,r?l:Ye.min(),r?d:hr())).next(S=>(p_(s,Ch(e),S),{documents:S,hs:d})))}function f_(i,e){const r=vn(i),s=vn(r.Qr),l=r.ns.get(e);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",d=>s._t(d,e).next(p=>p?p.target:null))}function rm(i,e){const r=vn(i),s=r.ss.get(e)||Ye.min();return r.persistence.runTransaction("Get new document changes","readonly",l=>r.os.getAllFromCollectionGroup(l,e,fu(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(p_(r,e,l),l))}function p_(i,e,r){let s=i.ss.get(e)||Ye.min();r.forEach((l,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),i.ss.set(e,s)}function im(){return im=(0,Le.c)(function*(i,e,r,s){const l=vn(i);let d=hr(),p=is();for(const $ of r){const Q=e.Ps($.metadata.name);$.document&&(d=d.add(Q));const ve=e.Is($);ve.setReadTime(e.Ts($.metadata.readTime)),p=p.insert(Q,ve)}const S=l.os.newChangeBuffer({trackRemovals:!0}),M=yield Bc(l,(Q=s,rs(Wl(yn.fromString(`__bundle__/docs/${Q}`)))));var Q;return l.persistence.runTransaction("Apply bundle documents","readwrite",$=>Uc($,S,p).next(Q=>(S.apply($),Q)).next(Q=>l.Qr.removeMatchingKeysForTargetId($,M.targetId).next(()=>l.Qr.addMatchingKeys($,d,M.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments($,Q.cs,Q.ls)).next(()=>Q.cs)))}),im.apply(this,arguments)}function g_(i,e){return $c.apply(this,arguments)}function $c(){return $c=(0,Le.c)(function*(i,e,r=hr()){const s=yield Bc(i,rs(Yf(e.bundledQuery))),l=vn(i);return l.persistence.runTransaction("Save named query","readwrite",d=>{const p=So(e.readTime);if(s.snapshotVersion.compareTo(p)>=0)return l.$r.saveNamedQuery(d,e);const S=s.withResumeToken(po.EMPTY_BYTE_STRING,p);return l.ns=l.ns.insert(S.targetId,S),l.Qr.updateTargetData(d,S).next(()=>l.Qr.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>l.Qr.addMatchingKeys(d,r,s.targetId)).next(()=>l.$r.saveNamedQuery(d,e))})}),$c.apply(this,arguments)}function Lh(i,e){return`firestore_clients_${i}_${e}`}function hp(i,e,r){let s=`firestore_mutations_${i}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function om(i,e){return`firestore_targets_${i}_${e}`}class fp{constructor(e,r,s,l){this.user=e,this.batchId=r,this.state=s,this.error=l}static Es(e,r,s){const l=JSON.parse(s);let d,p="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return p&&l.error&&(p="string"==typeof l.error.message&&"string"==typeof l.error.code,p&&(d=new Ut(l.error.code,l.error.message))),p?new fp(e,r,l.state,d):(Ri("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gc{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let l,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(l=new Ut(s.error.code,s.error.message))),d?new Gc(e,s.state,l):(Ri("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Fh{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let l="object"==typeof s&&s.activeTargetIds instanceof Array,d=Sd();for(let p=0;l&&p<s.activeTargetIds.length;++p)l=gu(s.activeTargetIds[p]),d=d.add(s.activeTargetIds[p]);return l?new Fh(e,d):(Ri("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class eu{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new eu(r.clientId,r.onlineState):(Ri("SharedClientState",`Failed to parse online state: ${e}`),null)}}class pp{constructor(){this.activeTargetIds=Sd()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gp{constructor(e,r,s,l,d){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new mi(H),this.started=!1,this.ys=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ws=Lh(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new pp),this.bs=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Le.c)(function*(){const r=yield e.syncEngine.Li();for(const l of r){if(l===e.Vs)continue;const d=e.getItem(Lh(e.persistenceKey,l));if(d){const p=Fh.Es(l,d);p&&(e.ps=e.ps.insert(p.clientId,p))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const l=e.xs(s);l&&e.Os(l)}for(const l of e.ys)e.gs(l);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,l)=>{l.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,r,s){this.Bs(e,r,s),this.Ls(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(om(this.persistenceKey,e));if(s){const l=Gc.Es(e,s);l&&(r=l.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(om(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(l=>{this.Ls(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Xt("SharedClientState","READ",e,r),r}setItem(e,r){Xt("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Xt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(Xt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void Ri("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,Le.c)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const l=r.$s(s.key);return r.Us(l,null)}{const l=r.Ws(s.key,s.newValue);if(l)return r.Us(l.clientId,l)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const l=r.Gs(s.key,s.newValue);if(l)return r.zs(l)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const l=r.js(s.key,s.newValue);if(l)return r.Hs(l)}}else if(s.key===r.vs){if(null!==s.newValue){const l=r.xs(s.newValue);if(l)return r.Os(l)}}else if(s.key===r.Ss){const l=function(p){let S=Fs._e;if(null!=p)try{const M=JSON.parse(p);$n("number"==typeof M),S=M}catch(M){Ri("SharedClientState","Failed to read sequence number from WebStorage",M)}return S}(s.newValue);l!==Fs._e&&r.sequenceNumberHandler(l)}else if(s.key===r.Fs){const l=r.Js(s.newValue);yield Promise.all(l.map(d=>r.syncEngine.Ys(d)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,r,s){const l=new fp(this.currentUser,e,r,s),d=hp(this.persistenceKey,this.currentUser,e);this.setItem(d,l.ds())}Ls(e){const r=hp(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const l=om(this.persistenceKey,e),d=new Gc(e,r,s);this.setItem(l,d.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return Fh.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),l=Number(s[1]);return fp.Es(new Fr(void 0!==s[2]?s[2]:null),l,r)}js(e,r){const s=this.Cs.exec(e),l=Number(s[1]);return Gc.Es(l,r)}xs(e){return eu.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,Le.c)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);Xt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),l=this.Ns(this.ps),d=this.Ns(s),p=[],S=[];return d.forEach(M=>{l.has(M)||p.push(M)}),l.forEach(M=>{d.has(M)||S.push(M)}),this.syncEngine.eo(p,S).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=Sd();return e.forEach((s,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class m_{constructor(){this.no=new pp,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new pp,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nC{io(e){}shutdown(){}}class Vh{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Xt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Xt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let mp=null;function vp(){return null===mp?mp=268435456+Math.round(2147483648*Math.random()):mp++,"0x"+mp.toString(16)}const v_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class __{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Qo="WebChannelConnection";class y_ extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),d=encodeURIComponent(this.databaseId.database);this.fo=s+"://"+r.host,this.po=`projects/${l}/databases/${d}`,this.yo="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${d}`}get wo(){return!1}So(r,s,l,d,p){const S=vp(),M=this.bo(r,s.toUriEncodedString());Xt("RestConnection",`Sending RPC '${r}' ${S}:`,M,l);const $={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do($,d,p),this.Co(r,M,$,l).then(Q=>(Xt("RestConnection",`Received RPC '${r}' ${S}: `,Q),Q),Q=>{throw Uo("RestConnection",`RPC '${r}' ${S} failed with error: `,Q,"url: ",M,"request:",l),Q})}vo(r,s,l,d,p,S){return this.So(r,s,l,d,p)}Do(r,s,l){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ls,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((d,p)=>r[p]=d),l&&l.headers.forEach((d,p)=>r[p]=d)}bo(r,s){return`${this.fo}/v1/${s}:${v_[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,r,s,l){const d=vp();return new Promise((p,S)=>{const M=new Mf;M.setWithCredentials(!0),M.listenOnce(kl.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case Vo.NO_ERROR:const Q=M.getResponseJson();Xt(Qo,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(Q)),p(Q);break;case Vo.TIMEOUT:Xt(Qo,`RPC '${e}' ${d} timed out`),S(new Ut(At.DEADLINE_EXCEEDED,"Request time out"));break;case Vo.HTTP_ERROR:const ve=M.getStatus();if(Xt(Qo,`RPC '${e}' ${d} failed with status:`,ve,"response text:",M.getResponseText()),ve>0){let Ze=M.getResponseJson();Array.isArray(Ze)&&(Ze=Ze[0]);const lt=null==Ze?void 0:Ze.error;if(lt&&lt.status&&lt.message){const Jt=function(sn){const Mn=sn.toLowerCase().replace(/_/g,"-");return Object.values(At).indexOf(Mn)>=0?Mn:At.UNKNOWN}(lt.status);S(new Ut(Jt,lt.message))}else S(new Ut(At.UNKNOWN,"Server responded with status "+M.getStatus()))}else S(new Ut(At.UNAVAILABLE,"Connection failed."));break;default:Rn()}}finally{Xt(Qo,`RPC '${e}' ${d} completed.`)}});const $=JSON.stringify(l);Xt(Qo,`RPC '${e}' ${d} sending request:`,l),M.send(r,"POST",$,s,15)})}Fo(e,r,s){const l=vp(),d=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=uc(),S=Rf(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},$=this.longPollingOptions.timeoutSeconds;void 0!==$&&(M.longPollingTimeout=Math.round(1e3*$)),this.useFetchStreams&&(M.useFetchStreams=!0),this.Do(M.initMessageHeaders,r,s),M.encodeInitMessageHeaders=!0;const Q=d.join("");Xt(Qo,`Creating RPC '${e}' stream ${l}: ${Q}`,M);const ve=p.createWebChannel(Q,M);let Ze=!1,lt=!1;const Jt=new __({lo:sn=>{lt?Xt(Qo,`Not sending because RPC '${e}' stream ${l} is closed:`,sn):(Ze||(Xt(Qo,`Opening RPC '${e}' stream ${l} transport.`),ve.open(),Ze=!0),Xt(Qo,`RPC '${e}' stream ${l} sending:`,sn),ve.send(sn))},ho:()=>ve.close()}),hn=(sn,Mn,tr)=>{sn.listen(Mn,Qn=>{try{tr(Qn)}catch(Gn){setTimeout(()=>{throw Gn},0)}})};return hn(ve,ts.EventType.OPEN,()=>{lt||Xt(Qo,`RPC '${e}' stream ${l} transport opened.`)}),hn(ve,ts.EventType.CLOSE,()=>{lt||(lt=!0,Xt(Qo,`RPC '${e}' stream ${l} transport closed`),Jt.Vo())}),hn(ve,ts.EventType.ERROR,sn=>{lt||(lt=!0,Uo(Qo,`RPC '${e}' stream ${l} transport errored:`,sn),Jt.Vo(new Ut(At.UNAVAILABLE,"The operation could not be completed")))}),hn(ve,ts.EventType.MESSAGE,sn=>{var Mn;if(!lt){const tr=sn.data[0];$n(!!tr);const Gn=tr.error||(null===(Mn=tr[0])||void 0===Mn?void 0:Mn.error);if(Gn){Xt(Qo,`RPC '${e}' stream ${l} received error:`,Gn);const Vr=Gn.status;let br=function(ng){const rc=vi[ng];if(void 0!==rc)return eo(rc)}(Vr),uo=Gn.message;void 0===br&&(br=At.INTERNAL,uo="Unknown error status: "+Vr+" with message "+Gn.message),lt=!0,Jt.Vo(new Ut(br,uo)),ve.close()}else Xt(Qo,`RPC '${e}' stream ${l} received:`,tr),Jt.mo(tr)}}),hn(S,ad.STAT_EVENT,sn=>{sn.stat===Zs.PROXY?Xt(Qo,`RPC '${e}' stream ${l} detected buffering proxy`):sn.stat===Zs.NOPROXY&&Xt(Qo,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Jt.Ro()},0),Jt}}function Uh(){return typeof window<"u"?window:null}function zu(){return typeof document<"u"?document:null}function Gd(i){return new q0(i,!0)}class Bh{constructor(e,r,s=1e3,l=1.5,d=6e4){this.oi=e,this.timerId=r,this.Mo=s,this.xo=l,this.Oo=d,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const r=Math.floor(this.No+this.Qo()),s=Math.max(0,Date.now()-this.Lo),l=Math.max(0,r-s);l>0&&Xt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.No} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,l,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class $h{constructor(e,r,s,l,d,p,S,M){this.oi=e,this.$o=s,this.Uo=l,this.connection=d,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=S,this.listener=M,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Bh(e,r)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,Le.c)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,Le.c)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,r){var s=this;return(0,Le.c)(function*(){s.n_(),s.r_(),s.jo.cancel(),s.Wo++,4!==e?s.jo.reset():r&&r.code===At.RESOURCE_EXHAUSTED?(Ri(r.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),s.jo.ko()):r&&r.code===At.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.i_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.To(r)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),r=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Wo===r&&this.o_(s,l)},s=>{e(()=>{const l=new Ut(At.UNKNOWN,"Fetching auth token failed: "+s.message);return this.__(l)})})}o_(e,r){const s=this.s_(this.Wo);this.stream=this.a_(e,r),this.stream.Po(()=>{s(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(l=>{s(()=>this.__(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Yo(){var e=this;this.state=5,this.jo.qo((0,Le.c)(function*(){e.state=0,e.start()}))}__(e){return Xt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return r=>{this.oi.enqueueAndForget(()=>this.Wo===e?r():(Xt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class I_ extends $h{constructor(e,r,s,l,d,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,l,p),this.serializer=d}a_(e,r){return this.connection.Fo("Listen",e,r)}onMessage(e){this.jo.reset();const r=function Wf(i,e){let r;if("targetChange"in e){const s="NO_CHANGE"===($=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:Rn(),l=e.targetChange.targetIds||[],d=function($,Q){return $.useProto3Json?($n(void 0===Q||"string"==typeof Q),po.fromBase64String(Q||"")):($n(void 0===Q||Q instanceof Uint8Array),po.fromUint8Array(Q||new Uint8Array))}(i,e.targetChange.resumeToken),p=e.targetChange.cause,S=p&&function($){const Q=void 0===$.code?At.UNKNOWN:eo($.code);return new Ut(Q,$.message||"")}(p);r=new kv(s,l,d,S||null)}else if("documentChange"in e){const s=e.documentChange,l=Qa(i,s.document.name),d=So(s.document.updateTime),p=s.document.createTime?So(s.document.createTime):Ye.min(),S=new so({mapValue:{fields:s.document.fields}}),M=Ii.newFoundDocument(l,d,p,S);r=new Zl(s.targetIds||[],s.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const s=e.documentDelete,l=Qa(i,s.document),d=s.readTime?So(s.readTime):Ye.min(),p=Ii.newNoDocument(l,d);r=new Zl([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,l=Qa(i,s.document);r=new Zl([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Rn();{const s=e.filter,{count:l=0,unchangedNames:d}=s,p=new $i(l,d);r=new Vg(s.targetId,p)}}var $;return r}(this.serializer,e),s=function(d){if(!("targetChange"in d))return Ye.min();const p=d.targetChange;return p.targetIds&&p.targetIds.length?Ye.min():p.readTime?So(p.readTime):Ye.min()}(e);return this.listener.u_(r,s)}c_(e){const r={};r.database=Sh(this.serializer),r.addTarget=function(d,p){let S;const M=p.target;if(S=Cc(M)?{documents:Gg(d,M)}:{query:qf(d,M).ut},S.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){S.resumeToken=aa(d,p.resumeToken);const $=Hf(d,p.expectedCount);null!==$&&(S.expectedCount=$)}else if(p.snapshotVersion.compareTo(Ye.min())>0){S.readTime=Rc(d,p.snapshotVersion.toTimestamp());const $=Hf(d,p.expectedCount);null!==$&&(S.expectedCount=$)}return S}(this.serializer,e);const s=function aI(i,e){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rn()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.t_(r)}l_(e){const r={};r.database=Sh(this.serializer),r.removeTarget=e,this.t_(r)}}class sm extends $h{constructor(e,r,s,l,d,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,l,p),this.serializer=d,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,r){return this.connection.Fo("Write",e,r)}onMessage(e){if($n(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const r=function Gv(i,e){return i&&i.length>0?($n(void 0!==e),i.map(r=>function(l,d){let p=So(l.updateTime?l.updateTime:d);return p.isEqual(Ye.min())&&(p=So(d)),new Lg(p,l.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=So(e.commitTime);return this.listener.T_(s,r)}return $n(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Sh(this.serializer),this.t_(e)}I_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>Pc(this.serializer,s))};this.t_(r)}}class _p extends class{}{constructor(e,r,s,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=l,this.A_=!1}R_(){if(this.A_)throw new Ut(At.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,s,l){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.So(e,_l(r,s),l,d,p)).catch(d=>{throw"FirebaseError"===d.name?(d.code===At.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ut(At.UNKNOWN,d.toString())})}vo(e,r,s,l,d){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,S])=>this.connection.vo(e,_l(r,s),l,p,S,d)).catch(p=>{throw"FirebaseError"===p.name?(p.code===At.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Ut(At.UNKNOWN,p.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class RI{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Ri(r),this.g_=!1):Xt("OnlineStateTracker",r)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class MI{constructor(e,r,s,l,d){var p=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=d,this.M_.io(S=>{s.enqueueAndForget((0,Le.c)(function*(){var M;Xa(p)&&(Xt("RemoteStore","Restarting streams for network reachability change."),yield(M=(0,Le.c)(function*(Q){const ve=vn(Q);ve.v_.add(4),yield jc(ve),ve.x_.set("Unknown"),ve.v_.delete(4),yield Gh(ve)}),function $(Q){return M.apply(this,arguments)})(p))}))}),this.x_=new RI(s,l)}}function Gh(i){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,Le.c)(function*(i){if(Xa(i))for(const e of i.F_)yield e(!0)}),Ip.apply(this,arguments)}function jc(i){return Tr.apply(this,arguments)}function Tr(){return Tr=(0,Le.c)(function*(i){for(const e of i.F_)yield e(!1)}),Tr.apply(this,arguments)}function jh(i,e){const r=vn(i);r.C_.has(e.targetId)||(r.C_.set(e.targetId,e),lm(r)?Ep(r):Wd(r).Jo()&&qu(r,e))}function jd(i,e){const r=vn(i),s=Wd(r);r.C_.delete(e),s.Jo()&&am(r,e),0===r.C_.size&&(s.Jo()?s.Xo():Xa(r)&&r.x_.set("Unknown"))}function qu(i,e){if(i.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Wd(i).c_(e)}function am(i,e){i.O_.Oe(e),Wd(i).l_(e)}function Ep(i){i.O_=new iI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.C_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Wd(i).start(),i.x_.p_()}function lm(i){return Xa(i)&&!Wd(i).Ho()&&i.C_.size>0}function Xa(i){return 0===vn(i).v_.size}function Hc(i){i.O_=void 0}function um(i){return Wc.apply(this,arguments)}function Wc(){return Wc=(0,Le.c)(function*(i){i.C_.forEach((e,r)=>{qu(i,e)})}),Wc.apply(this,arguments)}function E_(i,e){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,Le.c)(function*(i,e){Hc(i),lm(i)?(i.x_.S_(e),Ep(i)):i.x_.set("Unknown")}),Hh.apply(this,arguments)}function cm(i,e,r){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,Le.c)(function*(i,e,r){if(i.x_.set("Online"),e instanceof kv&&2===e.state&&e.cause)try{yield(s=(0,Le.c)(function*(d,p){const S=p.cause;for(const M of p.targetIds)d.C_.has(M)&&(yield d.remoteSyncer.rejectListen(M,S),d.C_.delete(M),d.O_.removeTarget(M))}),function l(d,p){return s.apply(this,arguments)})(i,e)}catch(s){Xt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield zh(i,s)}else if(e instanceof Zl?i.O_.$e(e):e instanceof Vg?i.O_.Je(e):i.O_.Ge(e),!r.isEqual(Ye.min()))try{const s=yield up(i.localStore);r.compareTo(s)>=0&&(yield function(d,p){const S=d.O_.it(p);return S.targetChanges.forEach((M,$)=>{if(M.resumeToken.approximateByteSize()>0){const Q=d.C_.get($);Q&&d.C_.set($,Q.withResumeToken(M.resumeToken,p))}}),S.targetMismatches.forEach((M,$)=>{const Q=d.C_.get(M);if(!Q)return;d.C_.set(M,Q.withResumeToken(po.EMPTY_BYTE_STRING,Q.snapshotVersion)),am(d,M);const ve=new Bu(Q.target,M,$,Q.sequenceNumber);qu(d,ve)}),d.remoteSyncer.applyRemoteEvent(S)}(i,r))}catch(s){Xt("RemoteStore","Failed to raise snapshot:",s),yield zh(i,s)}var s}),Wh.apply(this,arguments)}function zh(i,e,r){return qh.apply(this,arguments)}function qh(){return qh=(0,Le.c)(function*(i,e,r){if(!Vl(e))throw e;i.v_.add(1),yield jc(i),i.x_.set("Offline"),r||(r=()=>up(i.localStore)),i.asyncQueue.enqueueRetryable((0,Le.c)(function*(){Xt("RemoteStore","Retrying IndexedDB access"),yield r(),i.v_.delete(1),yield Gh(i)}))}),qh.apply(this,arguments)}function C_(i,e){return e().catch(r=>zh(i,r,e))}function Hd(i){return dm.apply(this,arguments)}function dm(){return dm=(0,Le.c)(function*(i){const e=vn(i),r=Ku(e);let s=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;D_(e);)try{const l=yield cp(e.localStore,s);if(null===l){0===e.D_.length&&r.Xo();break}s=l.batchId,PI(e,l)}catch(l){yield zh(e,l)}w_(e)&&T_(e)}),dm.apply(this,arguments)}function D_(i){return Xa(i)&&i.D_.length<10}function PI(i,e){i.D_.push(e);const r=Ku(i);r.Jo()&&r.P_&&r.I_(e.mutations)}function w_(i){return Xa(i)&&!Ku(i).Ho()&&i.D_.length>0}function T_(i){Ku(i).start()}function xI(i){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,Le.c)(function*(i){Ku(i).d_()}),Cp.apply(this,arguments)}function b_(i){return hm.apply(this,arguments)}function hm(){return hm=(0,Le.c)(function*(i){const e=Ku(i);for(const r of i.D_)e.I_(r.mutations)}),hm.apply(this,arguments)}function NI(i,e,r){return Is.apply(this,arguments)}function Is(){return Is=(0,Le.c)(function*(i,e,r){const s=i.D_.shift(),l=In.from(s,e,r);yield C_(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Hd(i)}),Is.apply(this,arguments)}function OI(i,e){return fm.apply(this,arguments)}function fm(){return fm=(0,Le.c)(function*(i,e){var r;e&&Ku(i).P_&&(yield(r=(0,Le.c)(function*(l,d){if(vl(S=d.code)&&S!==At.ABORTED){const p=l.D_.shift();Ku(l).Zo(),yield C_(l,()=>l.remoteSyncer.rejectFailedWrite(p.batchId,d)),yield Hd(l)}var S}),function s(l,d){return r.apply(this,arguments)})(i,e)),w_(i)&&T_(i)}),fm.apply(this,arguments)}function kI(i,e){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,Le.c)(function*(i,e){const r=vn(i);r.asyncQueue.verifyOperationInProgress(),Xt("RemoteStore","RemoteStore received new credentials");const s=Xa(r);r.v_.add(3),yield jc(r),s&&r.x_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.v_.delete(3),yield Gh(r)}),Kh.apply(this,arguments)}function Dp(i,e){return pm.apply(this,arguments)}function pm(){return pm=(0,Le.c)(function*(i,e){const r=vn(i);e?(r.v_.delete(2),yield Gh(r)):e||(r.v_.add(2),yield jc(r),r.x_.set("Unknown"))}),pm.apply(this,arguments)}function Wd(i){return i.N_||(i.N_=function(r,s,l){const d=vn(r);return d.R_(),new I_(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,l)}(i.datastore,i.asyncQueue,{Po:um.bind(null,i),To:E_.bind(null,i),u_:cm.bind(null,i)}),i.F_.push(function(){var e=(0,Le.c)(function*(r){r?(i.N_.Zo(),lm(i)?Ep(i):i.x_.set("Unknown")):(yield i.N_.stop(),Hc(i))});return function(r){return e.apply(this,arguments)}}())),i.N_}function Ku(i){return i.B_||(i.B_=function(r,s,l){const d=vn(r);return d.R_(),new sm(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,l)}(i.datastore,i.asyncQueue,{Po:xI.bind(null,i),To:OI.bind(null,i),E_:b_.bind(null,i),T_:NI.bind(null,i)}),i.F_.push(function(){var e=(0,Le.c)(function*(r){r?(i.B_.Zo(),yield Hd(i)):(yield i.B_.stop(),i.D_.length>0&&(Xt("RemoteStore",`Stopping write stream with ${i.D_.length} pending writes`),i.D_=[]))});return function(r){return e.apply(this,arguments)}}())),i.B_}class wp{constructor(e,r,s,l,d){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=l,this.removalCallback=d,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,l,d){const p=Date.now()+s,S=new wp(e,r,p,l,d);return S.start(s),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ut(At.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zd(i,e){if(Ri("AsyncQueue",`${e}: ${i}`),Vl(i))return new Ut(At.UNAVAILABLE,`${e}: ${i}`);throw i}class qd{constructor(e){this.comparator=e?(r,s)=>e(r,s)||ln.comparator(r.key,s.key):(r,s)=>ln.comparator(r.key,s.key),this.keyedMap=zl(),this.sortedSet=new mi(this.comparator)}static emptySet(e){return new qd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof qd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,d=s.getNext().key;if(!l.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new qd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class Tp{constructor(){this.L_=new mi(ln.comparator)}track(e){const r=e.doc.key,s=this.L_.get(r);s?0!==e.type&&3===s.type?this.L_=this.L_.insert(r,e):3===e.type&&1!==s.type?this.L_=this.L_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.L_=this.L_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.L_=this.L_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.L_=this.L_.remove(r):1===e.type&&2===s.type?this.L_=this.L_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.L_=this.L_.insert(r,{type:2,doc:e.doc}):Rn():this.L_=this.L_.insert(r,e)}k_(){const e=[];return this.L_.inorderTraversal((r,s)=>{e.push(s)}),e}}class Kd{constructor(e,r,s,l,d,p,S,M,$){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=d,this.fromCache=p,this.syncStateChanged=S,this.excludesMetadataChanges=M,this.hasCachedResults=$}static fromInitialDocuments(e,r,s,l,d){const p=[];return r.forEach(S=>{p.push({type:0,doc:S})}),new Kd(e,r,qd.emptySet(r),p,s,l,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==s[l].type||!r[l].doc.isEqual(s[l].doc))return!1;return!0}}class LI{constructor(){this.q_=void 0,this.Q_=[]}}class FI{constructor(){this.queries=new qa(e=>wd(e),Dc),this.onlineState="Unknown",this.K_=new Set}}function gm(i,e){return mm.apply(this,arguments)}function mm(){return mm=(0,Le.c)(function*(i,e){const r=vn(i),s=e.query;let l=!1,d=r.queries.get(s);if(d||(l=!0,d=new LI),l)try{d.q_=yield r.onListen(s)}catch(p){const S=zd(p,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(S)}r.queries.set(s,d),d.Q_.push(e),e.U_(r.onlineState),d.q_&&e.W_(d.q_)&&bp(r)}),mm.apply(this,arguments)}function Ra(i,e){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,Le.c)(function*(i,e){const r=vn(i),s=e.query;let l=!1;const d=r.queries.get(s);if(d){const p=d.Q_.indexOf(e);p>=0&&(d.Q_.splice(p,1),l=0===d.Q_.length)}if(l)return r.queries.delete(s),r.onUnlisten(s)}),Yh.apply(this,arguments)}function VI(i,e){const r=vn(i);let s=!1;for(const l of e){const p=r.queries.get(l.query);if(p){for(const S of p.Q_)S.W_(l)&&(s=!0);p.q_=l}}s&&bp(r)}function UI(i,e,r){const s=vn(i),l=s.queries.get(e);if(l)for(const d of l.Q_)d.onError(r);s.queries.delete(e)}function bp(i){i.K_.forEach(e=>{e.next()})}class Ap{constructor(e,r,s){this.query=e,this.G_=r,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=s||{}}W_(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new Kd(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.z_?this.H_(e)&&(this.G_.next(e),r=!0):this.J_(e,this.onlineState)&&(this.Y_(e),r=!0),this.j_=e,r}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let r=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),r=!0),r}J_(e,r){return!e.fromCache||(!this.options.Z_||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=Kd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class Sp{constructor(e,r){this.X_=e,this.byteLength=r}ea(){return"metadata"in this.X_}}class Rp{constructor(e){this.serializer=e}Ps(e){return Qa(this.serializer,e)}Is(e){return e.metadata.exists?$v(this.serializer,e.document,!1):Ii.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return So(e)}}class rC{constructor(e,r,s){this.ta=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=vm(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++r;const s=yn.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ra(e){const r=new Map,s=new Rp(this.serializer);for(const l of e)if(l.metadata.queries){const d=s.Ps(l.metadata.name);for(const p of l.metadata.queries){const S=(r.get(p)||hr()).add(d);r.set(p,S)}}return r}complete(){var e=this;return(0,Le.c)(function*(){const r=yield function AI(i,e,r,s){return im.apply(this,arguments)}(e.localStore,new Rp(e.serializer),e.documents,e.ta.id),s=e.ra(e.documents);for(const l of e.queries)yield g_(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,ia:e.collectionGroups,sa:r}})()}}function vm(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class _m{constructor(e){this.key=e}}class ym{constructor(e){this.key=e}}class Qh{constructor(e,r){this.query=e,this.oa=r,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=hr(),this.mutatedKeys=hr(),this.ua=wc(e),this.ca=new qd(this.ua)}get la(){return this.oa}ha(e,r){const s=r?r.Pa:new Tp,l=r?r.ca:this.ca;let d=r?r.mutatedKeys:this.mutatedKeys,p=l,S=!1;const M="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,$="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((Q,ve)=>{const Ze=l.get(Q),lt=za(this.query,ve)?ve:null,Jt=!!Ze&&this.mutatedKeys.has(Ze.key),hn=!!lt&&(lt.hasLocalMutations||this.mutatedKeys.has(lt.key)&&lt.hasCommittedMutations);let sn=!1;Ze&&lt?Ze.data.isEqual(lt.data)?Jt!==hn&&(s.track({type:3,doc:lt}),sn=!0):this.Ia(Ze,lt)||(s.track({type:2,doc:lt}),sn=!0,(M&&this.ua(lt,M)>0||$&&this.ua(lt,$)<0)&&(S=!0)):!Ze&&lt?(s.track({type:0,doc:lt}),sn=!0):Ze&&!lt&&(s.track({type:1,doc:Ze}),sn=!0,(M||$)&&(S=!0)),sn&&(lt?(p=p.add(lt),d=hn?d.add(Q):d.delete(Q)):(p=p.delete(Q),d=d.delete(Q)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const Q="F"===this.query.limitType?p.last():p.first();p=p.delete(Q.key),d=d.delete(Q.key),s.track({type:1,doc:Q})}return{ca:p,Pa:s,Xi:S,mutatedKeys:d}}Ia(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,l){const d=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const p=e.Pa.k_();p.sort((Q,ve)=>function(lt,Jt){const hn=sn=>{switch(sn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rn()}};return hn(lt)-hn(Jt)}(Q.type,ve.type)||this.ua(Q.doc,ve.doc)),this.Ta(s),l=null!=l&&l;const S=r&&!l?this.Ea():[],M=0===this.aa.size&&this.current&&!l?1:0,$=M!==this._a;return this._a=M,0!==p.length||$?{snapshot:new Kd(this.query,e.ca,d,p,e.mutatedKeys,0===M,$,!1,!!s&&s.resumeToken.approximateByteSize()>0),da:S}:{da:S}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Tp,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(r=>this.oa=this.oa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.oa=this.oa.delete(r)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=hr(),this.ca.forEach(s=>{this.Aa(s.key)&&(this.aa=this.aa.add(s.key))});const r=[];return e.forEach(s=>{this.aa.has(s)||r.push(new ym(s))}),this.aa.forEach(s=>{e.has(s)||r.push(new _m(s))}),r}Ra(e){this.oa=e.hs,this.aa=hr();const r=this.ha(e.documents);return this.applyChanges(r,!0)}Va(){return Kd.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class Im{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class tu{constructor(e){this.key=e,this.ma=!1}}class BI{constructor(e,r,s,l,d,p){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=l,this.currentUser=d,this.maxConcurrentLimboResolutions=p,this.fa={},this.ga=new qa(S=>wd(S),Dc),this.pa=new Map,this.ya=new Set,this.wa=new mi(ln.comparator),this.Sa=new Map,this.ba=new u_,this.Da={},this.Ca=new Map,this.va=Fc.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function $I(i,e){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,Le.c)(function*(i,e){const r=x_(i);let s,l;const d=r.ga.get(e);if(d)s=d.targetId,r.sharedClientState.addLocalQueryTarget(s),l=d.view.Va();else{const p=yield Bc(r.localStore,rs(e)),S=r.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,l=yield Em(r,e,s,"current"===S,p.resumeToken),r.isPrimaryClient&&jh(r.remoteStore,p)}return l}),Xh.apply(this,arguments)}function Em(i,e,r,s,l){return zc.apply(this,arguments)}function zc(){return zc=(0,Le.c)(function*(i,e,r,s,l){i.Ma=(ve,Ze,lt)=>{return(Jt=(0,Le.c)(function*(sn,Mn,tr,Qn){let Gn=Mn.view.ha(tr);Gn.Xi&&(Gn=yield dp(sn.localStore,Mn.query,!1).then(({documents:Rs})=>Mn.view.ha(Rs,Gn)));const Vr=Qn&&Qn.targetChanges.get(Mn.targetId),br=Qn&&null!=Qn.targetMismatches.get(Mn.targetId),uo=Mn.view.applyChanges(Gn,sn.isPrimaryClient,Vr,br);return M_(sn,Mn.targetId,uo.da),uo.snapshot}),function hn(sn,Mn,tr,Qn){return Jt.apply(this,arguments)})(i,ve,Ze,lt);var Jt};const d=yield dp(i.localStore,e,!0),p=new Qh(e,d.hs),S=p.ha(d.documents),M=Ya.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==i.onlineState,l),$=p.applyChanges(S,i.isPrimaryClient,M);M_(i,r,$.da);const Q=new Im(e,r,p);return i.ga.set(e,Q),i.pa.has(r)?i.pa.get(r).push(e):i.pa.set(r,[e]),$.snapshot}),zc.apply(this,arguments)}function A_(i,e){return Yu.apply(this,arguments)}function Yu(){return Yu=(0,Le.c)(function*(i,e){const r=vn(i),s=r.ga.get(e),l=r.pa.get(s.targetId);if(l.length>1)return r.pa.set(s.targetId,l.filter(d=>!Dc(d,e))),void r.ga.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Wu(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),jd(r.remoteStore,s.targetId),nu(r,s.targetId)}).catch(La))):(nu(r,s.targetId),yield Wu(r.localStore,s.targetId,!0))}),Yu.apply(this,arguments)}function Jh(){return Jh=(0,Le.c)(function*(i,e,r){const s=Nm(i);try{const l=yield function(p,S){const M=vn(p),$=xt.now(),Q=S.reduce((lt,Jt)=>lt.add(Jt.key),hr());let ve,Ze;return M.persistence.runTransaction("Locally write mutations","readwrite",lt=>{let Jt=is(),hn=hr();return M.os.getEntries(lt,Q).next(sn=>{Jt=sn,Jt.forEach((Mn,tr)=>{tr.isValidDocument()||(hn=hn.add(Mn))})}).next(()=>M.localDocuments.getOverlayedDocuments(lt,Jt)).next(sn=>{ve=sn;const Mn=[];for(const tr of S){const Qn=wh(tr,ve.get(tr.key).overlayedDocument);null!=Qn&&Mn.push(new g(tr.key,Qn,bu(Qn.value.mapValue),Fi.exists(!0)))}return M.mutationQueue.addMutationBatch(lt,$,Mn,S)}).next(sn=>{Ze=sn;const Mn=sn.applyToLocalDocumentSet(ve,hn);return M.documentOverlayCache.saveOverlays(lt,sn.batchId,Mn)})}).then(()=>({batchId:Ze.batchId,changes:xu(ve)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(p,S,M){let $=p.Da[p.currentUser.toKey()];$||($=new mi(H)),$=$.insert(S,M),p.Da[p.currentUser.toKey()]=$}(s,l.batchId,r),yield El(s,l.changes),yield Hd(s.remoteStore)}catch(l){const d=zd(l,"Failed to persist write");r.reject(d)}}),Jh.apply(this,arguments)}function Yd(i,e){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,Le.c)(function*(i,e){const r=vn(i);try{const s=yield function bI(i,e){const r=vn(i),s=e.snapshotVersion;let l=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const p=r.os.newChangeBuffer({trackRemovals:!0});l=r.ns;const S=[];e.targetChanges.forEach((Q,ve)=>{const Ze=l.get(ve);if(!Ze)return;S.push(r.Qr.removeMatchingKeys(d,Q.removedDocuments,ve).next(()=>r.Qr.addMatchingKeys(d,Q.addedDocuments,ve)));let lt=Ze.withSequenceNumber(d.currentSequenceNumber);var hn,sn,Mn;null!==e.targetMismatches.get(ve)?lt=lt.withResumeToken(po.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):Q.resumeToken.approximateByteSize()>0&&(lt=lt.withResumeToken(Q.resumeToken,s)),l=l.insert(ve,lt),sn=lt,Mn=Q,(0===(hn=Ze).resumeToken.approximateByteSize()||sn.snapshotVersion.toMicroseconds()-hn.snapshotVersion.toMicroseconds()>=3e8||Mn.addedDocuments.size+Mn.modifiedDocuments.size+Mn.removedDocuments.size>0)&&S.push(r.Qr.updateTargetData(d,lt))});let M=is(),$=hr();if(e.documentUpdates.forEach(Q=>{e.resolvedLimboDocuments.has(Q)&&S.push(r.persistence.referenceDelegate.updateLimboDocument(d,Q))}),S.push(Uc(d,p,e.documentUpdates).next(Q=>{M=Q.cs,$=Q.ls})),!s.isEqual(Ye.min())){const Q=r.Qr.getLastRemoteSnapshotVersion(d).next(ve=>r.Qr.setTargetsMetadata(d,d.currentSequenceNumber,s));S.push(Q)}return tt.waitFor(S).next(()=>p.apply(d)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,M,$)).next(()=>M)}).then(d=>(r.ns=l,d))}(r.localStore,e);e.targetChanges.forEach((l,d)=>{const p=r.Sa.get(d);p&&($n(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?p.ma=!0:l.modifiedDocuments.size>0?$n(p.ma):l.removedDocuments.size>0&&($n(p.ma),p.ma=!1))}),yield El(r,s,e)}catch(s){yield La(s)}}),Mp.apply(this,arguments)}function Cm(i,e,r){const s=vn(i);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const l=[];s.ga.forEach((d,p)=>{const S=p.view.U_(e);S.snapshot&&l.push(S.snapshot)}),function(p,S){const M=vn(p);M.onlineState=S;let $=!1;M.queries.forEach((Q,ve)=>{for(const Ze of ve.Q_)Ze.U_(S)&&($=!0)}),$&&bp(M)}(s.eventManager,e),l.length&&s.fa.u_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function GI(i,e,r){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,Le.c)(function*(i,e,r){const s=vn(i);s.sharedClientState.updateQueryState(e,"rejected",r);const l=s.Sa.get(e),d=l&&l.key;if(d){let p=new mi(ln.comparator);p=p.insert(d,Ii.newNoDocument(d,Ye.min()));const S=hr().add(d),M=new Fu(Ye.min(),new Map,new mi(H),p,S);yield Yd(s,M),s.wa=s.wa.remove(d),s.Sa.delete(e),bm(s)}else yield Wu(s.localStore,e,!1).then(()=>nu(s,e,r)).catch(La)}),Dm.apply(this,arguments)}function jI(i,e){return wm.apply(this,arguments)}function wm(){return wm=(0,Le.c)(function*(i,e){const r=vn(i),s=e.batch.batchId;try{const l=yield function nm(i,e){const r=vn(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),d=r.os.newChangeBuffer({trackRemovals:!0});return function(S,M,$,Q){const ve=$.batch,Ze=ve.keys();let lt=tt.resolve();return Ze.forEach(Jt=>{lt=lt.next(()=>Q.getEntry(M,Jt)).next(hn=>{const sn=$.docVersions.get(Jt);$n(null!==sn),hn.version.compareTo(sn)<0&&(ve.applyToRemoteDocument(hn,$),hn.isValidDocument()&&(hn.setReadTime($.commitVersion),Q.addEntry(hn)))})}),lt.next(()=>S.mutationQueue.removeMutationBatch(M,ve))}(r,s,e,d).next(()=>d.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(S){let M=hr();for(let $=0;$<S.mutationResults.length;++$)S.mutationResults[$].transformResults.length>0&&(M=M.add(S.batch.mutations[$].key));return M}(e))).next(()=>r.localDocuments.getDocuments(s,l))})}(r.localStore,e);Np(r,s,null),xp(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield El(r,l)}catch(l){yield La(l)}}),wm.apply(this,arguments)}function HI(i,e,r){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,Le.c)(function*(i,e,r){const s=vn(i);try{const l=yield function(p,S){const M=vn(p);return M.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let Q;return M.mutationQueue.lookupMutationBatch($,S).next(ve=>($n(null!==ve),Q=ve.keys(),M.mutationQueue.removeMutationBatch($,ve))).next(()=>M.mutationQueue.performConsistencyCheck($)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId($,Q,S)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,Q)).next(()=>M.localDocuments.getDocuments($,Q))})}(s.localStore,e);Np(s,e,r),xp(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield El(s,l)}catch(l){yield La(l)}}),Tm.apply(this,arguments)}function Pp(){return Pp=(0,Le.c)(function*(i,e){const r=vn(i);Xa(r.remoteStore)||Xt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(p){const S=vn(p);return S.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>S.mutationQueue.getHighestUnacknowledgedBatchId(M))}(r.localStore);if(-1===s)return void e.resolve();const l=r.Ca.get(s)||[];l.push(e),r.Ca.set(s,l)}catch(s){const l=zd(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Pp.apply(this,arguments)}function xp(i,e){(i.Ca.get(e)||[]).forEach(r=>{r.resolve()}),i.Ca.delete(e)}function Np(i,e,r){const s=vn(i);let l=s.Da[s.currentUser.toKey()];if(l){const d=l.get(e);d&&(r?d.reject(r):d.resolve(),l=l.remove(e)),s.Da[s.currentUser.toKey()]=l}}function nu(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.pa.get(e))i.ga.delete(s),r&&i.fa.xa(s,r);i.pa.delete(e),i.isPrimaryClient&&i.ba.Vr(e).forEach(s=>{i.ba.containsKey(s)||R_(i,s)})}function R_(i,e){i.ya.delete(e.path.canonicalString());const r=i.wa.get(e);null!==r&&(jd(i.remoteStore,r),i.wa=i.wa.remove(e),i.Sa.delete(r),bm(i))}function M_(i,e,r){for(const s of r)s instanceof _m?(i.ba.addReference(s.key,e),WI(i,s)):s instanceof ym?(Xt("SyncEngine","Document no longer in limbo: "+s.key),i.ba.removeReference(s.key,e),i.ba.containsKey(s.key)||R_(i,s.key)):Rn()}function WI(i,e){const r=e.key,s=r.path.canonicalString();i.wa.get(r)||i.ya.has(s)||(Xt("SyncEngine","New document in limbo: "+r),i.ya.add(s),bm(i))}function bm(i){for(;i.ya.size>0&&i.wa.size<i.maxConcurrentLimboResolutions;){const e=i.ya.values().next().value;i.ya.delete(e);const r=new ln(yn.fromString(e)),s=i.va.next();i.Sa.set(s,new tu(r)),i.wa=i.wa.insert(r,s),jh(i.remoteStore,new Bu(rs(Wl(r.path)),s,"TargetPurposeLimboResolution",Fs._e))}}function El(i,e,r){return Am.apply(this,arguments)}function Am(){return Am=(0,Le.c)(function*(i,e,r){const s=vn(i),l=[],d=[],p=[];var S;s.ga.isEmpty()||(s.ga.forEach((S,M)=>{p.push(s.Ma(M,e,r).then($=>{if(($||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(M.targetId,null!=$&&$.fromCache?"not-current":"current"),$){l.push($);const Q=em.Ki(M.targetId,$);d.push(Q)}}))}),yield Promise.all(p),s.fa.u_(l),yield(S=(0,Le.c)(function*($,Q){const ve=vn($);try{yield ve.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ze=>tt.forEach(Q,lt=>tt.forEach(lt.qi,Jt=>ve.persistence.referenceDelegate.addReference(Ze,lt.targetId,Jt)).next(()=>tt.forEach(lt.Qi,Jt=>ve.persistence.referenceDelegate.removeReference(Ze,lt.targetId,Jt)))))}catch(Ze){if(!Vl(Ze))throw Ze;Xt("LocalStore","Failed to update sequence numbers: "+Ze)}for(const Ze of Q){const lt=Ze.targetId;if(!Ze.fromCache){const Jt=ve.ns.get(lt),sn=Jt.withLastLimboFreeSnapshotVersion(Jt.snapshotVersion);ve.ns=ve.ns.insert(lt,sn)}}}),function M($,Q){return S.apply(this,arguments)})(s.localStore,d))}),Am.apply(this,arguments)}function zI(i,e){return Op.apply(this,arguments)}function Op(){return Op=(0,Le.c)(function*(i,e){const r=vn(i);if(!r.currentUser.isEqual(e)){Xt("SyncEngine","User change. New user:",e.toKey());const s=yield TI(r.localStore,e);r.currentUser=e,(d=r).Ca.forEach(S=>{S.forEach(M=>{M.reject(new Ut(At.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.Ca.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield El(r,s.us)}var d}),Op.apply(this,arguments)}function Sm(i,e){const r=vn(i),s=r.Sa.get(e);if(s&&s.ma)return hr().add(s.key);{let l=hr();const d=r.pa.get(e);if(!d)return l;for(const p of d){const S=r.ga.get(p);l=l.unionWith(S.view.la)}return l}}function P_(i,e){return qc.apply(this,arguments)}function qc(){return qc=(0,Le.c)(function*(i,e){const r=vn(i),s=yield dp(r.localStore,e.query,!0),l=e.view.Ra(s);return r.isPrimaryClient&&M_(r,e.targetId,l.da),l}),qc.apply(this,arguments)}function ef(i,e){return Kc.apply(this,arguments)}function Kc(){return Kc=(0,Le.c)(function*(i,e){const r=vn(i);return rm(r.localStore,e).then(s=>El(r,s))}),Kc.apply(this,arguments)}function qI(i,e,r,s){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,Le.c)(function*(i,e,r,s){const l=vn(i),d=yield function(S,M){const $=vn(S),Q=vn($.mutationQueue);return $.persistence.runTransaction("Lookup mutation documents","readonly",ve=>Q.vn(ve,M).next(Ze=>Ze?$.localDocuments.getDocuments(ve,Ze):tt.resolve(null)))}(l.localStore,e);var M;null!==d?("pending"===r?yield Hd(l.remoteStore):"acknowledged"===r||"rejected"===r?(Np(l,e,s||null),xp(l,e),M=e,vn(vn(l.localStore).mutationQueue).Mn(M)):Rn(),yield El(l,d)):Xt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Rm.apply(this,arguments)}function Qd(){return Qd=(0,Le.c)(function*(i,e){const r=vn(i);if(x_(r),Nm(r),!0===e&&!0!==r.Fa){const s=r.sharedClientState.getAllActiveQueryTargets(),l=yield kp(r,s.toArray());r.Fa=!0,yield Dp(r.remoteStore,!0);for(const d of l)jh(r.remoteStore,d)}else if(!1===e&&!1!==r.Fa){const s=[];let l=Promise.resolve();r.pa.forEach((d,p)=>{r.sharedClientState.isLocalQueryTarget(p)?s.push(p):l=l.then(()=>(nu(r,p),Wu(r.localStore,p,!0))),jd(r.remoteStore,p)}),yield l,yield kp(r,s),function(p){const S=vn(p);S.Sa.forEach((M,$)=>{jd(S.remoteStore,$)}),S.ba.mr(),S.Sa=new Map,S.wa=new mi(ln.comparator)}(r),r.Fa=!1,yield Dp(r.remoteStore,!1)}}),Qd.apply(this,arguments)}function kp(i,e,r){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,Le.c)(function*(i,e,r){const s=vn(i),l=[],d=[];for(const p of e){let S;const M=s.pa.get(p);if(M&&0!==M.length){S=yield Bc(s.localStore,rs(M[0]));for(const $ of M){const Q=s.ga.get($),ve=yield P_(s,Q);ve.snapshot&&d.push(ve.snapshot)}}else{const $=yield f_(s.localStore,p);S=yield Bc(s.localStore,$),yield Em(s,YI($),p,!1,S.resumeToken)}l.push(S)}return s.fa.u_(d),l}),Mm.apply(this,arguments)}function YI(i){return Ji(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function iC(i){return r=vn(i).localStore,vn(vn(r).persistence).Li();var r}function QI(i,e,r,s){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,Le.c)(function*(i,e,r,s){const l=vn(i);if(l.Fa)return void Xt("SyncEngine","Ignoring unexpected query state notification.");const d=l.pa.get(e);if(d&&d.length>0)switch(r){case"current":case"not-current":{const p=yield rm(l.localStore,Ch(d[0])),S=Fu.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,po.EMPTY_BYTE_STRING);yield El(l,p,S);break}case"rejected":yield Wu(l.localStore,e,!0),nu(l,e,s);break;default:Rn()}}),Pm.apply(this,arguments)}function oC(i,e,r){return xm.apply(this,arguments)}function xm(){return xm=(0,Le.c)(function*(i,e,r){const s=x_(i);if(s.Fa){for(const l of e){if(s.pa.has(l)){Xt("SyncEngine","Adding an already active target "+l);continue}const d=yield f_(s.localStore,l),p=yield Bc(s.localStore,d);yield Em(s,YI(d),p.targetId,!1,p.resumeToken),jh(s.remoteStore,p)}for(const l of r)s.pa.has(l)&&(yield Wu(s.localStore,l,!1).then(()=>{jd(s.remoteStore,l),nu(s,l)}).catch(La))}}),xm.apply(this,arguments)}function x_(i){const e=vn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GI.bind(null,e),e.fa.u_=VI.bind(null,e.eventManager),e.fa.xa=UI.bind(null,e.eventManager),e}function Nm(i){const e=vn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HI.bind(null,e),e}class Xd{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,Le.c)(function*(){r.serializer=Gd(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return tm(this.persistence,new wI,e.initialUser,this.serializer)}createPersistence(e){return new Nh(Oh.Hr,this.serializer)}createSharedClientState(e){return new m_}terminate(){var e=this;return(0,Le.c)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Yc extends Xd{constructor(e,r,s){super(),this.Na=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,Le.c)(function*(){yield r().call(s,e),yield s.Na.initialize(s,e),yield Nm(s.Na.syncEngine),yield Hd(s.Na.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return tm(this.persistence,new wI,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new Qg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new dd(r,this.persistence);return new vs(e.asyncQueue,s)}createPersistence(e){const r=d_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ys.withCacheSize(this.cacheSizeBytes):ys.DEFAULT;return new bs(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,Uh(),zu(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new m_}}class Lp extends Yc{constructor(e,r){super(e,r,!1),this.Na=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,Le.c)(function*(){yield r().call(s,e);const l=s.Na.syncEngine;s.sharedClientState instanceof gp&&(s.sharedClientState.syncEngine={Zs:qI.bind(null,l),Xs:QI.bind(null,l),eo:oC.bind(null,l),Li:iC.bind(null,l),Ys:ef.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var d=(0,Le.c)(function*(p){yield function KI(i,e){return Qd.apply(this,arguments)}(s.Na.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start():p||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(p&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():p||s.indexBackfillerScheduler.stop())});return function(p){return d.apply(this,arguments)}}())})()}createSharedClientState(e){const r=Uh();if(!gp.D(r))throw new Ut(At.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=d_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gp(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class ru{initialize(e,r){var s=this;return(0,Le.c)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>Cm(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=zI.bind(null,s.syncEngine),yield Dp(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new FI}createDatastore(e){const r=Gd(e.databaseInfo.databaseId),s=new y_(e.databaseInfo);return new _p(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,l=this.datastore,d=e.asyncQueue,p=r=>Cm(this.syncEngine,r,0),S=Vh.D()?new Vh:new nC,new MI(s,l,d,p,S);var s,l,d,p,S}createSyncEngine(e,r){return function(l,d,p,S,M,$,Q){const ve=new BI(l,d,p,S,M,$);return Q&&(ve.Fa=!0),ve}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,Le.c)(function*(){var r,s;yield(s=(0,Le.c)(function*(d){const p=vn(d);Xt("RemoteStore","RemoteStore shutting down."),p.v_.add(5),yield jc(p),p.M_.shutdown(),p.x_.set("Unknown")}),function l(d){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function km(i,e=10240){let r=0;return{read:()=>(0,Le.c)(function*(){if(r<i.byteLength){const s={value:i.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,Le.c)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Qu{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class N_{constructor(e,r){this.ka=e,this.serializer=r,this.metadata=new Ir,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then(s=>{s&&s.ea()?this.metadata.resolve(s.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.X_)}`))},s=>this.metadata.reject(s))}close(){return this.ka.cancel()}getMetadata(){var e=this;return(0,Le.c)(function*(){return e.metadata.promise})()}Oa(){var e=this;return(0,Le.c)(function*(){return yield e.getMetadata(),e.Qa()})()}Qa(){var e=this;return(0,Le.c)(function*(){const r=yield e.Ka();if(null===r)return null;const s=e.qa.decode(r),l=Number(s);isNaN(l)&&e.$a(`length string (${s}) is not valid number`);const d=yield e.Ua(l);return new Sp(JSON.parse(d),r.length+l)})()}Wa(){return this.buffer.findIndex(e=>123===e)}Ka(){var e=this;return(0,Le.c)(function*(){for(;e.Wa()<0&&!(yield e.Ga()););if(0===e.buffer.length)return null;const r=e.Wa();r<0&&e.$a("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ua(e){var r=this;return(0,Le.c)(function*(){for(;r.buffer.length<e;)(yield r.Ga())&&r.$a("Reached the end of bundle when more is expected.");const s=r.qa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ga(){var e=this;return(0,Le.c)(function*(){const r=yield e.ka.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class ZI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,Le.c)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new Ut(At.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(l=(0,Le.c)(function*(p,S){const M=vn(p),$={documents:S.map(lt=>Vu(M.serializer,lt))},Q=yield M.vo("BatchGetDocuments",M.serializer.databaseId,yn.emptyPath(),$,S.length),ve=new Map;Q.forEach(lt=>{const Jt=function K0(i,e){return"found"in e?function(s,l){$n(!!l.found);const d=Qa(s,l.found.name),p=So(l.found.updateTime),S=l.found.createTime?So(l.found.createTime):Ye.min(),M=new so({mapValue:{fields:l.found.fields}});return Ii.newFoundDocument(d,p,S,M)}(i,e):"missing"in e?function(s,l){$n(!!l.missing),$n(!!l.readTime);const d=Qa(s,l.missing),p=So(l.readTime);return Ii.newNoDocument(d,p)}(i,e):Rn()}(M.serializer,lt);ve.set(Jt.key.toString(),Jt)});const Ze=[];return S.forEach(lt=>{const Jt=ve.get(lt.toString());$n(!!Jt),Ze.push(Jt)}),Ze}),function d(p,S){return l.apply(this,arguments)})(r.datastore,e);var l;return s.forEach(l=>r.recordVersion(l)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ge(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Le.c)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,l)=>{const d=ln.fromPath(l);e.mutations.push(new mt(d,e.precondition(d)))}),yield(s=(0,Le.c)(function*(d,p){const S=vn(d),M={writes:p.map($=>Pc(S.serializer,$))};yield S.So("Commit",S.serializer.databaseId,yn.emptyPath(),M)}),function l(d,p){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Rn();r=Ye.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new Ut(At.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Ye.min())?Fi.exists(!1):Fi.updateTime(r):Fi.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Ye.min()))throw new Ut(At.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fi.updateTime(r)}return Fi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class tf{constructor(e,r,s,l,d){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=l,this.deferred=d,this.za=s.maxAttempts,this.jo=new Bh(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){var e=this;this.jo.qo((0,Le.c)(function*(){const r=new ZI(e.datastore),s=e.Ja(r);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(l)}).catch(d=>{e.Ya(d)}))}).catch(l=>{e.Ya(l)})}))}Ja(e){try{const r=this.updateFunction(e);return!pu(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ha(),Promise.resolve()))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!vl(r)}return!1}}class O_{constructor(e,r,s,l){var d=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=l,this.user=Fr.UNAUTHENTICATED,this.clientId=N.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var p=(0,Le.c)(function*(S){Xt("FirestoreClient","Received user=",S.uid),yield d.authCredentialListener(S),d.user=S});return function(S){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(s,p=>(Xt("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ut(At.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Le.c)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const l=zd(s,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function Fp(i,e){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,Le.c)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Xt("FirestoreClient","Initializing OfflineComponentProvider");const r=i.configuration;yield e.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(function(){var l=(0,Le.c)(function*(d){s.isEqual(d)||(yield TI(e.localStore,d),s=d)});return function(d){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Vp.apply(this,arguments)}function Zd(i,e){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,Le.c)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const r=yield Fm(i);Xt("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,i.configuration),i.setCredentialChangeListener(s=>kI(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,l)=>kI(e.remoteStore,l)),i._onlineComponents=e}),Lm.apply(this,arguments)}function k_(i){return"FirebaseError"===i.name?i.code===At.FAILED_PRECONDITION||i.code===At.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function Fm(i){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,Le.c)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Xt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Fp(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!k_(r))throw r;Uo("Error using user provided cache. Falling back to memory cache: "+r),yield Fp(i,new Xd)}}else Xt("FirestoreClient","Using default OfflineComponentProvider"),yield Fp(i,new Xd);return i._offlineComponents}),Vm.apply(this,arguments)}function Up(i){return nf.apply(this,arguments)}function nf(){return nf=(0,Le.c)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Xt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Zd(i,i._uninitializedComponentsProvider._online)):(Xt("FirestoreClient","Using default OnlineComponentProvider"),yield Zd(i,new ru))),i._onlineComponents}),nf.apply(this,arguments)}function Jd(i){return Fm(i).then(e=>e.persistence)}function iu(i){return Fm(i).then(e=>e.localStore)}function rf(i){return Up(i).then(e=>e.remoteStore)}function L_(i){return Up(i).then(e=>e.syncEngine)}function eh(i){return sf.apply(this,arguments)}function sf(){return sf=(0,Le.c)(function*(i){const e=yield Up(i),r=e.eventManager;return r.onListen=$I.bind(null,e.syncEngine),r.onUnlisten=A_.bind(null,e.syncEngine),r}),sf.apply(this,arguments)}function U_(i,e,r={}){const s=new Ir;return i.asyncQueue.enqueueAndForget((0,Le.c)(function*(){return function(d,p,S,M,$){const Q=new Qu({next:Ze=>{p.enqueueAndForget(()=>Ra(d,ve));const lt=Ze.docs.has(S);!lt&&Ze.fromCache?$.reject(new Ut(At.UNAVAILABLE,"Failed to get document because the client is offline.")):lt&&Ze.fromCache&&M&&"server"===M.source?$.reject(new Ut(At.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):$.resolve(Ze)},error:Ze=>$.reject(Ze)}),ve=new Ap(Wl(S.path),Q,{includeMetadataChanges:!0,Z_:!0});return gm(d,ve)}(yield eh(i),i.asyncQueue,e,r,s)})),s.promise}function $_(i,e,r={}){const s=new Ir;return i.asyncQueue.enqueueAndForget((0,Le.c)(function*(){return function(d,p,S,M,$){const Q=new Qu({next:Ze=>{p.enqueueAndForget(()=>Ra(d,ve)),Ze.fromCache&&"server"===M.source?$.reject(new Ut(At.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(Ze)},error:Ze=>$.reject(Ze)}),ve=new Ap(S,Q,{includeMetadataChanges:!0,Z_:!0});return gm(d,ve)}(yield eh(i),i.asyncQueue,e,r,s)})),s.promise}function Um(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const iE=new Map;function Bm(i,e,r){if(!r)throw new Ut(At.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function af(i,e,r,s){if(!0===e&&!0===s)throw new Ut(At.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function $m(i){if(!ln.isDocumentKey(i))throw new Ut(At.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function H_(i){if(ln.isDocumentKey(i))throw new Ut(At.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Bp(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(s=i).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof i?"a function":Rn()}function ii(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ut(At.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Bp(i);throw new Ut(At.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function $p(i,e){if(e<=0)throw new Ut(At.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Gm{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Ut(At.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ut(At.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}af("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Um(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(d){if(void 0!==d.timeoutSeconds){if(isNaN(d.timeoutSeconds))throw new Ut(At.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new Ut(At.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new Ut(At.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gp{constructor(e,r,s,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ut(At.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ut(At.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gm(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new dc;switch(s.type){case"firstParty":return new Pf(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ut(At.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=iE.get(r);s&&(Xt("ComponentProvider","Removing Datastore"),iE.delete(r),s.terminate())}(this),Promise.resolve()}}class Es{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Es(this.firestore,e,this._query)}}class Ki{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ki(this.firestore,e,this._key)}}class Cl extends Es{constructor(e,r,s){super(e,r,Wl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ki(this.firestore,null,new ln(e))}withConverter(e){return new Cl(this.firestore,e,this._path)}}function jm(i,e,...r){if(i=(0,qt.Yj)(i),Bm("collection","path",e),i instanceof Gp){const s=yn.fromString(e,...r);return H_(s),new Cl(i,null,s)}{if(!(i instanceof Ki||i instanceof Cl))throw new Ut(At.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(yn.fromString(e,...r));return H_(s),new Cl(i.firestore,null,s)}}function Hm(i,e,...r){if(i=(0,qt.Yj)(i),1===arguments.length&&(e=N.newId()),Bm("doc","path",e),i instanceof Gp){const s=yn.fromString(e,...r);return $m(s),new Ki(i,null,new ln(s))}{if(!(i instanceof Ki||i instanceof Cl))throw new Ut(At.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(yn.fromString(e,...r));return $m(s),new Ki(i.firestore,i instanceof Cl?i.converter:null,new ln(s))}}function lf(i,e){return i=(0,qt.Yj)(i),e=(0,qt.Yj)(e),(i instanceof Ki||i instanceof Cl)&&(e instanceof Ki||e instanceof Cl)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Wm(i,e){return i=(0,qt.Yj)(i),e=(0,qt.Yj)(e),i instanceof Es&&e instanceof Es&&i.firestore===e.firestore&&Dc(i._query,e._query)&&i.converter===e.converter}class aE{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Bh(this,"async_queue_retry"),this._u=()=>{const r=zu();r&&Xt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.jo.Ko()};const e=zu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const r=zu();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const r=new Ir;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){var e=this;return(0,Le.c)(function*(){if(0!==e.eu.length){try{yield e.eu[0](),e.eu.shift(),e.jo.reset()}catch(r){if(!Vl(r))throw r;Xt("AsyncQueue","Operation failed with retryable error: "+r)}e.eu.length>0&&e.jo.qo(()=>e.cu())}})()}uu(e){const r=this.Xa.then(()=>(this.iu=!0,e().catch(s=>{throw this.ru=s,this.iu=!1,Ri("INTERNAL UNHANDLED ERROR: ",function(p){let S=p.message||"";return p.stack&&(S=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),S}(s)),s}).then(s=>(this.iu=!1,s))));return this.Xa=r,r}enqueueAfterDelay(e,r,s){this.au(),this.ou.indexOf(e)>-1&&(r=0);const l=wp.createAndSchedule(this,e,r,s,d=>this.lu(d));return this.nu.push(l),l}au(){this.ru&&Rn()}verifyOperationInProgress(){}hu(){var e=this;return(0,Le.c)(function*(){let r;do{r=e.Xa,yield r}while(r!==e.Xa)})()}Pu(e){for(const r of this.nu)if(r.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.nu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const r=this.nu.indexOf(e);this.nu.splice(r,1)}}function uf(i){return function(r,s){if("object"!=typeof r||null===r)return!1;const l=r;for(const d of["next","error","complete"])if(d in l&&"function"==typeof l[d])return!0;return!1}(i)}class W_{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ir,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Gi extends Gp{constructor(e,r,s,l){super(e,r,s,l),this.type="firestore",this._queue=new aE,this._persistenceKey=(null==l?void 0:l.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||zm(this),this._firestoreClient.terminate()}}function ao(i){return i._firestoreClient||zm(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function zm(i){var e,r,s;const l=i._freezeSettings(),d=(M=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Nv(i._databaseId,M,i._persistenceKey,(Q=l).host,Q.ssl,Q.experimentalForceLongPolling,Q.experimentalAutoDetectLongPolling,Um(Q.experimentalLongPollingOptions),Q.useFetchStreams));var M,Q;i._firestoreClient=new O_(i._authCredentials,i._appCheckCredentials,i._queue,d),null!==(r=l.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=l.localCache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}function q_(i,e,r){const s=new Ir;return i.asyncQueue.enqueue((0,Le.c)(function*(){try{yield Fp(i,r),yield Zd(i,e),s.resolve()}catch(l){const d=l;if(!k_(d))throw d;Uo("Error enabling indexeddb cache. Falling back to memory cache: "+d),s.reject(d)}})).then(()=>s.promise)}function Z_(i){if(i._initialized||i._terminated)throw new Ut(At.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dl(po.fromBase64String(e))}catch(r){throw new Ut(At.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Dl(po.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xu{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Ut(At.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wl{constructor(e){this._methodName=e}}class jp{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ut(At.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ut(At.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return H(this._lat,e._lat)||H(this._long,e._long)}}const hE=/^__.*__$/;class uC{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new g(e,this.data,this.fieldMask,r,this.fieldTransforms):new f(e,this.data,r,this.fieldTransforms)}}class J_{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new g(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function ey(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rn()}}class Hp{constructor(e,r,s,l,d,p){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===d&&this.Eu(),this.fieldTransforms=d||[],this.fieldMask=p||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Hp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.Au({path:s,Vu:!1});return l.mu(e),l}fu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.Au({path:s,Vu:!1});return l.Eu(),l}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return pf(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(ey(this.du)&&hE.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class fE{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Gd(e)}Su(e,r,s,l=!1){return new Hp({du:e,methodName:r,wu:s,path:Jn.emptyPath(),Vu:!1,yu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qc(i){const e=i._freezeSettings(),r=Gd(i._databaseId);return new fE(i._databaseId,!!e.ignoreUndefinedProperties,r)}function df(i,e,r,s,l,d={}){const p=i.Su(d.merge||d.mergeFields?2:0,e,r,l);Wp("Data must be an object, but it was:",p,s);const S=Zm(s,p);let M,$;if(d.merge)M=new _s(p.fieldMask),$=p.fieldTransforms;else if(d.mergeFields){const Q=[];for(const ve of d.mergeFields){const Ze=ff(e,ve,r);if(!p.contains(Ze))throw new Ut(At.INVALID_ARGUMENT,`Field '${Ze}' is specified in your field mask but missing from your input data.`);ev(Q,Ze)||Q.push(Ze)}M=new _s(Q),$=p.fieldTransforms.filter(ve=>M.covers(ve.field))}else M=null,$=p.fieldTransforms;return new uC(new so(S),M,$)}class Za extends wl{_toFieldTransform(e){if(2!==e.du)throw e.pu(1===e.du?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Za}}function Km(i,e,r){return new Hp({du:3,wu:e.settings.wu,methodName:i._methodName,Vu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ym extends wl{_toFieldTransform(e){return new os(e.path,new Nu)}isEqual(e){return e instanceof Ym}}class ty extends wl{constructor(e,r){super(e),this.bu=r}_toFieldTransform(e){const r=Km(this,e,!0),s=this.bu.map(d=>ou(d,r)),l=new Yl(s);return new os(e.path,l)}isEqual(e){return e instanceof ty&&(0,qt.IN)(this.bu,e.bu)}}class lo extends wl{constructor(e,r){super(e),this.bu=r}_toFieldTransform(e){const r=Km(this,e,!0),s=this.bu.map(d=>ou(d,r)),l=new Ql(s);return new os(e.path,l)}isEqual(e){return e instanceof lo&&(0,qt.IN)(this.bu,e.bu)}}class Qm extends wl{constructor(e,r){super(e),this.Du=r}_toFieldTransform(e){const r=new Bs(e.serializer,Kl(e.serializer,this.Du));return new os(e.path,r)}isEqual(e){return e instanceof Qm&&this.Du===e.Du}}function hf(i,e,r,s){const l=i.Su(1,e,r);Wp("Data must be an object, but it was:",l,s);const d=[],p=so.empty();ta(s,(M,$)=>{const Q=Tl(e,M,r);$=(0,qt.Yj)($);const ve=l.fu(Q);if($ instanceof Za)d.push(Q);else{const Ze=ou($,ve);null!=Ze&&(d.push(Q),p.set(Q,Ze))}});const S=new _s(d);return new J_(p,S,l.fieldTransforms)}function Xm(i,e,r,s,l,d){const p=i.Su(1,e,r),S=[ff(e,s,r)],M=[l];if(d.length%2!=0)throw new Ut(At.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ze=0;Ze<d.length;Ze+=2)S.push(ff(e,d[Ze])),M.push(d[Ze+1]);const $=[],Q=so.empty();for(let Ze=S.length-1;Ze>=0;--Ze)if(!ev($,S[Ze])){const lt=S[Ze];let Jt=M[Ze];Jt=(0,qt.Yj)(Jt);const hn=p.fu(lt);if(Jt instanceof Za)$.push(lt);else{const sn=ou(Jt,hn);null!=sn&&($.push(lt),Q.set(lt,sn))}}const ve=new _s($);return new J_(Q,ve,p.fieldTransforms)}function ny(i,e,r,s=!1){return ou(r,i.Su(s?4:3,e))}function ou(i,e){if(Jm(i=(0,qt.Yj)(i)))return Wp("Unsupported field value:",e,i),Zm(i,e);if(i instanceof wl)return function(s,l){if(!ey(l.du))throw l.pu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.pu(`${s._methodName}() is not currently supported inside arrays`);const d=s._toFieldTransform(l);d&&l.fieldTransforms.push(d)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Vu&&4!==e.du)throw e.pu("Nested arrays are not supported");return function(s,l){const d=[];let p=0;for(const S of s){let M=ou(S,l.gu(p));null==M&&(M={nullValue:"NULL_VALUE"}),d.push(M),p++}return{arrayValue:{values:d}}}(i,e)}return function(s,l){if(null===(s=(0,qt.Yj)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Kl(l.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const d=xt.fromDate(s);return{timestampValue:Rc(l.serializer,d)}}if(s instanceof xt){const d=new xt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Rc(l.serializer,d)}}if(s instanceof jp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Dl)return{bytesValue:aa(l.serializer,s._byteString)};if(s instanceof Ki){const d=l.databaseId,p=s.firestore._databaseId;if(!p.isEqual(d))throw l.pu(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:bh(s.firestore._databaseId||l.databaseId,s._key.path)}}throw l.pu(`Unsupported field value: ${Bp(s)}`)}(i,e)}function Zm(i,e){const r={};return gc(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(i,(s,l)=>{const d=ou(l,e.Ru(s));null!=d&&(r[s]=d)}),{mapValue:{fields:r}}}function Jm(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof xt||i instanceof jp||i instanceof Dl||i instanceof Ki||i instanceof wl)}function Wp(i,e,r){if(!Jm(r)||"object"!=typeof(l=r)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const s=Bp(r);throw e.pu("an object"===s?i+" a custom object":i+" "+s)}var l}function ff(i,e,r){if((e=(0,qt.Yj)(e))instanceof Xu)return e._internalPath;if("string"==typeof e)return Tl(i,e);throw pf("Field path arguments must be of type string or ",i,!1,void 0,r)}const pE=new RegExp("[~\\*/\\[\\]]");function Tl(i,e,r){if(e.search(pE)>=0)throw pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Xu(...e.split("."))._internalPath}catch{throw pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function pf(i,e,r,s,l){const d=s&&!s.isEmpty(),p=void 0!==l;let S=`Function ${e}() called with invalid data`;r&&(S+=" (via `toFirestore()`)"),S+=". ";let M="";return(d||p)&&(M+=" (found",d&&(M+=` in field ${s}`),p&&(M+=` in document ${l}`),M+=")"),new Ut(At.INVALID_ARGUMENT,S+i+M)}function ev(i,e){return i.some(r=>r.isEqual(e))}class gf{constructor(e,r,s,l,d){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=l,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Ki(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ry(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(mf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class ry extends gf{data(){return super.data()}}function mf(i,e){return"string"==typeof e?Tl(i,e):e instanceof Xu?e._internalPath:e._delegate._internalPath}function tv(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Ut(At.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xc{}class Zc extends Xc{}function As(i,e,...r){let s=[];e instanceof Xc&&s.push(e),s=s.concat(r),function(d){const p=d.filter(M=>M instanceof bl).length,S=d.filter(M=>M instanceof Zu).length;if(p>1||p>0&&S>0)throw new Ut(At.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)i=l._apply(i);return i}class Zu extends Zc{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new Zu(e,r,s)}_apply(e){const r=this._parse(e);return dy(e._query,r),new Es(e.firestore,e.converter,Cd(e._query,r))}_parse(e){const r=Qc(e.firestore);return function(d,p,S,M,$,Q,ve){let Ze;if($.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new Ut(At.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){cy(ve,Q);const lt=[];for(const Jt of ve)lt.push(uy(M,d,Jt));Ze={arrayValue:{values:lt}}}else Ze=uy(M,d,ve)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||cy(ve,Q),Ze=ny(S,"where",ve,"in"===Q||"not-in"===Q);return Jr.create($,Q,Ze)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}class bl extends Xc{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new bl(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:gi.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(l,d){let p=l;const S=d.getFlattenedFilters();for(const M of S)dy(p,M),p=Cd(p,M)}(e._query,r),new Es(e.firestore,e.converter,Cd(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class vf extends Zc{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new vf(e,r)}_apply(e){const r=function(l,d,p){if(null!==l.startAt)throw new Ut(At.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new Ut(At.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hl(d,p)}(e._query,this._field,this._direction);return new Es(e.firestore,e.converter,function(l,d){const p=l.explicitOrderBy.concat([d]);return new ra(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,r))}}class Ja extends Zc{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new Ja(e,r,s)}_apply(e){return new Es(e.firestore,e.converter,Dd(e._query,this._limit,this._limitType))}}class Jc extends Zc{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Jc(e,r,s)}_apply(e){const r=ly(e,this.type,this._docOrFields,this._inclusive);return new Es(e.firestore,e.converter,(d=r,new ra((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,d,l.endAt)));var l,d}}class zp extends Zc{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new zp(e,r,s)}_apply(e){const r=ly(e,this.type,this._docOrFields,this._inclusive);return new Es(e.firestore,e.converter,(d=r,new ra((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,d)));var l,d}}function ly(i,e,r,s){if(r[0]=(0,qt.Yj)(r[0]),r[0]instanceof gf)return function(d,p,S,M,$){if(!M)throw new Ut(At.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${S}().`);const Q=[];for(const ve of Pu(d))if(ve.field.isKeyField())Q.push(cl(p,M.key));else{const Ze=M.data.field(ve.field);if(Cu(Ze))throw new Ut(At.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ve.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ze){const lt=ve.field.canonicalString();throw new Ut(At.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${lt}' (used as the orderBy) does not exist.`)}Q.push(Ze)}return new ja(Q,$)}(i._query,i.firestore._databaseId,e,r[0]._document,s);{const l=Qc(i.firestore);return function(p,S,M,$,Q,ve){const Ze=p.explicitOrderBy;if(Q.length>Ze.length)throw new Ut(At.INVALID_ARGUMENT,`Too many arguments provided to ${$}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const lt=[];for(let Jt=0;Jt<Q.length;Jt++){const hn=Q[Jt];if(Ze[Jt].field.isKeyField()){if("string"!=typeof hn)throw new Ut(At.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${$}(), but got a ${typeof hn}`);if(!Ta(p)&&-1!==hn.indexOf("/"))throw new Ut(At.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${$}() must be a plain document ID, but '${hn}' contains a slash.`);const sn=p.path.child(yn.fromString(hn));if(!ln.isDocumentKey(sn))throw new Ut(At.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${$}() must result in a valid document path, but '${sn}' is not because it contains an odd number of segments.`);const Mn=new ln(sn);lt.push(cl(S,Mn))}else{const sn=ny(M,$,hn);lt.push(sn)}}return new ja(lt,ve)}(i._query,i.firestore._databaseId,l,e,r,s)}}function uy(i,e,r){if("string"==typeof(r=(0,qt.Yj)(r))){if(""===r)throw new Ut(At.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ta(e)&&-1!==r.indexOf("/"))throw new Ut(At.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(yn.fromString(r));if(!ln.isDocumentKey(s))throw new Ut(At.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return cl(i,new ln(s))}if(r instanceof Ki)return cl(i,r._key);throw new Ut(At.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bp(r)}.`)}function cy(i,e){if(!Array.isArray(i)||0===i.length)throw new Ut(At.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dy(i,e){const r=function(l,d){for(const p of l)for(const S of p.getFlattenedFilters())if(d.indexOf(S.op)>=0)return S.op;return null}(i.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new Ut(At.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class nv{convertValue(e,r="none"){switch(Ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ni(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw Rn()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return ta(e,(l,d)=>{s[l]=this.convertValue(d,r)}),s}convertGeoPoint(e){return new jp(Ni(e.latitude),Ni(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=vc(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(md(e));default:return null}}convertTimestamp(e){const r=ll(e);return new xt(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=yn.fromString(e);$n(dI(s));const l=new Vs(s.get(1),s.get(3)),d=new ln(s.popFirst(5));return l.isEqual(r)||Ri(`Document ${d} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),d}}function qp(i,e,r){let s;return s=i?r&&(r.merge||r.mergeFields)?i.toFirestore(e,r):i.toFirestore(e):e,s}class mE extends nv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ki(this.firestore,null,r)}}class su{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Al extends gf{constructor(e,r,s,l,d,p){super(e,r,s,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new If(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(mf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class If extends Al{data(e={}){return super.data(e)}}class au{constructor(e,r,s,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new su(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new If(this._firestore,this._userDataWriter,s.key,s,new su(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ut(At.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,d){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map(S=>({type:"added",doc:new If(l._firestore,l._userDataWriter,S.doc.key,S.doc,new su(l._snapshot.mutatedKeys.has(S.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:p++}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(S=>d||3!==S.type).map(S=>{const M=new If(l._firestore,l._userDataWriter,S.doc.key,S.doc,new su(l._snapshot.mutatedKeys.has(S.doc.key),l._snapshot.fromCache),l.query.converter);let $=-1,Q=-1;return 0!==S.type&&($=p.indexOf(S.doc.key),p=p.delete(S.doc.key)),1!==S.type&&(p=p.add(S.doc),Q=p.indexOf(S.doc.key)),{type:iv(S.type),doc:M,oldIndex:$,newIndex:Q}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function iv(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rn()}}function ov(i,e){return i instanceof Al&&e instanceof Al?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof au&&e instanceof au&&i._firestore===e._firestore&&Wm(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class Ju extends nv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ki(this.firestore,null,r)}}function Kp(i,e,r){i=ii(i,Ki);const s=ii(i.firestore,Gi),l=qp(i.converter,e,r);return ed(s,[df(Qc(s),"setDoc",i._key,l,null!==i.converter,r).toMutation(i._key,Fi.none())])}function Yp(i,e,r,...s){i=ii(i,Ki);const l=ii(i.firestore,Gi),d=Qc(l);let p;return p="string"==typeof(e=(0,qt.Yj)(e))||e instanceof Xu?Xm(d,"updateDoc",i._key,e,r,s):hf(d,"updateDoc",i._key,e),ed(l,[p.toMutation(i._key,Fi.exists(!0))])}function gy(i,...e){var r,s,l;i=(0,qt.Yj)(i);let d={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||uf(e[p])||(d=e[p],p++);const S={includeMetadataChanges:d.includeMetadataChanges};if(uf(e[p])){const ve=e[p];e[p]=null===(r=ve.next)||void 0===r?void 0:r.bind(ve),e[p+1]=null===(s=ve.error)||void 0===s?void 0:s.bind(ve),e[p+2]=null===(l=ve.complete)||void 0===l?void 0:l.bind(ve)}let M,$,Q;if(i instanceof Ki)$=ii(i.firestore,Gi),Q=Wl(i._key.path),M={next:ve=>{e[p]&&e[p](Ef($,i,ve))},error:e[p+1],complete:e[p+2]};else{const ve=ii(i,Es);$=ii(ve.firestore,Gi),Q=ve._query;const Ze=new Ju($);M={next:lt=>{e[p]&&e[p](new au($,Ze,ve,lt))},error:e[p+1],complete:e[p+2]},tv(i._query)}return function(Ze,lt,Jt,hn){const sn=new Qu(hn),Mn=new Ap(lt,sn,Jt);return Ze.asyncQueue.enqueueAndForget((0,Le.c)(function*(){return gm(yield eh(Ze),Mn)})),()=>{sn.La(),Ze.asyncQueue.enqueueAndForget((0,Le.c)(function*(){return Ra(yield eh(Ze),Mn)}))}}(ao($),Q,S,M)}function ed(i,e){return function(s,l){const d=new Ir;return s.asyncQueue.enqueueAndForget((0,Le.c)(function*(){return function Zh(i,e,r){return Jh.apply(this,arguments)}(yield L_(s),l,d)})),d.promise}(ao(i),e)}function Ef(i,e,r){const s=r.docs.get(e._key),l=new Ju(i);return new Al(i,l,e._key,s,new su(r.hasPendingWrites,r.fromCache),e.converter)}const SE={maxAttempts:5};class RE{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Qc(e)}set(e,r,s){this._verifyNotCommitted();const l=td(e,this._firestore),d=qp(l.converter,r,s),p=df(this._dataReader,"WriteBatch.set",l._key,d,null!==l.converter,s);return this._mutations.push(p.toMutation(l._key,Fi.none())),this}update(e,r,s,...l){this._verifyNotCommitted();const d=td(e,this._firestore);let p;return p="string"==typeof(r=(0,qt.Yj)(r))||r instanceof Xu?Xm(this._dataReader,"WriteBatch.update",d._key,r,s,l):hf(this._dataReader,"WriteBatch.update",d._key,r),this._mutations.push(p.toMutation(d._key,Fi.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=td(e,this._firestore);return this._mutations=this._mutations.concat(new Ge(r._key,Fi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ut(At.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function td(i,e){if((i=(0,qt.Yj)(i)).firestore!==e)throw new Ut(At.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class gC extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=Qc(r)}get(r){const s=td(r,this._firestore),l=new mE(this._firestore);return this._transaction.lookup([s._key]).then(d=>{if(!d||1!==d.length)return Rn();const p=d[0];if(p.isFoundDocument())return new gf(this._firestore,l,p.key,p,s.converter);if(p.isNoDocument())return new gf(this._firestore,l,s._key,null,s.converter);throw Rn()})}set(r,s,l){const d=td(r,this._firestore),p=qp(d.converter,s,l),S=df(this._dataReader,"Transaction.set",d._key,p,null!==d.converter,l);return this._transaction.set(d._key,S),this}update(r,s,l,...d){const p=td(r,this._firestore);let S;return S="string"==typeof(s=(0,qt.Yj)(s))||s instanceof Xu?Xm(this._dataReader,"Transaction.update",p._key,s,l,d):hf(this._dataReader,"Transaction.update",p._key,s),this._transaction.update(p._key,S),this}delete(r){const s=td(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=td(e,this._firestore),s=new Ju(this._firestore);return super.get(e).then(l=>new Al(this._firestore,s,r._key,l._document,new su(!1,!1),r.converter))}}function Qp(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ut("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ay(){if(typeof Uint8Array>"u")throw new Ut("unimplemented","Uint8Arrays are not available in this environment.")}function kE(){if(!function pd(){return typeof atob<"u"}())throw new Ut("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,r=!0){Ls=_t.SDK_VERSION,(0,_t._registerComponent)(new yt.Yl("firestore",(s,{instanceIdentifier:l,options:d})=>{const p=s.getProvider("app").getImmediate(),S=new Gi(new ch(s.getProvider("auth-internal")),new b(s.getProvider("app-check-internal")),function($,Q){if(!Object.prototype.hasOwnProperty.apply($.options,["projectId"]))throw new Ut(At.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vs($.options.projectId,Q)}(p,l),p);return d=Object.assign({useFetchStreams:r},d),S._setSettings(d),S},"PUBLIC").setMultipleInstances(!0)),(0,_t.registerVersion)(Ko,"4.4.2",e),(0,_t.registerVersion)(Ko,"4.4.2","esm2017")}();class Cf{constructor(e){this._delegate=e}static fromBase64String(e){return kE(),new Cf(Dl.fromBase64String(e))}static fromUint8Array(e){return Ay(),new Cf(Dl.fromUint8Array(e))}toBase64(){return kE(),this._delegate.toBase64()}toUint8Array(){return Ay(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function lv(i){return function LE(i,e){if("object"!=typeof i||null===i)return!1;const r=i;for(const s of e)if(s in r&&"function"==typeof r[s])return!0;return!1}(i,["next","error","complete"])}class Xp{enableIndexedDbPersistence(e,r){return function z_(i,e){Z_(i=ii(i,Gi));const r=ao(i);if(r._uninitializedComponentsProvider)throw new Ut(At.FAILED_PRECONDITION,"SDK cache is already specified.");Uo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),l=new ru;return q_(r,l,new Yc(l,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function uE(i){Z_(i=ii(i,Gi));const e=ao(i);if(e._uninitializedComponentsProvider)throw new Ut(At.FAILED_PRECONDITION,"SDK cache is already specified.");Uo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=i._freezeSettings(),s=new ru;return q_(e,s,new Lp(s,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function K_(i){if(i._initialized&&!i._terminated)throw new Ut(At.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ir;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Le.c)(function*(){try{yield(r=(0,Le.c)(function*(l){if(!$o.D())return Promise.resolve();const d=l+"main";yield $o.delete(d)}),function s(l){return r.apply(this,arguments)})(d_(i._databaseId,i._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class uv{constructor(e,r,s){this._delegate=r,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof Vs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&Uo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,s={}){!function oE(i,e,r,s={}){var l;const d=(i=ii(i,Gp))._getSettings(),p=`${e}:${r}`;if("firestore.googleapis.com"!==d.host&&d.host!==p&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},d),{host:p,ssl:!1})),s.mockUserToken){let S,M;if("string"==typeof s.mockUserToken)S=s.mockUserToken,M=Fr.MOCK_USER;else{S=(0,qt.YD)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const $=s.mockUserToken.sub||s.mockUserToken.user_id;if(!$)throw new Ut(At.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new Fr($)}i._authCredentials=new Ll(new ld(S,M))}}(this._delegate,e,r,s)}enableNetwork(){return function lC(i){return function JI(i){return i.asyncQueue.enqueue((0,Le.c)(function*(){const e=yield Jd(i),r=yield rf(i);return e.setNetworkEnabled(!0),function(l){const d=vn(l);return d.v_.delete(0),Gh(d)}(r)}))}(ao(i=ii(i,Gi)))}(this._delegate)}disableNetwork(){return function Y_(i){return function V_(i){return i.asyncQueue.enqueue((0,Le.c)(function*(){const e=yield Jd(i),r=yield rf(i);return e.setNetworkEnabled(!1),(s=(0,Le.c)(function*(d){const p=vn(d);p.v_.add(0),yield jc(p),p.x_.set("Offline")}),function l(d){return s.apply(this,arguments)})(r);var s}))}(ao(i=ii(i,Gi)))}(this._delegate)}enablePersistence(e){let r=!1,s=!1;return e&&(r=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,af("synchronizeTabs",r,"experimentalForceOwningTab",s)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function qm(i){return function(r){const s=new Ir;return r.asyncQueue.enqueueAndForget((0,Le.c)(function*(){return function S_(i,e){return Pp.apply(this,arguments)}(yield L_(r),s)})),s.promise}(ao(i=ii(i,Gi)))}(this._delegate)}onSnapshotsInSync(e){return function wE(i,e){return function tE(i,e){const r=new Qu(e);return i.asyncQueue.enqueueAndForget((0,Le.c)(function*(){return l=yield eh(i),d=r,vn(l).K_.add(d),void d.next();var l,d})),()=>{r.La(),i.asyncQueue.enqueueAndForget((0,Le.c)(function*(){return l=yield eh(i),d=r,void vn(l).K_.delete(d);var l,d}))}}(ao(i=ii(i,Gi)),uf(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ut("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new rh(this,jm(this._delegate,e))}catch(r){throw Cs(r,"collection()","Firestore.collection()")}}doc(e){try{return new Ma(this,Hm(this._delegate,e))}catch(r){throw Cs(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ss(this,function sE(i,e){if(i=ii(i,Gp),Bm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ut(At.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Es(i,null,(s=e,new ra(yn.emptyPath(),s)));var s}(this._delegate,e))}catch(r){throw Cs(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function mC(i,e,r){i=ii(i,Gi);const s=Object.assign(Object.assign({},SE),r);return function(d){if(d.maxAttempts<1)throw new Ut(At.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(d,p,S){const M=new Ir;return d.asyncQueue.enqueueAndForget((0,Le.c)(function*(){const $=yield function F_(i){return Up(i).then(e=>e.datastore)}(d);new tf(d.asyncQueue,$,S,p,M).ja()})),M.promise}(ao(i),l=>e(new gC(i,l)),s)}(this._delegate,r=>e(new FE(this,r)))}batch(){return ao(this._delegate),new cv(new RE(this._delegate,e=>ed(this._delegate,e)))}loadBundle(e){return function cE(i,e){const r=ao(i=ii(i,Gi)),s=new W_;return function th(i,e,r,s){const l=function(p,S){let M;return M="string"==typeof p?Pd().encode(p):p,Q=function(Q,ve){if(Q instanceof Uint8Array)return km(Q,void 0);if(Q instanceof ArrayBuffer)return km(new Uint8Array(Q),void 0);if(Q instanceof ReadableStream)return Q.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new N_(Q,S);var Q}(r,Gd(e));i.asyncQueue.enqueueAndForget((0,Le.c)(function*(){!function XI(i,e,r){const s=vn(i);var l;(l=(0,Le.c)(function*(p,S,M){try{const $=yield S.getMetadata();if(yield function(Jt,hn){const sn=vn(Jt),Mn=So(hn.createTime);return sn.persistence.runTransaction("hasNewerBundle","readonly",tr=>sn.$r.getBundleMetadata(tr,hn.id)).then(tr=>!!tr&&tr.createTime.compareTo(Mn)>=0)}(p.localStore,$))return yield S.close(),M._completeWith({taskState:"Success",documentsLoaded:(Jt=$).totalDocuments,bytesLoaded:Jt.totalBytes,totalDocuments:Jt.totalDocuments,totalBytes:Jt.totalBytes}),Promise.resolve(new Set);M._updateProgress(vm($));const Q=new rC($,p.localStore,S.serializer);let ve=yield S.Oa();for(;ve;){const lt=yield Q.na(ve);lt&&M._updateProgress(lt),ve=yield S.Oa()}const Ze=yield Q.complete();return yield El(p,Ze.sa,void 0),yield function(Jt,hn){const sn=vn(Jt);return sn.persistence.runTransaction("Save bundle","readwrite",Mn=>sn.$r.saveBundleMetadata(Mn,hn))}(p.localStore,$),M._completeWith(Ze.progress),Promise.resolve(Ze.ia)}catch($){return Uo("SyncEngine",`Loading bundle failed with ${$}`),M._failWith($),Promise.resolve(new Set)}var Jt}),function d(p,S,M){return l.apply(this,arguments)})(s,e,r).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield L_(i),l,s)}))}(r,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function X_(i,e){return function G_(i,e){return i.asyncQueue.enqueue((0,Le.c)(function*(){return function(s,l){const d=vn(s);return d.persistence.runTransaction("Get named query","readonly",p=>d.$r.getNamedQuery(p,l))}(yield iu(i),e)}))}(ao(i=ii(i,Gi)),e).then(r=>r?new Es(i,null,r.query):null)}(this._delegate,e).then(r=>r?new Ss(this,r):null)}}class Zp extends nv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cf(new Dl(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return Ma.forKey(r,this.firestore,null)}}class FE{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new Zp(e)}get(e){const r=nd(e);return this._delegate.get(r).then(s=>new Df(this._firestore,new Al(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,r.converter)))}set(e,r,s){const l=nd(e);return s?(Qp("Transaction.set",s),this._delegate.set(l,r,s)):this._delegate.set(l,r),this}update(e,r,s,...l){const d=nd(e);return 2===arguments.length?this._delegate.update(d,r):this._delegate.update(d,r,s,...l),this}delete(e){const r=nd(e);return this._delegate.delete(r),this}}class cv{constructor(e){this._delegate=e}set(e,r,s){const l=nd(e);return s?(Qp("WriteBatch.set",s),this._delegate.set(l,r,s)):this._delegate.set(l,r),this}update(e,r,s,...l){const d=nd(e);return 2===arguments.length?this._delegate.update(d,r):this._delegate.update(d,r,s,...l),this}delete(e){const r=nd(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class nh{constructor(e,r,s){this._firestore=e,this._userDataWriter=r,this._delegate=s}fromFirestore(e,r){const s=new If(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new nc(this._firestore,s),null!=r?r:{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const s=nh.INSTANCES;let l=s.get(e);l||(l=new WeakMap,s.set(e,l));let d=l.get(r);return d||(d=new nh(e,new Zp(e),r),l.set(r,d)),d}}nh.INSTANCES=new WeakMap;class Ma{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new Zp(e)}static forPath(e,r,s){if(e.length%2!=0)throw new Ut("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ma(r,new Ki(r._delegate,s,new ln(e)))}static forKey(e,r,s){return new Ma(r,new Ki(r._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new rh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new rh(this.firestore,jm(this._delegate,e))}catch(r){throw Cs(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,qt.Yj)(e))instanceof Ki&&lf(this._delegate,e)}set(e,r){r=Qp("DocumentReference.set",r);try{return r?Kp(this._delegate,e,r):Kp(this._delegate,e)}catch(s){throw Cs(s,"setDoc()","DocumentReference.set()")}}update(e,r,...s){try{return 1===arguments.length?Yp(this._delegate,e):Yp(this._delegate,e,r,...s)}catch(l){throw Cs(l,"updateDoc()","DocumentReference.update()")}}delete(){return function CE(i){return ed(ii(i.firestore,Gi),[new Ge(i._key,Fi.none())])}(this._delegate)}onSnapshot(...e){const r=Jp(e),s=Ry(e,l=>new Df(this.firestore,new Al(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return gy(this._delegate,r,s)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function IE(i){i=ii(i,Ki);const e=ii(i.firestore,Gi),r=ao(e),s=new Ju(e);return function eE(i,e){const r=new Ir;return i.asyncQueue.enqueueAndForget((0,Le.c)(function*(){return(s=(0,Le.c)(function*(d,p,S){try{const M=yield function(Q,ve){const Ze=vn(Q);return Ze.persistence.runTransaction("read document","readonly",lt=>Ze.localDocuments.getDocument(lt,ve))}(d,p);M.isFoundDocument()?S.resolve(M):M.isNoDocument()?S.resolve(null):S.reject(new Ut(At.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const $=zd(M,`Failed to get document '${p} from cache`);S.reject($)}}),function l(d,p,S){return s.apply(this,arguments)})(yield iu(i),e,r);var s})),r.promise}(r,i._key).then(l=>new Al(e,s,i._key,l,new su(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function EE(i){i=ii(i,Ki);const e=ii(i.firestore,Gi);return U_(ao(e),i._key,{source:"server"}).then(r=>Ef(e,i,r))}(this._delegate):function fy(i){i=ii(i,Ki);const e=ii(i.firestore,Gi);return U_(ao(e),i._key).then(r=>Ef(e,i,r))}(this._delegate),r.then(s=>new Df(this.firestore,new Al(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Ma(this.firestore,this._delegate.withConverter(e?nh.getInstance(this.firestore,e):null))}}function Cs(i,e,r){return i.message=i.message.replace(e,r),i}function Jp(i){for(const e of i)if("object"==typeof e&&!lv(e))return e;return{}}function Ry(i,e){var r,s;let l;return l=lv(i[0])?i[0]:lv(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{l.next&&l.next(e(d))},error:null===(r=l.error)||void 0===r?void 0:r.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class Df{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new Ma(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return ov(this._delegate,e._delegate)}}class nc extends Df{data(e){const r=this._delegate.data(e);return this._delegate._converter||function ga(i,e){i||Rn()}(void 0!==r),r}}class Ss{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new Zp(e)}where(e,r,s){try{return new Ss(this.firestore,As(this._delegate,function iy(i,e,r){const s=e,l=mf("where",i);return Zu._create(l,s,r)}(e,r,s)))}catch(l){throw Cs(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new Ss(this.firestore,As(this._delegate,function oy(i,e="asc"){const r=e,s=mf("orderBy",i);return vf._create(s,r)}(e,r)))}catch(s){throw Cs(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ss(this.firestore,As(this._delegate,function _f(i){return $p("limit",i),Ja._create("limit",i,"F")}(e)))}catch(r){throw Cs(r,"limit()","Query.limit()")}}limitToLast(e){try{return new Ss(this.firestore,As(this._delegate,function hC(i){return $p("limitToLast",i),Ja._create("limitToLast",i,"L")}(e)))}catch(r){throw Cs(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ss(this.firestore,As(this._delegate,function sy(...i){return Jc._create("startAt",i,!0)}(...e)))}catch(r){throw Cs(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ss(this.firestore,As(this._delegate,function ay(...i){return Jc._create("startAfter",i,!1)}(...e)))}catch(r){throw Cs(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ss(this.firestore,As(this._delegate,function gE(...i){return zp._create("endBefore",i,!1)}(...e)))}catch(r){throw Cs(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ss(this.firestore,As(this._delegate,function yf(...i){return zp._create("endAt",i,!0)}(...e)))}catch(r){throw Cs(r,"endAt()","Query.endAt()")}}isEqual(e){return Wm(this._delegate,e._delegate)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function av(i){i=ii(i,Es);const e=ii(i.firestore,Gi),r=ao(e),s=new Ju(e);return function B_(i,e){const r=new Ir;return i.asyncQueue.enqueueAndForget((0,Le.c)(function*(){return(s=(0,Le.c)(function*(d,p,S){try{const M=yield dp(d,p,!0),$=new Qh(p,M.hs),Q=$.ha(M.documents),ve=$.applyChanges(Q,!1);S.resolve(ve.snapshot)}catch(M){const $=zd(M,`Failed to execute query '${p} against cache`);S.reject($)}}),function l(d,p,S){return s.apply(this,arguments)})(yield iu(i),e,r);var s})),r.promise}(r,i._query).then(l=>new au(e,s,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function py(i){i=ii(i,Es);const e=ii(i.firestore,Gi),r=ao(e),s=new Ju(e);return $_(r,i._query,{source:"server"}).then(l=>new au(e,s,i,l))}(this._delegate):function sv(i){i=ii(i,Es);const e=ii(i.firestore,Gi),r=ao(e),s=new Ju(e);return tv(i._query),$_(r,i._query).then(l=>new au(e,s,i,l))}(this._delegate),r.then(s=>new dv(this.firestore,new au(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const r=Jp(e),s=Ry(e,l=>new dv(this.firestore,new au(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return gy(this._delegate,r,s)}withConverter(e){return new Ss(this.firestore,this._delegate.withConverter(e?nh.getInstance(this.firestore,e):null))}}class VE{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new nc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class dv{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new Ss(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new nc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new VE(this._firestore,r))}forEach(e,r){this._delegate.forEach(s=>{e.call(r,new nc(this._firestore,s))})}isEqual(e){return ov(this._delegate,e._delegate)}}class rh extends Ss{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ma(this.firestore,e):null}doc(e){try{return new Ma(this.firestore,void 0===e?Hm(this._delegate):Hm(this._delegate,e))}catch(r){throw Cs(r,"doc()","CollectionReference.doc()")}}add(e){return function DE(i,e){const r=ii(i.firestore,Gi),s=Hm(i),l=qp(i.converter,e);return ed(r,[df(Qc(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,Fi.exists(!1))]).then(()=>s)}(this._delegate,e).then(r=>new Ma(this.firestore,r))}isEqual(e){return lf(this._delegate,e._delegate)}withConverter(e){return new rh(this.firestore,this._delegate.withConverter(e?nh.getInstance(this.firestore,e):null))}}function nd(i){return ii(i,Ki)}class hv{constructor(...e){this._delegate=new Xu(...e)}static documentId(){return new hv(Jn.keyField().canonicalString())}isEqual(e){return(e=(0,qt.Yj)(e))instanceof Xu&&this._delegate._internalPath.isEqual(e._internalPath)}}class rd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function _C(){return new Ym("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new rd(e)}static delete(){const e=function vC(){return new Za("deleteField")}();return e._methodName="FieldValue.delete",new rd(e)}static arrayUnion(...e){const r=function yC(...i){return new ty("arrayUnion",i)}(...e);return r._methodName="FieldValue.arrayUnion",new rd(r)}static arrayRemove(...e){const r=function IC(...i){return new lo("arrayRemove",i)}(...e);return r._methodName="FieldValue.arrayRemove",new rd(r)}static increment(e){const r=function by(i){return new Qm("increment",i)}(e);return r._methodName="FieldValue.increment",new rd(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const My={Firestore:uv,GeoPoint:jp,Timestamp:xt,Blob:Cf,Transaction:FE,WriteBatch:cv,DocumentReference:Ma,DocumentSnapshot:Df,Query:Ss,QueryDocumentSnapshot:nc,QuerySnapshot:dv,CollectionReference:rh,FieldPath:hv,FieldValue:rd,setLogLevel:function Sy(i){!function cc(i){pa.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};function fv(i,e){return function wC(i,e=Lt.M){return new ze._(r=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},r)}):s=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=s&&s()}})}(i,e)}function ih(i,e){return fv(i,e).pipe((0,Me.k)(r=>({payload:r,type:"query"})))}!function UE(i){(function Py(i,e){i.INTERNAL.registerComponent(new yt.Yl("firestore-compat",r=>{const s=r.getProvider("app-compat").getImmediate(),l=r.getProvider("firestore").getImmediate();return e(s,l)},"PUBLIC").setServiceProps(Object.assign({},My)))})(i,(e,r)=>new uv(e,r,new Xp)),i.registerVersion("@firebase/firestore-compat","0.3.25")}(Hn.c);class BE{constructor(e,r){(0,u.c)(this,"ref",void 0),(0,u.c)(this,"afs",void 0),this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const s=this.ref.collection(e),{ref:l,query:d}=oh(s,r);return new tg(l,d,this.afs)}snapshotChanges(){return function xy(i,e){return fv(i,e).pipe((0,tn.W)(void 0),Rt(),(0,Me.k)(r=>{const[s,l]=r;return l.exists?null!=s&&s.exists?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(le.wH)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Me.k)(({payload:r})=>e.idField?{...r.data(),[e.idField]:r.id}:r.data()))}get(e){return(0,ge.Q)(this.ref.get(e)).pipe(le.wH)}}function pv(i,e){return ih(i,e).pipe((0,tn.W)(void 0),Rt(),(0,Me.k)(r=>{const[s,l]=r,d=l.payload.docChanges(),p=d.map(S=>({type:S.type,payload:S}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((S,M)=>{const $=d.find(ve=>ve.doc.ref.isEqual(S.ref)),Q=null==s?void 0:s.payload.docs.find(ve=>ve.ref.isEqual(S.ref));$&&JSON.stringify($.doc.metadata)===JSON.stringify(S.metadata)||!$&&Q&&JSON.stringify(Q.metadata)===JSON.stringify(S.metadata)||p.push({type:"modified",payload:{oldIndex:M,newIndex:M,type:"modified",doc:S}})}),p}))}function Ny(i,e,r){return pv(i,r).pipe((0,_n.K)((s,l)=>function id(i,e,r){return e.forEach(s=>{r.indexOf(s.type)>-1&&(i=function $E(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return eg(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=i.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return eg(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return eg(i,e.oldIndex,1)}return i}(i,s))}),i}(s,l.map(d=>d.payload),e),[]),(0,kn.a)(),(0,Me.k)(s=>s.map(l=>({type:l.type,payload:l}))))}function eg(i,e,r,...s){const l=i.slice();return l.splice(e,r,...s),l}function GE(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class tg{constructor(e,r,s){(0,u.c)(this,"ref",void 0),(0,u.c)(this,"query",void 0),(0,u.c)(this,"afs",void 0),this.ref=e,this.query=r,this.afs=s}stateChanges(e){let r=pv(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,Me.k)(s=>s.filter(l=>e.indexOf(l.type)>-1)))),r.pipe((0,tn.W)(void 0),Rt(),(0,ot.I)(([s,l])=>l.length>0||!s),(0,Me.k)(([,s])=>s),le.wH)}auditTrail(e){return this.stateChanges(e).pipe((0,_n.K)((r,s)=>[...r,...s],[]))}snapshotChanges(e){const r=GE(e);return Ny(this.query,r,this.afs.schedulers.outsideAngular).pipe(le.wH)}valueChanges(e={}){return ih(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.k)(r=>r.payload.docs.map(s=>e.idField?{...s.data(),[e.idField]:s.id}:s.data())),le.wH)}get(e){return(0,ge.Q)(this.query.get(e)).pipe(le.wH)}add(e){return this.ref.add(e)}doc(e){return new BE(this.ref.doc(e),this.afs)}}class gv{constructor(e,r){(0,u.c)(this,"query",void 0),(0,u.c)(this,"afs",void 0),this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?pv(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.k)(r=>r.filter(s=>e.indexOf(s.type)>-1)),(0,ot.I)(r=>r.length>0),le.wH):pv(this.query,this.afs.schedulers.outsideAngular).pipe(le.wH)}auditTrail(e){return this.stateChanges(e).pipe((0,_n.K)((r,s)=>[...r,...s],[]))}snapshotChanges(e){const r=GE(e);return Ny(this.query,r,this.afs.schedulers.outsideAngular).pipe(le.wH)}valueChanges(e={}){return ih(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.k)(s=>s.payload.docs.map(l=>e.idField?{[e.idField]:l.id,...l.data()}:l.data())),le.wH)}get(e){return(0,ge.Q)(this.query.get(e)).pipe(le.wH)}}const Oy=new K.UbH("angularfire2.enableFirestorePersistence"),mv=new K.UbH("angularfire2.firestore.persistenceSettings"),ky=new K.UbH("angularfire2.firestore.settings"),TC=new K.UbH("angularfire2.firestore.use-emulator");function oh(i,e=(r=>r)){return{query:e(i),ref:i}}let el=(()=>{var i;class e{constructor(s,l,d,p,S,M,$,Q,ve,Ze,lt,Jt,hn,sn,Mn,tr,Qn){(0,u.c)(this,"schedulers",void 0),(0,u.c)(this,"firestore",void 0),(0,u.c)(this,"persistenceEnabled$",void 0),this.schedulers=$;const Gn=(0,be._G)(s,M,l),Vr=ve;Ze&&Ne(Gn,M,lt,hn,sn,Mn,Jt,tr),[this.firestore,this.persistenceEnabled$]=(0,be.PQ)(`${Gn.name}.firestore`,"AngularFirestore",Gn.name,()=>{const br=M.runOutsideAngular(()=>Gn.firestore());if(p&&br.settings(p),Vr&&br.useEmulator(...Vr),d&&!(0,z.uf)(S)){const uo=()=>{try{return(0,ge.Q)(br.enablePersistence(Q||void 0).then(()=>!0,()=>!1))}catch(Rs){return typeof console<"u"&&console.warn(Rs),(0,We.of)(!1)}};return[br,M.runOutsideAngular(uo)]}return[br,(0,We.of)(!1)]},[p,Vr,d])}collection(s,l){let d;d="string"==typeof s?this.firestore.collection(s):s;const{ref:p,query:S}=oh(d,l),M=this.schedulers.ngZone.run(()=>p);return new tg(M,S,this)}collectionGroup(s,l){const d=l||(S=>S),p=this.firestore.collectionGroup(s);return new gv(d(p),this)}doc(s){let l;l="string"==typeof s?this.firestore.doc(s):s;const d=this.schedulers.ngZone.run(()=>l);return new BE(d,this)}createId(){return this.firestore.collection("_").doc().id}}return i=e,(0,u.c)(e,"\u0275fac",function(s){return new(s||i)(K.CoB(be.E9),K.CoB(be.Ml,8),K.CoB(Oy,8),K.CoB(ky,8),K.CoB(K.AHE),K.CoB(K.WW2),K.CoB(le.u),K.CoB(mv,8),K.CoB(TC,8),K.CoB(nt,8),K.CoB(fn,8),K.CoB(jn,8),K.CoB(at,8),K.CoB(De,8),K.CoB(fe,8),K.CoB(we,8),K.CoB(le.gJ,8))}),(0,u.c)(e,"\u0275prov",K.wxM({token:i,factory:i.\u0275fac,providedIn:"any"})),e})(),wf=(()=>{var i;class e{constructor(){ut.c.registerVersion("angularfire",le.j1.full,"fst-compat")}static enablePersistence(s){return{ngModule:e,providers:[{provide:Oy,useValue:!0},{provide:mv,useValue:s}]}}}return i=e,(0,u.c)(e,"\u0275fac",function(s){return new(s||i)}),(0,u.c)(e,"\u0275mod",K.a4G({type:i})),(0,u.c)(e,"\u0275inj",K.s3X({providers:[el]})),e})()},6564:(on,it,k)=>{"use strict";k.d(it,{WK:()=>Wo,_Q:()=>Ws});var u=k(4580),z=k(7900),K=k(3252),le=k(2700),be=k(9900),pe=k(112),ce=k(5448),We=k(7773),ge=k(4704),ue=k(7368),Re=k(4496),Fe=k(6e3),ke=k(8368),Ae=k(1528),rt=k(9360),Pe=k(7144),Me=k(4920);const Be="firebasestorage.googleapis.com",vt="storageBucket";class Qe extends Pe.kx{constructor(B,w,E=0){super(X(B),`Firebase Storage: ${w} (${X(B)})`),this.status_=E,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qe.prototype)}get status(){return this.status_}set status(B){this.status_=B}_codeEquals(B){return X(B)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(B){this.customData.serverResponse=B,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ae=function(G){return G.UNKNOWN="unknown",G.OBJECT_NOT_FOUND="object-not-found",G.BUCKET_NOT_FOUND="bucket-not-found",G.PROJECT_NOT_FOUND="project-not-found",G.QUOTA_EXCEEDED="quota-exceeded",G.UNAUTHENTICATED="unauthenticated",G.UNAUTHORIZED="unauthorized",G.UNAUTHORIZED_APP="unauthorized-app",G.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",G.INVALID_CHECKSUM="invalid-checksum",G.CANCELED="canceled",G.INVALID_EVENT_NAME="invalid-event-name",G.INVALID_URL="invalid-url",G.INVALID_DEFAULT_BUCKET="invalid-default-bucket",G.NO_DEFAULT_BUCKET="no-default-bucket",G.CANNOT_SLICE_BLOB="cannot-slice-blob",G.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",G.NO_DOWNLOAD_URL="no-download-url",G.INVALID_ARGUMENT="invalid-argument",G.INVALID_ARGUMENT_COUNT="invalid-argument-count",G.APP_DELETED="app-deleted",G.INVALID_ROOT_OPERATION="invalid-root-operation",G.INVALID_FORMAT="invalid-format",G.INTERNAL_ERROR="internal-error",G.UNSUPPORTED_ENVIRONMENT="unsupported-environment",G}(ae||{});function X(G){return"storage/"+G}function oe(){return new Qe(ae.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function fn(){return new Qe(ae.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jn(){return new Qe(ae.CANCELED,"User canceled the upload/download.")}function we(){return new Qe(ae.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Lt(G){return new Qe(ae.INVALID_ARGUMENT,G)}function tn(){return new Qe(ae.APP_DELETED,"The Firebase app was deleted.")}function Zt(G){return new Qe(ae.INVALID_ROOT_OPERATION,"The operation '"+G+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rt(G,B){return new Qe(ae.INVALID_FORMAT,"String does not match format '"+G+"': "+B)}function _n(G){throw new Qe(ae.INTERNAL_ERROR,"Internal error: "+G)}class kn{constructor(B,w){this.bucket=B,this.path_=w}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const B=encodeURIComponent;return"/b/"+B(this.bucket)+"/o/"+B(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(B,w){let E;try{E=kn.makeFromUrl(B,w)}catch{return new kn(B,"")}if(""===E.path)return E;throw function De(G){return new Qe(ae.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+G+"'.")}(B)}static makeFromUrl(B,w){let E=null;const F="([A-Za-z0-9.\\-_]+)",gt=new RegExp("^gs://"+F+"(/(.*))?$","i");function mn(wi){wi.path_=decodeURIComponent(wi.path)}const Qr=w.replace(/[.]/g,"\\."),Hr=[{regex:gt,indices:{bucket:1,path:3},postModify:function R(wi){"/"===wi.path.charAt(wi.path.length-1)&&(wi.path_=wi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Qr}/v[A-Za-z0-9_]+/b/${F}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:mn},{regex:new RegExp(`^https?://${w===Be?"(?:storage.googleapis.com|storage.cloud.google.com)":w}/${F}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:mn}];for(let wi=0;wi<Hr.length;wi++){const Jo=Hr[wi],zo=Jo.regex.exec(B);if(zo){let ro=zo[Jo.indices.path];ro||(ro=""),E=new kn(zo[Jo.indices.bucket],ro),Jo.postModify(E);break}}if(null==E)throw function at(G){return new Qe(ae.INVALID_URL,"Invalid URL '"+G+"'.")}(B);return E}}class Hn{constructor(B){this.promise_=Promise.reject(B)}getPromise(){return this.promise_}cancel(B=!1){}}function Vt(G){return"string"==typeof G||G instanceof String}function an(G){return Mt()&&G instanceof Blob}function Mt(){return typeof Blob<"u"}function Fn(G,B,w,E){if(E<B)throw Lt(`Invalid value for '${G}'. Expected ${B} or greater.`);if(E>w)throw Lt(`Invalid value for '${G}'. Expected ${w} or less.`)}function cn(G,B,w){let E=B;return null==w&&(E=`https://${B}`),`${w}://${E}/v0${G}`}function or(G){const B=encodeURIComponent;let w="?";for(const E in G)G.hasOwnProperty(E)&&(w=w+(B(E)+"=")+B(G[E])+"&");return w=w.slice(0,-1),w}var ar=function(G){return G[G.NO_ERROR=0]="NO_ERROR",G[G.NETWORK_ERROR=1]="NETWORK_ERROR",G[G.ABORT=2]="ABORT",G}(ar||{});function Nn(G,B){const w=G>=500&&G<600,F=-1!==[408,429].indexOf(G),R=-1!==B.indexOf(G);return w||F||R}class Vn{constructor(B,w,E,F,R,Y,gt,Tt,mn,Xn,Qr,Wn=!0){this.url_=B,this.method_=w,this.headers_=E,this.body_=F,this.successCodes_=R,this.additionalRetryCodes_=Y,this.callback_=gt,this.errorCallback_=Tt,this.timeout_=mn,this.progressCallback_=Xn,this.connectionFactory_=Qr,this.retry=Wn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ni,Xr)=>{this.resolve_=ni,this.reject_=Xr,this.start_()})}start_(){const w=(E,F)=>{const R=this.resolve_,Y=this.reject_,gt=F.connection;if(F.wasSuccessCode)try{const Tt=this.callback_(gt,gt.getResponse());!function yt(G){return void 0!==G}(Tt)?R():R(Tt)}catch(Tt){Y(Tt)}else if(null!==gt){const Tt=oe();Tt.serverResponse=gt.getErrorText(),Y(this.errorCallback_?this.errorCallback_(gt,Tt):Tt)}else Y(F.canceled?this.appDelete_?tn():jn():fn())};this.canceled_?w(0,new mr(!1,null,!0)):this.backoffId_=function Le(G,B,w){let E=1,F=null,R=null,Y=!1,gt=0;function Tt(){return 2===gt}let mn=!1;function Xn(...yi){mn||(mn=!0,B.apply(null,yi))}function Qr(yi){F=setTimeout(()=>{F=null,G(ni,Tt())},yi)}function Wn(){R&&clearTimeout(R)}function ni(yi,...Qi){if(mn)return void Wn();if(yi)return Wn(),void Xn.call(null,yi,...Qi);if(Tt()||Y)return Wn(),void Xn.call(null,yi,...Qi);let Hr;E<64&&(E*=2),1===gt?(gt=2,Hr=0):Hr=1e3*(E+Math.random()),Qr(Hr)}let Xr=!1;function Kr(yi){Xr||(Xr=!0,Wn(),!mn&&(null!==F?(yi||(gt=2),clearTimeout(F),Qr(0)):yi||(gt=1)))}return Qr(0),R=setTimeout(()=>{Y=!0,Kr(!0)},w),Kr}((E,F)=>{if(F)return void E(!1,new mr(!1,null,!0));const R=this.connectionFactory_();this.pendingConnection_=R;const Y=gt=>{null!==this.progressCallback_&&this.progressCallback_(gt.loaded,gt.lengthComputable?gt.total:-1)};null!==this.progressCallback_&&R.addUploadProgressListener(Y),R.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&R.removeUploadProgressListener(Y),this.pendingConnection_=null;const gt=R.getErrorCode()===ar.NO_ERROR,Tt=R.getStatus();if(!gt||Nn(Tt,this.additionalRetryCodes_)&&this.retry){const Xn=R.getErrorCode()===ar.ABORT;return void E(!1,new mr(!1,null,Xn))}const mn=-1!==this.successCodes_.indexOf(Tt);E(!0,new mr(mn,R))})},w,this.timeout_)}getPromise(){return this.promise_}cancel(B){this.canceled_=!0,this.appDelete_=B||!1,null!==this.backoffId_&&function _t(G){G(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class mr{constructor(B,w,E){this.wasSuccessCode=B,this.connection=w,this.canceled=!!E}}function Br(...G){const B=function Tn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==B){const w=new B;for(let E=0;E<G.length;E++)w.append(G[E]);return w.getBlob()}if(Mt())return new Blob(G);throw new Qe(ae.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const zr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Sr{constructor(B,w){this.data=B,this.contentType=w||null}}function ei(G,B){switch(G){case zr.RAW:return new Sr(Ar(B));case zr.BASE64:case zr.BASE64URL:return new Sr(ti(G,B));case zr.DATA_URL:return new Sr(function et(G){const B=new It(G);return B.base64?ti(zr.BASE64,B.rest):function oi(G){let B;try{B=decodeURIComponent(G)}catch{throw Rt(zr.DATA_URL,"Malformed data URL.")}return Ar(B)}(B.rest)}(B),function Dt(G){return new It(G).contentType}(B))}throw oe()}function Ar(G){const B=[];for(let w=0;w<G.length;w++){let E=G.charCodeAt(w);E<=127?B.push(E):E<=2047?B.push(192|E>>6,128|63&E):55296==(64512&E)?w<G.length-1&&56320==(64512&G.charCodeAt(w+1))?(E=65536|(1023&E)<<10|1023&G.charCodeAt(++w),B.push(240|E>>18,128|E>>12&63,128|E>>6&63,128|63&E)):B.push(239,191,189):56320==(64512&E)?B.push(239,191,189):B.push(224|E>>12,128|E>>6&63,128|63&E)}return new Uint8Array(B)}function ti(G,B){switch(G){case zr.BASE64:{const F=-1!==B.indexOf("-"),R=-1!==B.indexOf("_");if(F||R)throw Rt(G,"Invalid character '"+(F?"-":"_")+"' found: is it base64url encoded?");break}case zr.BASE64URL:{const F=-1!==B.indexOf("+"),R=-1!==B.indexOf("/");if(F||R)throw Rt(G,"Invalid character '"+(F?"+":"/")+"' found: is it base64 encoded?");B=B.replace(/-/g,"+").replace(/_/g,"/");break}}let w;try{w=function $r(G){if(typeof atob>"u")throw function Ie(G){return new Qe(ae.UNSUPPORTED_ENVIRONMENT,`${G} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(G)}(B)}catch(F){throw F.message.includes("polyfill")?F:Rt(G,"Invalid character found")}const E=new Uint8Array(w.length);for(let F=0;F<w.length;F++)E[F]=w.charCodeAt(F);return E}class It{constructor(B){this.base64=!1,this.contentType=null;const w=B.match(/^data:([^,]+)?,/);if(null===w)throw Rt(zr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const E=w[1]||null;null!=E&&(this.base64=function Xe(G,B){return G.length>=B.length&&G.substring(G.length-B.length)===B}(E,";base64"),this.contentType=this.base64?E.substring(0,E.length-7):E),this.rest=B.substring(B.indexOf(",")+1)}}class te{constructor(B,w){let E=0,F="";an(B)?(this.data_=B,E=B.size,F=B.type):B instanceof ArrayBuffer?(w?this.data_=new Uint8Array(B):(this.data_=new Uint8Array(B.byteLength),this.data_.set(new Uint8Array(B))),E=this.data_.length):B instanceof Uint8Array&&(w?this.data_=B:(this.data_=new Uint8Array(B.length),this.data_.set(B)),E=B.length),this.size_=E,this.type_=F}size(){return this.size_}type(){return this.type_}slice(B,w){if(an(this.data_)){const F=function Ln(G,B,w){return G.webkitSlice?G.webkitSlice(B,w):G.mozSlice?G.mozSlice(B,w):G.slice?G.slice(B,w):null}(this.data_,B,w);return null===F?null:new te(F)}{const E=new Uint8Array(this.data_.buffer,B,w-B);return new te(E,!0)}}static getBlob(...B){if(Mt()){const w=B.map(E=>E instanceof te?E.data_:E);return new te(Br.apply(null,w))}{const w=B.map(Y=>Vt(Y)?ei(zr.RAW,Y).data:Y.data_);let E=0;w.forEach(Y=>{E+=Y.byteLength});const F=new Uint8Array(E);let R=0;return w.forEach(Y=>{for(let gt=0;gt<Y.length;gt++)F[R++]=Y[gt]}),new te(F,!0)}}uploadData(){return this.data_}}function se(G){let B;try{B=JSON.parse(G)}catch{return null}return function qt(G){return"object"==typeof G&&!Array.isArray(G)}(B)?B:null}function Je(G){const B=G.lastIndexOf("/",G.length-2);return-1===B?G:G.slice(B+1)}function Kt(G,B){return B}class dn{constructor(B,w,E,F){this.server=B,this.local=w||B,this.writable=!!E,this.xform=F||Kt}}let Pn=null;function nr(){if(Pn)return Pn;const G=[];G.push(new dn("bucket")),G.push(new dn("generation")),G.push(new dn("metageneration")),G.push(new dn("name","fullPath",!0));const w=new dn("name");w.xform=function B(R,Y){return function _r(G){return!Vt(G)||G.length<2?G:Je(G)}(Y)},G.push(w);const F=new dn("size");return F.xform=function E(R,Y){return void 0!==Y?Number(Y):Y},G.push(F),G.push(new dn("timeCreated")),G.push(new dn("updated")),G.push(new dn("md5Hash",null,!0)),G.push(new dn("cacheControl",null,!0)),G.push(new dn("contentDisposition",null,!0)),G.push(new dn("contentEncoding",null,!0)),G.push(new dn("contentLanguage",null,!0)),G.push(new dn("contentType",null,!0)),G.push(new dn("metadata","customMetadata",!0)),Pn=G,Pn}function Gr(G,B,w){const E=se(B);return null===E?null:function wn(G,B,w){const E={type:"file"},F=w.length;for(let R=0;R<F;R++){const Y=w[R];E[Y.local]=Y.xform(E,B[Y.server])}return function Rr(G,B){Object.defineProperty(G,"ref",{get:function w(){const R=new kn(G.bucket,G.fullPath);return B._makeStorageReference(R)}})}(E,G),E}(G,E,w)}function rr(G,B){const w={},E=B.length;for(let F=0;F<E;F++){const R=B[F];R.writable&&(w[R.server]=G[R.local])}return JSON.stringify(w)}const Zn="prefixes",ft="items";class nn{constructor(B,w,E,F){this.url=B,this.method=w,this.handler=E,this.timeout=F,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function bn(G){if(!G)throw oe()}function xn(G,B){return function w(E,F){const R=Gr(G,F,B);return bn(null!==R),R}}function ir(G){return function B(w,E){let F;return F=401===w.getStatus()?w.getErrorText().includes("Firebase App Check token is invalid")?function ut(){return new Qe(ae.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function ot(){return new Qe(ae.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===w.getStatus()?function je(G){return new Qe(ae.QUOTA_EXCEEDED,"Quota for bucket '"+G+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(G.bucket):403===w.getStatus()?function kt(G){return new Qe(ae.UNAUTHORIZED,"User does not have permission to access '"+G+"'.")}(G.path):E,F.status=w.getStatus(),F.serverResponse=E.serverResponse,F}}function cr(G){const B=ir(G);return function w(E,F){let R=B(E,F);return 404===E.getStatus()&&(R=function Se(G){return new Qe(ae.OBJECT_NOT_FOUND,"Object '"+G+"' does not exist.")}(G.path)),R.serverResponse=F.serverResponse,R}}function bi(G,B,w){const F=cn(B.fullServerUrl(),G.host,G._protocol),Y=G.maxOperationRetryTime,gt=new nn(F,"GET",xn(G,w),Y);return gt.errorHandler=cr(B),gt}function Vi(G,B,w,E,F){const R={};R.prefix=B.isRoot?"":B.path+"/",w&&w.length>0&&(R.delimiter=w),E&&(R.pageToken=E),F&&(R.maxResults=F);const gt=cn(B.bucketOnlyServerUrl(),G.host,G._protocol),mn=G.maxOperationRetryTime,Xn=new nn(gt,"GET",function zn(G,B){return function w(E,F){const R=function Pt(G,B,w){const E=se(w);return null===E?null:function ct(G,B,w){const E={prefixes:[],items:[],nextPageToken:w.nextPageToken};if(w[Zn])for(const F of w[Zn]){const R=F.replace(/\/$/,""),Y=G._makeStorageReference(new kn(B,R));E.prefixes.push(Y)}if(w[ft])for(const F of w[ft]){const R=G._makeStorageReference(new kn(B,F.name));E.items.push(R)}return E}(G,B,E)}(G,B,F);return bn(null!==R),R}}(G,B.bucket),mn);return Xn.urlParams=R,Xn.errorHandler=ir(B),Xn}function Dr(G,B,w){const E=Object.assign({},w);return E.fullPath=G.path,E.size=B.size(),E.contentType||(E.contentType=function lr(G,B){return G&&G.contentType||B&&B.type()||"application/octet-stream"}(null,B)),E}class me{constructor(B,w,E,F){this.current=B,this.total=w,this.finalized=!!E,this.metadata=F||null}}function q(G,B){let w=null;try{w=G.getResponseHeader("X-Goog-Upload-Status")}catch{bn(!1)}return bn(!!w&&-1!==(B||["active"]).indexOf(w)),w}const un={STATE_CHANGED:"state_changed"},gn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Un(G){switch(G){case"running":case"pausing":case"canceling":return gn.RUNNING;case"paused":return gn.PAUSED;case"success":return gn.SUCCESS;case"canceled":return gn.CANCELED;default:return gn.ERROR}}class ui{constructor(B,w,E){if(function jt(G){return"function"==typeof G}(B)||null!=w||null!=E)this.next=B,this.error=null!=w?w:void 0,this.complete=null!=E?E:void 0;else{const R=B;this.next=R.next,this.error=R.error,this.complete=R.complete}}}function pt(G){return(...B)=>{Promise.resolve().then(()=>G(...B))}}let j=null;class J{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ar.NO_ERROR,this.sendPromise_=new Promise(B=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ar.ABORT,B()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ar.NETWORK_ERROR,B()}),this.xhr_.addEventListener("load",()=>{B()})})}send(B,w,E,F){if(this.sent_)throw _n("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(w,B,!0),void 0!==F)for(const R in F)F.hasOwnProperty(R)&&this.xhr_.setRequestHeader(R,F[R].toString());return void 0!==E?this.xhr_.send(E):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _n("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _n("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _n("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _n("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(B){return this.xhr_.getResponseHeader(B)}addUploadProgressListener(B){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",B)}removeUploadProgressListener(B){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",B)}}class Ue extends J{initXhr(){this.xhr_.responseType="text"}}function He(){return j?j():new Ue}class $t{constructor(B,w,E=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=B,this._blob=w,this._metadata=E,this._mappings=nr(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=F=>{if(this._request=void 0,this._chunkMultiplier=1,F._codeEquals(ae.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const R=this.isExponentialBackoffExpired();if(Nn(F.status,[])){if(!R)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();F=fn()}this._error=F,this._transition("error")}},this._metadataErrorHandler=F=>{this._request=void 0,F._codeEquals(ae.CANCELED)?this.completeTransitions_():(this._error=F,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((F,R)=>{this._resolve=F,this._reject=R,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const B=this._transferred;return w=>this._updateProgress(B+w)}_shouldDoResumable(B){return B.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(B){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([w,E])=>{switch(this._state){case"running":B(w,E);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((B,w)=>{const E=function he(G,B,w,E,F){const R=B.bucketOnlyServerUrl(),Y=Dr(B,E,F),gt={name:Y.fullPath},Tt=cn(R,G.host,G._protocol),Xn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${E.size()}`,"X-Goog-Upload-Header-Content-Type":Y.contentType,"Content-Type":"application/json; charset=utf-8"},Qr=rr(Y,w),Xr=new nn(Tt,"POST",function ni(Kr){let yi;q(Kr);try{yi=Kr.getResponseHeader("X-Goog-Upload-URL")}catch{bn(!1)}return bn(Vt(yi)),yi},G.maxUploadRetryTime);return Xr.urlParams=gt,Xr.headers=Xn,Xr.body=Qr,Xr.errorHandler=ir(B),Xr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),F=this._ref.storage._makeRequest(E,He,B,w);this._request=F,F.getPromise().then(R=>{this._request=void 0,this._uploadUrl=R,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const B=this._uploadUrl;this._resolveToken((w,E)=>{const F=function st(G,B,w,E){const Tt=new nn(w,"POST",function R(mn){const Xn=q(mn,["active","final"]);let Qr=null;try{Qr=mn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{bn(!1)}Qr||bn(!1);const Wn=Number(Qr);return bn(!isNaN(Wn)),new me(Wn,E.size(),"final"===Xn)},G.maxUploadRetryTime);return Tt.headers={"X-Goog-Upload-Command":"query"},Tt.errorHandler=ir(B),Tt}(this._ref.storage,this._ref._location,B,this._blob),R=this._ref.storage._makeRequest(F,He,w,E);this._request=R,R.getPromise().then(Y=>{this._request=void 0,this._updateProgress(Y.current),this._needToFetchStatus=!1,Y.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const B=262144*this._chunkMultiplier,w=new me(this._transferred,this._blob.size()),E=this._uploadUrl;this._resolveToken((F,R)=>{let Y;try{Y=function Wt(G,B,w,E,F,R,Y,gt){const Tt=new me(0,0);if(Y?(Tt.current=Y.current,Tt.total=Y.total):(Tt.current=0,Tt.total=E.size()),E.size()!==Tt.total)throw function Ne(){return new Qe(ae.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const mn=Tt.total-Tt.current;let Xn=mn;F>0&&(Xn=Math.min(Xn,F));const Qr=Tt.current;let ni="";ni=0===Xn?"finalize":mn===Xn?"upload, finalize":"upload";const Xr={"X-Goog-Upload-Command":ni,"X-Goog-Upload-Offset":`${Tt.current}`},Kr=E.slice(Qr,Qr+Xn);if(null===Kr)throw we();const Hr=new nn(w,"POST",function yi(wi,Jo){const zo=q(wi,["active","final"]),Zi=Tt.current+Xn,ro=E.size();let No;return No="final"===zo?xn(B,R)(wi,Jo):null,new me(Zi,ro,"final"===zo,No)},B.maxUploadRetryTime);return Hr.headers=Xr,Hr.body=Kr.uploadData(),Hr.progressCallback=gt||null,Hr.errorHandler=ir(G),Hr}(this._ref._location,this._ref.storage,E,this._blob,B,this._mappings,w,this._makeProgressCallback())}catch(Tt){return this._error=Tt,void this._transition("error")}const gt=this._ref.storage._makeRequest(Y,He,F,R,!1);this._request=gt,gt.getPromise().then(Tt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Tt.current),Tt.finalized?(this._metadata=Tt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((B,w)=>{const E=bi(this._ref.storage,this._ref._location,this._mappings),F=this._ref.storage._makeRequest(E,He,B,w);this._request=F,F.getPromise().then(R=>{this._request=void 0,this._metadata=R,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((B,w)=>{const E=function _e(G,B,w,E,F){const R=B.bucketOnlyServerUrl(),Y={"X-Goog-Upload-Protocol":"multipart"},Tt=function gt(){let Hr="";for(let wi=0;wi<2;wi++)Hr+=Math.random().toString().slice(2);return Hr}();Y["Content-Type"]="multipart/related; boundary="+Tt;const mn=Dr(B,E,F),Xn=rr(mn,w),ni=te.getBlob("--"+Tt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Xn+"\r\n--"+Tt+"\r\nContent-Type: "+mn.contentType+"\r\n\r\n",E,"\r\n--"+Tt+"--");if(null===ni)throw we();const Xr={name:mn.fullPath},Kr=cn(R,G.host,G._protocol),Qi=G.maxUploadRetryTime,Xi=new nn(Kr,"POST",xn(G,w),Qi);return Xi.urlParams=Xr,Xi.headers=Y,Xi.body=ni.uploadData(),Xi.errorHandler=ir(B),Xi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),F=this._ref.storage._makeRequest(E,He,B,w);this._request=F,F.getPromise().then(R=>{this._request=void 0,this._metadata=R,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(B){const w=this._transferred;this._transferred=B,this._transferred!==w&&this._notifyObservers()}_transition(B){if(this._state!==B)switch(B){case"canceling":case"pausing":this._state=B,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const w="paused"===this._state;this._state=B,w&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=B,this._notifyObservers();break;case"canceled":this._error=jn(),this._state=B,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const B=Un(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:B,metadata:this._metadata,task:this,ref:this._ref}}on(B,w,E,F){const R=new ui(w||void 0,E||void 0,F||void 0);return this._addObserver(R),()=>{this._removeObserver(R)}}then(B,w){return this._promise.then(B,w)}catch(B){return this.then(null,B)}_addObserver(B){this._observers.push(B),this._notifyObserver(B)}_removeObserver(B){const w=this._observers.indexOf(B);-1!==w&&this._observers.splice(w,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(w=>{this._notifyObserver(w)})}_finishPromise(){if(void 0!==this._resolve){let B=!0;switch(Un(this._state)){case gn.SUCCESS:pt(this._resolve.bind(null,this.snapshot))();break;case gn.CANCELED:case gn.ERROR:pt(this._reject.bind(null,this._error))();break;default:B=!1}B&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(B){switch(Un(this._state)){case gn.RUNNING:case gn.PAUSED:B.next&&pt(B.next.bind(B,this.snapshot))();break;case gn.SUCCESS:B.complete&&pt(B.complete.bind(B))();break;default:B.error&&pt(B.error.bind(B,this._error))()}}resume(){const B="paused"===this._state||"pausing"===this._state;return B&&this._transition("running"),B}pause(){const B="running"===this._state;return B&&this._transition("pausing"),B}cancel(){const B="running"===this._state||"pausing"===this._state;return B&&this._transition("canceling"),B}}class wt{constructor(B,w){this._service=B,this._location=w instanceof kn?w:kn.makeFromUrl(w,B.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(B,w){return new wt(B,w)}get root(){const B=new kn(this._location.bucket,"");return this._newRef(this._service,B)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Je(this._location.path)}get storage(){return this._service}get parent(){const B=function Ce(G){if(0===G.length)return null;const B=G.lastIndexOf("/");return-1===B?"":G.slice(0,B)}(this._location.path);if(null===B)return null;const w=new kn(this._location.bucket,B);return new wt(this._service,w)}_throwIfRoot(B){if(""===this._location.path)throw Zt(B)}}function T(G,B,w){return re.apply(this,arguments)}function re(){return(re=(0,Ae.c)(function*(G,B,w){const F=yield x(G,{pageToken:w});B.prefixes.push(...F.prefixes),B.items.push(...F.items),null!=F.nextPageToken&&(yield T(G,B,F.nextPageToken))})).apply(this,arguments)}function x(G,B){null!=B&&"number"==typeof B.maxResults&&Fn("options.maxResults",1,1e3,B.maxResults);const w=B||{},E=Vi(G.storage,G._location,"/",w.pageToken,w.maxResults);return G.storage.makeRequestWithTokens(E,He)}function Yt(G){G._throwIfRoot("getDownloadURL");const B=function Oi(G,B,w){const F=cn(B.fullServerUrl(),G.host,G._protocol),Y=G.maxOperationRetryTime,gt=new nn(F,"GET",function Cr(G,B){return function w(E,F){const R=Gr(G,F,B);return bn(null!==R),function ji(G,B,w,E){const F=se(B);if(null===F||!Vt(F.downloadTokens))return null;const R=F.downloadTokens;if(0===R.length)return null;const Y=encodeURIComponent;return R.split(",").map(mn=>{const Qr=G.fullPath;return cn("/b/"+Y(G.bucket)+"/o/"+Y(Qr),w,E)+or({alt:"media",token:mn})})[0]}(R,F,G.host,G._protocol)}}(G,w),Y);return gt.errorHandler=cr(B),gt}(G.storage,G._location,nr());return G.storage.makeRequestWithTokens(B,He).then(w=>{if(null===w)throw function nt(){return new Qe(ae.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return w})}function si(G,B){const w=function $e(G,B){const w=B.split("/").filter(E=>E.length>0).join("/");return 0===G.length?w:G+"/"+w}(G._location.path,B),E=new kn(G._location.bucket,w);return new wt(G.storage,E)}function Hi(G,B){if(G instanceof An){const w=G;if(null==w._bucket)throw function fe(){return new Qe(ae.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vt+"' property when initializing the app?")}();const E=new wt(w,w._bucket);return null!=B?Hi(E,B):E}return void 0!==B?si(G,B):G}function jr(G,B){if(B&&function wr(G){return/^[A-Za-z]+:\/\//.test(G)}(B)){if(G instanceof An)return function Mi(G,B){return new wt(G,B)}(G,B);throw Lt("To use ref(service, url), the first argument must be a Storage instance.")}return Hi(G,B)}function ci(G,B){const w=null==B?void 0:B[vt];return null==w?null:kn.makeFromBucketSpec(w,G)}class An{constructor(B,w,E,F,R){this.app=B,this._authProvider=w,this._appCheckProvider=E,this._url=F,this._firebaseVersion=R,this._bucket=null,this._host=Be,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=F?kn.makeFromBucketSpec(F,this._host):ci(this._host,this.app.options)}get host(){return this._host}set host(B){this._host=B,this._bucket=null!=this._url?kn.makeFromBucketSpec(this._url,B):ci(B,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(B){Fn("time",0,Number.POSITIVE_INFINITY,B),this._maxUploadRetryTime=B}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(B){Fn("time",0,Number.POSITIVE_INFINITY,B),this._maxOperationRetryTime=B}_getAuthToken(){var B=this;return(0,Ae.c)(function*(){if(B._overrideAuthToken)return B._overrideAuthToken;const w=B._authProvider.getImmediate({optional:!0});if(w){const E=yield w.getToken();if(null!==E)return E.accessToken}return null})()}_getAppCheckToken(){var B=this;return(0,Ae.c)(function*(){const w=B._appCheckProvider.getImmediate({optional:!0});return w?(yield w.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(B=>B.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(B){return new wt(this,B)}_makeRequest(B,w,E,F,R=!0){if(this._deleted)return new Hn(tn());{const Y=function Dn(G,B,w,E,F,R,Y=!0){const gt=or(G.urlParams),Tt=G.url+gt,mn=Object.assign({},G.headers);return function On(G,B){B&&(G["X-Firebase-GMPID"]=B)}(mn,B),function fi(G,B){null!==B&&B.length>0&&(G.Authorization="Firebase "+B)}(mn,w),function Ur(G,B){G["X-Firebase-Storage-Version"]="webjs/"+(null!=B?B:"AppManager")}(mn,R),function kr(G,B){null!==B&&(G["X-Firebase-AppCheck"]=B)}(mn,E),new Vn(Tt,G.method,mn,G.body,G.successCodes,G.additionalRetryCodes,G.handler,G.errorHandler,G.timeout,G.progressCallback,F,Y)}(B,this._appId,E,F,w,this._firebaseVersion,R);return this._requests.add(Y),Y.getPromise().then(()=>this._requests.delete(Y),()=>this._requests.delete(Y)),Y}}makeRequestWithTokens(B,w){var E=this;return(0,Ae.c)(function*(){const[F,R]=yield Promise.all([E._getAuthToken(),E._getAppCheckToken()]);return E._makeRequest(B,w,F,R).getPromise()})()}}const go="@firebase/storage";function ds(G,B){return jr(G=(0,Pe.Yj)(G),B)}function Co(G,{instanceIdentifier:B}){const w=G.getProvider("app").getImmediate(),E=G.getProvider("auth-internal"),F=G.getProvider("app-check-internal");return new An(w,E,F,B,rt.SDK_VERSION)}!function Di(){(0,rt._registerComponent)(new Me.Yl("storage",Co,"PUBLIC").setMultipleInstances(!0)),(0,rt.registerVersion)(go,"0.12.1",""),(0,rt.registerVersion)(go,"0.12.1","esm2017")}();class Si{constructor(B,w,E){this._delegate=B,this.task=w,this.ref=E}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Do{constructor(B,w){this._delegate=B,this._ref=w,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Si(this._delegate.snapshot,this,this._ref)}then(B,w){return this._delegate.then(E=>{if(B)return B(new Si(E,this,this._ref))},w)}on(B,w,E,F){let R;return w&&(R="function"==typeof w?Y=>w(new Si(Y,this,this._ref)):{next:w.next?Y=>w.next(new Si(Y,this,this._ref)):void 0,complete:w.complete||void 0,error:w.error||void 0}),this._delegate.on(B,R,E||void 0,F||void 0)}}class Yi{constructor(B,w){this._delegate=B,this._service=w}get prefixes(){return this._delegate.prefixes.map(B=>new ki(B,this._service))}get items(){return this._delegate.items.map(B=>new ki(B,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ki{constructor(B,w){this._delegate=B,this.storage=w}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(B){const w=function Ro(G,B){return si(G,B)}(this._delegate,B);return new ki(w,this.storage)}get root(){return new ki(this._delegate.root,this.storage)}get parent(){const B=this._delegate.parent;return null==B?null:new ki(B,this.storage)}put(B,w){return this._throwIfRoot("put"),new Do(function Wi(G,B,w){return function qn(G,B,w){return G._throwIfRoot("uploadBytesResumable"),new $t(G,new te(B),w)}(G=(0,Pe.Yj)(G),B,w)}(this._delegate,B,w),this)}putString(B,w=zr.RAW,E){this._throwIfRoot("putString");const F=ei(w,B),R=Object.assign({},E);return null==R.contentType&&null!=F.contentType&&(R.contentType=F.contentType),new Do(new $t(this._delegate,new te(F.data,!0),R),this)}listAll(){return function zi(G){return function qr(G){const B={prefixes:[],items:[]};return T(G,B).then(()=>B)}(G=(0,Pe.Yj)(G))}(this._delegate).then(B=>new Yi(B,this.storage))}list(B){return function Eo(G,B){return x(G=(0,Pe.Yj)(G),B)}(this._delegate,B||void 0).then(w=>new Yi(w,this.storage))}getMetadata(){return function Ci(G){return function ne(G){G._throwIfRoot("getMetadata");const B=bi(G.storage,G._location,nr());return G.storage.makeRequestWithTokens(B,He)}(G=(0,Pe.Yj)(G))}(this._delegate)}updateMetadata(B){return function Xo(G,B){return function Ee(G,B){G._throwIfRoot("updateMetadata");const w=function Ai(G,B,w,E){const R=cn(B.fullServerUrl(),G.host,G._protocol),gt=rr(w,E),mn=G.maxOperationRetryTime,Xn=new nn(R,"PATCH",xn(G,E),mn);return Xn.headers={"Content-Type":"application/json; charset=utf-8"},Xn.body=gt,Xn.errorHandler=cr(B),Xn}(G.storage,G._location,B,nr());return G.storage.makeRequestWithTokens(w,He)}(G=(0,Pe.Yj)(G),B)}(this._delegate,B)}getDownloadURL(){return function co(G){return Yt(G=(0,Pe.Yj)(G))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Yn(G){return function dr(G){G._throwIfRoot("deleteObject");const B=function Nr(G,B){const E=cn(B.fullServerUrl(),G.host,G._protocol),gt=new nn(E,"DELETE",function Y(Tt,mn){},G.maxOperationRetryTime);return gt.successCodes=[200,204],gt.errorHandler=cr(B),gt}(G.storage,G._location);return G.storage.makeRequestWithTokens(B,He)}(G=(0,Pe.Yj)(G))}(this._delegate)}_throwIfRoot(B){if(""===this._delegate._location.path)throw Zt(B)}}class _i{constructor(B,w){this.app=B,this._delegate=w}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(B){if(li(B))throw Lt("ref() expected a child path but got a URL, use refFromURL instead.");return new ki(ds(this._delegate,B),this)}refFromURL(B){if(!li(B))throw Lt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{kn.makeFromUrl(B,this._delegate.host)}catch{throw Lt("refFromUrl() expected a valid full URL but got an invalid one.")}return new ki(ds(this._delegate,B),this)}setMaxUploadRetryTime(B){this._delegate.maxUploadRetryTime=B}setMaxOperationRetryTime(B){this._delegate.maxOperationRetryTime=B}useEmulator(B,w,E={}){!function Mo(G,B,w,E={}){!function to(G,B,w,E={}){G.host=`${B}:${w}`,G._protocol="http";const{mockUserToken:F}=E;F&&(G._overrideAuthToken="string"==typeof F?F:(0,Pe.YD)(F,G.app.options.projectId))}(G,B,w,E)}(this._delegate,B,w,E)}}function li(G){return/^[A-Za-z]+:\/\//.test(G)}function js(G,{instanceIdentifier:B}){const w=G.getProvider("app-compat").getImmediate(),E=G.getProvider("storage").getImmediate({identifier:B});return new _i(w,E)}!function Ms(G){const B={TaskState:gn,TaskEvent:un,StringFormat:zr,Storage:_i,Reference:ki};G.INTERNAL.registerComponent(new Me.Yl("storage-compat",js,"PUBLIC").setServiceProps(B).setMultipleInstances(!0)),G.registerVersion("@firebase/storage-compat","0.3.4")}(ke.c);var Hs=k(9252);function Zo(G){const B=function no(G){return new K._(B=>{const w=Y=>B.next(Y);w(G.snapshot);const R=G.on("state_changed",w);return G.then(Y=>{w(Y),B.complete()},Y=>{w(G.snapshot),(Y=>{B.error(Y)})(Y)}),function(){R()}}).pipe(function ze(G,B=pe.M){return(0,ce.i)((w,E)=>{let F=null,R=null,Y=null;const gt=()=>{if(F){F.unsubscribe(),F=null;const mn=R;R=null,E.next(mn)}};function Tt(){const mn=Y+G,Xn=B.now();if(Xn<mn)return F=this.schedule(void 0,mn-Xn),void E.add(F);gt()}w.subscribe((0,We.e)(E,mn=>{R=mn,Y=B.now(),F||(F=B.schedule(Tt,G),E.add(F))},()=>{gt(),E.complete()},void 0,()=>{R=F=null}))})}(0))}(G);return{task:G,then:G.then.bind(G),catch:G.catch.bind(G),pause:G.pause.bind(G),cancel:G.cancel.bind(G),resume:G.resume.bind(G),snapshotChanges:()=>B,percentageChanges:()=>B.pipe((0,ge.k)(w=>w.bytesTransferred/w.totalBytes*100))}}function Ho(G){return{getDownloadURL:()=>(0,le.of)(void 0).pipe(z.QT,(0,ue.G)(()=>G.getDownloadURL()),z.wH),getMetadata:()=>(0,le.of)(void 0).pipe(z.QT,(0,ue.G)(()=>G.getMetadata()),z.wH),delete:()=>(0,be.Q)(G.delete()),child:B=>Ho(G.child(B)),updateMetadata:B=>(0,be.Q)(G.updateMetadata(B)),put:(B,w)=>Zo(G.put(B,w)),putString:(B,w,E)=>Zo(G.putString(B,w,E)),list:B=>(0,be.Q)(G.list(B)),listAll:()=>(0,be.Q)(G.listAll())}}const xo=new Re.UbH("angularfire2.storageBucket"),Ds=new Re.UbH("angularfire2.storage.maxUploadRetryTime"),di=new Re.UbH("angularfire2.storage.maxOperationRetryTime"),ho=new Re.UbH("angularfire2.storage.use-emulator");let Wo=(()=>{var G;class B{constructor(E,F,R,Y,gt,Tt,mn,Xn,Qr,Wn){(0,u.c)(this,"storage",void 0);const ni=(0,Fe._G)(E,gt,F);this.storage=(0,Fe.PQ)(`${ni.name}.storage.${R}`,"AngularFireStorage",ni.name,()=>{const Xr=gt.runOutsideAngular(()=>ni.storage(R||void 0)),Kr=Qr;return Kr&&Xr.useEmulator(...Kr),mn&&Xr.setMaxUploadRetryTime(mn),Xn&&Xr.setMaxOperationRetryTime(Xn),Xr},[mn,Xn])}ref(E){return Ho(this.storage.ref(E))}refFromURL(E){return Ho(this.storage.refFromURL(E))}upload(E,F,R){return Ho(this.storage.ref(E)).put(F,R)}}return G=B,(0,u.c)(B,"\u0275fac",function(E){return new(E||G)(Re.CoB(Fe.E9),Re.CoB(Fe.Ml,8),Re.CoB(xo,8),Re.CoB(Re.AHE),Re.CoB(Re.WW2),Re.CoB(z.u),Re.CoB(Ds,8),Re.CoB(di,8),Re.CoB(ho,8),Re.CoB(z.gJ,8))}),(0,u.c)(B,"\u0275prov",Re.wxM({token:G,factory:G.\u0275fac,providedIn:"any"})),B})(),xa=(()=>{var G;class B{}return G=B,(0,u.c)(B,"\u0275fac",function(E){return new(E||G)}),(0,u.c)(B,"\u0275mod",Re.a4G({type:G})),(0,u.c)(B,"\u0275inj",Re.s3X({})),B})(),Ws=(()=>{var G;class B{constructor(){Hs.c.registerVersion("angularfire",z.j1.full,"gcs-compat")}}return G=B,(0,u.c)(B,"\u0275fac",function(E){return new(E||G)}),(0,u.c)(B,"\u0275mod",Re.a4G({type:G})),(0,u.c)(B,"\u0275inj",Re.s3X({providers:[Wo],imports:[xa]})),B})()},6e3:(on,it,k)=>{"use strict";k.d(it,{E9:()=>ze,Ml:()=>ge,PQ:()=>Ae,UN:()=>ke,_G:()=>ue,_w:()=>pe,rh:()=>ce});var u=k(4580),z=k(4496),K=k(7900),le=k(9252);const be=["ngOnDestroy"],pe=(Be,vt,Ke,Ve={})=>new Proxy(Be,{get:(Oe,Qe)=>Ke.runOutsideAngular(()=>{var ae;if(Be[Qe])return null!=Ve&&null!==(ae=Ve.spy)&&void 0!==ae&&ae.get&&Ve.spy.get(Qe,Be[Qe]),Be[Qe];if(be.indexOf(Qe)>-1)return()=>{};const X=vt.toPromise().then(oe=>{const Se=null==oe?void 0:oe[Qe];return"function"==typeof Se?Se.bind(oe):null!=Se&&Se.then?Se.then(je=>Ke.run(()=>je)):Ke.run(()=>Se)});return new Proxy(()=>{},{get:(oe,Se)=>X[Se],apply:(oe,Se,je)=>X.then(ot=>{var ut;const kt=null==ot?void 0:ot(...je);return null!=Ve&&null!==(ut=Ve.spy)&&void 0!==ut&&ut.apply&&Ve.spy.apply(Qe,je,kt),kt})})})}),ce=(Be,vt)=>{vt.forEach(Ke=>{Object.getOwnPropertyNames(Ke.prototype||Ke).forEach(Ve=>{Object.defineProperty(Be.prototype,Ve,Object.getOwnPropertyDescriptor(Ke.prototype||Ke,Ve))})})};class We{constructor(vt){return vt}}const ze=new z.UbH("angularfire2.app.options"),ge=new z.UbH("angularfire2.app.name");function ue(Be,vt,Ke){const Oe="object"==typeof Ke&&Ke||{};Oe.name=Oe.name||"string"==typeof Ke&&Ke||"[DEFAULT]";const ae=le.c.apps.filter(X=>X&&X.name===Oe.name)[0]||vt.runOutsideAngular(()=>le.c.initializeApp(Be,Oe));try{if(JSON.stringify(Be)!==JSON.stringify(ae.options)){const X=!!module.hot;Re("error",`${ae.name} Firebase App already initialized with different options${X?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new We(ae)}const Re=(Be,...vt)=>{(0,z.sPQ)()&&typeof console<"u"&&console[Be](...vt)},Fe={provide:We,useFactory:ue,deps:[ze,z.WW2,[new z.T7N,ge]]};let ke=(()=>{var Be;class vt{static initializeApp(Ve,Oe){return{ngModule:vt,providers:[{provide:ze,useValue:Ve},{provide:ge,useValue:Oe}]}}constructor(Ve){le.c.registerVersion("angularfire",K.j1.full,"core"),le.c.registerVersion("angularfire",K.j1.full,"app-compat"),le.c.registerVersion("angular",z.j1C.full,Ve.toString())}}return Be=vt,(0,u.c)(vt,"\u0275fac",function(Ve){return new(Ve||Be)(z.CoB(z.AHE))}),(0,u.c)(vt,"\u0275mod",z.a4G({type:Be})),(0,u.c)(vt,"\u0275inj",z.s3X({providers:[Fe]})),vt})();function Ae(Be,vt,Ke,Ve,Oe){const[,Qe,ae]=globalThis.\u0275AngularfireInstanceCache.find(X=>X[0]===Be)||[];if(Qe)return function rt(Be,vt){try{return Be.toString()===vt.toString()}catch{return Be===vt}}(Oe,ae)||(Me("error",`${vt} was already initialized on the ${Ke} Firebase App with different settings.${Pe?" You may need to reload as Firebase is not HMR aware.":""}`),Me("warn",{is:Oe,was:ae})),Qe;{const X=Ve();return globalThis.\u0275AngularfireInstanceCache.push([Be,X,Oe]),X}}const Pe=typeof module<"u"&&!!module.hot,Me=(Be,...vt)=>{(0,z.sPQ)()&&typeof console<"u"&&console[Be](...vt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7900:(on,it,k)=>{"use strict";k.d(it,{j1:()=>rt,wH:()=>ut,QT:()=>je,u:()=>ae,gJ:()=>vt});var u=k(4580),z=k(4496),K=k(9360);(0,K.registerVersion)("firebase","10.8.0","app");var pe=k(1364),We=k(9816);const ge=new class ze extends We.k{}(class ce extends pe.m{constructor(De,fe){super(De,fe),this.scheduler=De,this.work=fe}schedule(De,fe=0){return fe>0?super.schedule(De,fe):(this.delay=fe,this.state=De,this.scheduler.flush(this),this)}execute(De,fe){return fe>0||this.closed?super.execute(De,fe):this._execute(De,fe)}requestAsyncId(De,fe,we=0){return null!=we&&we>0||null==we&&this.delay>0?super.requestAsyncId(De,fe,we):(De.flush(this),0)}});var Re=k(112),Fe=k(9212),ke=k(3920),Ae=k(2924);const rt=new z.a8Z("ANGULARFIRE2_VERSION");class vt{constructor(){return((at,De)=>{const fe=(0,K.getApps)(),we=[];return fe.forEach(Ne=>{Ne.container.getProvider(at).instances.forEach(Ie=>{we.includes(Ie)||we.push(Ie)})}),we})(Ke)}}const Ke="app-check";function Ve(){}class Oe{constructor(De,fe=ge){(0,u.c)(this,"zone",void 0),(0,u.c)(this,"delegate",void 0),this.zone=De,this.delegate=fe}now(){return this.delegate.now()}schedule(De,fe,we){const Ne=this.zone;return this.delegate.schedule(function(Ie){Ne.runGuarded(()=>{De.apply(this,[Ie])})},fe,we)}}class Qe{constructor(De){(0,u.c)(this,"zone",void 0),(0,u.c)(this,"task",null),this.zone=De}call(De,fe){const we=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ve,{},Ve,Ve)),fe.pipe((0,Fe.y)({next:we,complete:we,error:we})).subscribe(De).add(we)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ae=(()=>{var at;class De{constructor(we){(0,u.c)(this,"ngZone",void 0),(0,u.c)(this,"outsideAngular",void 0),(0,u.c)(this,"insideAngular",void 0),this.ngZone=we,this.outsideAngular=we.runOutsideAngular(()=>new Oe(Zone.current)),this.insideAngular=we.run(()=>new Oe(Zone.current,Re.M)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return at=De,(0,u.c)(De,"\u0275fac",function(we){return new(we||at)(z.CoB(z.WW2))}),(0,u.c)(De,"\u0275prov",z.wxM({token:at,factory:at.\u0275fac,providedIn:"root"})),De})();function X(){const at=globalThis.\u0275AngularFireScheduler;if(!at)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return at}function je(at){return at.pipe((0,ke.y)(X().outsideAngular))}function ut(at){return function kt(at){return function(fe){return(fe=fe.lift(new Qe(at.ngZone))).pipe((0,Ae.y)(at.outsideAngular),(0,ke.y)(at.insideAngular))}}(X())(at)}},4716:(on,it,k)=>{"use strict";k.d(it,{y:()=>G,_t:()=>jo,Gu:()=>Co,WM:()=>Qe,Y6:()=>Ae,eq:()=>Mt,ue:()=>ar,u:()=>Nn,SC:()=>gn,_G:()=>rn,eJ:()=>Do,sz:()=>pn});var u=k(4496),z=k(1368),K=k(9900),le=k(3252),be=k(4300),pe=k(560),ce=k(9472),We=k(7773),ze=k(4187),ge=k(7904),Re=k(4704);let Fe=(()=>{var w;class E{constructor(R,Y){this._renderer=R,this._elementRef=Y,this.onChange=gt=>{},this.onTouched=()=>{}}setProperty(R,Y){this._renderer.setProperty(this._elementRef.nativeElement,R,Y)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}}return(w=E).\u0275fac=function(R){return new(R||w)(u.GI1(u.q87),u.GI1(u.GMv))},w.\u0275dir=u.Sc5({type:w}),E})(),ke=(()=>{var w;class E extends Fe{}return(w=E).\u0275fac=(()=>{let F;return function(Y){return(F||(F=u.otF(w)))(Y||w)}})(),w.\u0275dir=u.Sc5({type:w,features:[u.eg9]}),E})();const Ae=new u.UbH(""),Me={provide:Ae,useExisting:(0,u.wd)(()=>Ke),multi:!0},vt=new u.UbH("");let Ke=(()=>{var w;class E extends Fe{constructor(R,Y,gt){super(R,Y),this._compositionMode=gt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Be(){const w=(0,z.uy)()?(0,z.uy)().getUserAgent():"";return/android (\d+)/.test(w.toLowerCase())}())}writeValue(R){this.setProperty("value",null==R?"":R)}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}}return(w=E).\u0275fac=function(R){return new(R||w)(u.GI1(u.q87),u.GI1(u.GMv),u.GI1(vt,8))},w.\u0275dir=u.Sc5({type:w,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(R,Y){1&R&&u.qCj("input",function(Tt){return Y._handleInput(Tt.target.value)})("blur",function(){return Y.onTouched()})("compositionstart",function(){return Y._compositionStart()})("compositionend",function(Tt){return Y._compositionEnd(Tt.target.value)})},features:[u.M5G([Me]),u.eg9]}),E})();function Ve(w){return null==w||("string"==typeof w||Array.isArray(w))&&0===w.length}const Qe=new u.UbH(""),ae=new u.UbH("");function ot(w){return Ve(w.value)?{required:!0}:null}function De(w){return null}function fe(w){return null!=w}function we(w){return(0,u.w5$)(w)?(0,K.Q)(w):w}function Ne(w){let E={};return w.forEach(F=>{E=null!=F?{...E,...F}:E}),0===Object.keys(E).length?null:E}function nt(w,E){return E.map(F=>F(w))}function Lt(w){return w.map(E=>function Ie(w){return!w.validate}(E)?E:F=>E.validate(F))}function Zt(w){return null!=w?function tn(w){if(!w)return null;const E=w.filter(fe);return 0==E.length?null:function(F){return Ne(nt(F,E))}}(Lt(w)):null}function _n(w){return null!=w?function Rt(w){if(!w)return null;const E=w.filter(fe);return 0==E.length?null:function(F){return function ue(...w){const E=(0,ce.yu)(w),{args:F,keys:R}=(0,be.Q)(w),Y=new le._(gt=>{const{length:Tt}=F;if(!Tt)return void gt.complete();const mn=new Array(Tt);let Xn=Tt,Qr=Tt;for(let Wn=0;Wn<Tt;Wn++){let ni=!1;(0,pe.Uv)(F[Wn]).subscribe((0,We.e)(gt,Xr=>{ni||(ni=!0,Qr--),mn[Wn]=Xr},()=>Xn--,void 0,()=>{(!Xn||!ni)&&(Qr||gt.next(R?(0,ge.q)(R,mn):mn),gt.complete())}))}});return E?Y.pipe((0,ze.j)(E)):Y}(nt(F,E).map(we)).pipe((0,Re.k)(Ne))}}(Lt(w)):null}function kn(w,E){return null===w?[E]:Array.isArray(w)?[...w,E]:[w,E]}function _t(w){return w?Array.isArray(w)?w:[w]:[]}function yt(w,E){return Array.isArray(w)?w.includes(E):w===E}function jt(w,E){const F=_t(E);return _t(w).forEach(Y=>{yt(F,Y)||F.push(Y)}),F}function qt(w,E){return _t(E).filter(F=>!yt(w,F))}class Vt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(E){this._rawValidators=E||[],this._composedValidatorFn=Zt(this._rawValidators)}_setAsyncValidators(E){this._rawAsyncValidators=E||[],this._composedAsyncValidatorFn=_n(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(E){this._onDestroyCallbacks.push(E)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(E=>E()),this._onDestroyCallbacks=[]}reset(E=void 0){this.control&&this.control.reset(E)}hasError(E,F){return!!this.control&&this.control.hasError(E,F)}getError(E,F){return this.control?this.control.getError(E,F):null}}class an extends Vt{get formDirective(){return null}get path(){return null}}class Mt extends Vt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Fn{constructor(E){this._cd=E}get isTouched(){var E;return!(null===(E=this._cd)||void 0===E||null===(E=E.control)||void 0===E||!E.touched)}get isUntouched(){var E;return!(null===(E=this._cd)||void 0===E||null===(E=E.control)||void 0===E||!E.untouched)}get isPristine(){var E;return!(null===(E=this._cd)||void 0===E||null===(E=E.control)||void 0===E||!E.pristine)}get isDirty(){var E;return!(null===(E=this._cd)||void 0===E||null===(E=E.control)||void 0===E||!E.dirty)}get isValid(){var E;return!(null===(E=this._cd)||void 0===E||null===(E=E.control)||void 0===E||!E.valid)}get isInvalid(){var E;return!(null===(E=this._cd)||void 0===E||null===(E=E.control)||void 0===E||!E.invalid)}get isPending(){var E;return!(null===(E=this._cd)||void 0===E||null===(E=E.control)||void 0===E||!E.pending)}get isSubmitted(){var E;return!(null===(E=this._cd)||void 0===E||!E.submitted)}}let ar=(()=>{var w;class E extends Fn{constructor(R){super(R)}}return(w=E).\u0275fac=function(R){return new(R||w)(u.GI1(Mt,2))},w.\u0275dir=u.Sc5({type:w,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(R,Y){2&R&&u.eAK("ng-untouched",Y.isUntouched)("ng-touched",Y.isTouched)("ng-pristine",Y.isPristine)("ng-dirty",Y.isDirty)("ng-valid",Y.isValid)("ng-invalid",Y.isInvalid)("ng-pending",Y.isPending)},features:[u.eg9]}),E})(),Nn=(()=>{var w;class E extends Fn{constructor(R){super(R)}}return(w=E).\u0275fac=function(R){return new(R||w)(u.GI1(an,10))},w.\u0275dir=u.Sc5({type:w,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(R,Y){2&R&&u.eAK("ng-untouched",Y.isUntouched)("ng-touched",Y.isTouched)("ng-pristine",Y.isPristine)("ng-dirty",Y.isDirty)("ng-valid",Y.isValid)("ng-invalid",Y.isInvalid)("ng-pending",Y.isPending)("ng-submitted",Y.isSubmitted)},features:[u.eg9]}),E})();const It="VALID",et="INVALID",Dt="PENDING",Xe="DISABLED";function te(w){return(Je(w)?w.validators:w)||null}function Ce(w,E){return(Je(E)?E.asyncValidators:w)||null}function Je(w){return null!=w&&!Array.isArray(w)&&"object"==typeof w}class Pn{constructor(E,F){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(E),this._assignAsyncValidators(F)}get validator(){return this._composedValidatorFn}set validator(E){this._rawValidators=this._composedValidatorFn=E}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(E){this._rawAsyncValidators=this._composedAsyncValidatorFn=E}get parent(){return this._parent}get valid(){return this.status===It}get invalid(){return this.status===et}get pending(){return this.status==Dt}get disabled(){return this.status===Xe}get enabled(){return this.status!==Xe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(E){this._assignValidators(E)}setAsyncValidators(E){this._assignAsyncValidators(E)}addValidators(E){this.setValidators(jt(E,this._rawValidators))}addAsyncValidators(E){this.setAsyncValidators(jt(E,this._rawAsyncValidators))}removeValidators(E){this.setValidators(qt(E,this._rawValidators))}removeAsyncValidators(E){this.setAsyncValidators(qt(E,this._rawAsyncValidators))}hasValidator(E){return yt(this._rawValidators,E)}hasAsyncValidator(E){return yt(this._rawAsyncValidators,E)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(E={}){this.touched=!0,this._parent&&!E.onlySelf&&this._parent.markAsTouched(E)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(E=>E.markAllAsTouched())}markAsUntouched(E={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(F=>{F.markAsUntouched({onlySelf:!0})}),this._parent&&!E.onlySelf&&this._parent._updateTouched(E)}markAsDirty(E={}){this.pristine=!1,this._parent&&!E.onlySelf&&this._parent.markAsDirty(E)}markAsPristine(E={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(F=>{F.markAsPristine({onlySelf:!0})}),this._parent&&!E.onlySelf&&this._parent._updatePristine(E)}markAsPending(E={}){this.status=Dt,!1!==E.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!E.onlySelf&&this._parent.markAsPending(E)}disable(E={}){const F=this._parentMarkedDirty(E.onlySelf);this.status=Xe,this.errors=null,this._forEachChild(R=>{R.disable({...E,onlySelf:!0})}),this._updateValue(),!1!==E.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...E,skipPristineCheck:F}),this._onDisabledChange.forEach(R=>R(!0))}enable(E={}){const F=this._parentMarkedDirty(E.onlySelf);this.status=It,this._forEachChild(R=>{R.enable({...E,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:E.emitEvent}),this._updateAncestors({...E,skipPristineCheck:F}),this._onDisabledChange.forEach(R=>R(!1))}_updateAncestors(E){this._parent&&!E.onlySelf&&(this._parent.updateValueAndValidity(E),E.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(E){this._parent=E}getRawValue(){return this.value}updateValueAndValidity(E={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===It||this.status===Dt)&&this._runAsyncValidator(E.emitEvent)),!1!==E.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!E.onlySelf&&this._parent.updateValueAndValidity(E)}_updateTreeValidity(E={emitEvent:!0}){this._forEachChild(F=>F._updateTreeValidity(E)),this.updateValueAndValidity({onlySelf:!0,emitEvent:E.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xe:It}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(E){if(this.asyncValidator){this.status=Dt,this._hasOwnPendingAsyncValidator=!0;const F=we(this.asyncValidator(this));this._asyncValidationSubscription=F.subscribe(R=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(R,{emitEvent:E})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(E,F={}){this.errors=E,this._updateControlsErrors(!1!==F.emitEvent)}get(E){let F=E;return null==F||(Array.isArray(F)||(F=F.split(".")),0===F.length)?null:F.reduce((R,Y)=>R&&R._find(Y),this)}getError(E,F){const R=F?this.get(F):this;return R&&R.errors?R.errors[E]:null}hasError(E,F){return!!this.getError(E,F)}get root(){let E=this;for(;E._parent;)E=E._parent;return E}_updateControlsErrors(E){this.status=this._calculateStatus(),E&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(E)}_initObservables(){this.valueChanges=new u._w7,this.statusChanges=new u._w7}_calculateStatus(){return this._allControlsDisabled()?Xe:this.errors?et:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dt)?Dt:this._anyControlsHaveStatus(et)?et:It}_anyControlsHaveStatus(E){return this._anyControls(F=>F.status===E)}_anyControlsDirty(){return this._anyControls(E=>E.dirty)}_anyControlsTouched(){return this._anyControls(E=>E.touched)}_updatePristine(E={}){this.pristine=!this._anyControlsDirty(),this._parent&&!E.onlySelf&&this._parent._updatePristine(E)}_updateTouched(E={}){this.touched=this._anyControlsTouched(),this._parent&&!E.onlySelf&&this._parent._updateTouched(E)}_registerOnCollectionChange(E){this._onCollectionChange=E}_setUpdateStrategy(E){Je(E)&&null!=E.updateOn&&(this._updateOn=E.updateOn)}_parentMarkedDirty(E){return!E&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(E){return null}_assignValidators(E){this._rawValidators=Array.isArray(E)?E.slice():E,this._composedValidatorFn=function se(w){return Array.isArray(w)?Zt(w):w||null}(this._rawValidators)}_assignAsyncValidators(E){this._rawAsyncValidators=Array.isArray(E)?E.slice():E,this._composedAsyncValidatorFn=function $e(w){return Array.isArray(w)?_n(w):w||null}(this._rawAsyncValidators)}}class _r extends Pn{constructor(E,F,R){super(te(F),Ce(R,F)),this.controls=E,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(E,F){return this.controls[E]?this.controls[E]:(this.controls[E]=F,F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange),F)}addControl(E,F,R={}){this.registerControl(E,F),this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}removeControl(E,F={}){this.controls[E]&&this.controls[E]._registerOnCollectionChange(()=>{}),delete this.controls[E],this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}setControl(E,F,R={}){this.controls[E]&&this.controls[E]._registerOnCollectionChange(()=>{}),delete this.controls[E],F&&this.registerControl(E,F),this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}contains(E){return this.controls.hasOwnProperty(E)&&this.controls[E].enabled}setValue(E,F={}){(function dn(w,E,F){w._forEachChild((R,Y)=>{if(void 0===F[Y])throw new u.OBp(1002,"")})})(this,0,E),Object.keys(E).forEach(R=>{(function Kt(w,E,F){const R=w.controls;if(!(E?Object.keys(R):R).length)throw new u.OBp(1e3,"");if(!R[F])throw new u.OBp(1001,"")})(this,!0,R),this.controls[R].setValue(E[R],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(E,F={}){null!=E&&(Object.keys(E).forEach(R=>{const Y=this.controls[R];Y&&Y.patchValue(E[R],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(E={},F={}){this._forEachChild((R,Y)=>{R.reset(E?E[Y]:null,{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this._reduceChildren({},(E,F,R)=>(E[R]=F.getRawValue(),E))}_syncPendingControls(){let E=this._reduceChildren(!1,(F,R)=>!!R._syncPendingControls()||F);return E&&this.updateValueAndValidity({onlySelf:!0}),E}_forEachChild(E){Object.keys(this.controls).forEach(F=>{const R=this.controls[F];R&&E(R,F)})}_setUpControls(){this._forEachChild(E=>{E.setParent(this),E._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(E){for(const[F,R]of Object.entries(this.controls))if(this.contains(F)&&E(R))return!0;return!1}_reduceValue(){return this._reduceChildren({},(F,R,Y)=>((R.enabled||this.disabled)&&(F[Y]=R.value),F))}_reduceChildren(E,F){let R=E;return this._forEachChild((Y,gt)=>{R=F(R,Y,gt)}),R}_allControlsDisabled(){for(const E of Object.keys(this.controls))if(this.controls[E].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(E){return this.controls.hasOwnProperty(E)?this.controls[E]:null}}const rr=new u.UbH("CallSetDisabledState",{providedIn:"root",factory:()=>Zn}),Zn="always";function ct(w,E,F=Zn){var R,Y;xn(w,E),E.valueAccessor.writeValue(w.value),(w.disabled||"always"===F)&&(null===(R=(Y=E.valueAccessor).setDisabledState)||void 0===R||R.call(Y,w.disabled)),function Cr(w,E){E.valueAccessor.registerOnChange(F=>{w._pendingValue=F,w._pendingChange=!0,w._pendingDirty=!0,"change"===w.updateOn&&cr(w,E)})}(w,E),function bi(w,E){const F=(R,Y)=>{E.valueAccessor.writeValue(R),Y&&E.viewToModelUpdate(R)};w.registerOnChange(F),E._registerOnDestroy(()=>{w._unregisterOnChange(F)})}(w,E),function ir(w,E){E.valueAccessor.registerOnTouched(()=>{w._pendingTouched=!0,"blur"===w.updateOn&&w._pendingChange&&cr(w,E),"submit"!==w.updateOn&&w.markAsTouched()})}(w,E),function bn(w,E){if(E.valueAccessor.setDisabledState){const F=R=>{E.valueAccessor.setDisabledState(R)};w.registerOnDisabledChange(F),E._registerOnDestroy(()=>{w._unregisterOnDisabledChange(F)})}}(w,E)}function nn(w,E){w.forEach(F=>{F.registerOnValidatorChange&&F.registerOnValidatorChange(E)})}function xn(w,E){const F=function Hn(w){return w._rawValidators}(w);null!==E.validator?w.setValidators(kn(F,E.validator)):"function"==typeof F&&w.setValidators([F]);const R=function Le(w){return w._rawAsyncValidators}(w);null!==E.asyncValidator?w.setAsyncValidators(kn(R,E.asyncValidator)):"function"==typeof R&&w.setAsyncValidators([R]);const Y=()=>w.updateValueAndValidity();nn(E._rawValidators,Y),nn(E._rawAsyncValidators,Y)}function cr(w,E){w._pendingDirty&&w.markAsDirty(),w.setValue(w._pendingValue,{emitModelToViewChange:!1}),E.viewToModelUpdate(w._pendingValue),w._pendingChange=!1}const Wt={provide:an,useExisting:(0,u.wd)(()=>gn)},un=Promise.resolve();let gn=(()=>{var w;class E extends an{constructor(R,Y,gt){super(),this.callSetDisabledState=gt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u._w7,this.form=new _r({},Zt(R),_n(Y))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(R){un.then(()=>{const Y=this._findContainer(R.path);R.control=Y.registerControl(R.name,R.control),ct(R.control,R,this.callSetDisabledState),R.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(R)})}getControl(R){return this.form.get(R.path)}removeControl(R){un.then(()=>{const Y=this._findContainer(R.path);Y&&Y.removeControl(R.name),this._directives.delete(R)})}addFormGroup(R){un.then(()=>{const Y=this._findContainer(R.path),gt=new _r({});(function Vi(w,E){xn(w,E)})(gt,R),Y.registerControl(R.name,gt),gt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(R){un.then(()=>{const Y=this._findContainer(R.path);Y&&Y.removeControl(R.name)})}getFormGroup(R){return this.form.get(R.path)}updateModel(R,Y){un.then(()=>{this.form.get(R.path).setValue(Y)})}setValue(R){this.control.setValue(R)}onSubmit(R){var Y;return this.submitted=!0,function q(w,E){w._syncPendingControls(),E.forEach(F=>{const R=F.control;"submit"===R.updateOn&&R._pendingChange&&(F.viewToModelUpdate(R._pendingValue),R._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(R),"dialog"===(null==R||null===(Y=R.target)||void 0===Y?void 0:Y.method)}onReset(){this.resetForm()}resetForm(R=void 0){this.form.reset(R),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(R){return R.pop(),R.length?this.form.get(R):this.form}}return(w=E).\u0275fac=function(R){return new(R||w)(u.GI1(Qe,10),u.GI1(ae,10),u.GI1(rr,8))},w.\u0275dir=u.Sc5({type:w,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(R,Y){1&R&&u.qCj("submit",function(Tt){return Y.onSubmit(Tt)})("reset",function(){return Y.onReset()})},inputs:{options:[u.Wk5.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u.M5G([Wt]),u.eg9]}),E})();function Un(w,E){const F=w.indexOf(E);F>-1&&w.splice(F,1)}function ui(w){return"object"==typeof w&&null!==w&&2===Object.keys(w).length&&"value"in w&&"disabled"in w}const pt=class extends Pn{constructor(E=null,F,R){super(te(F),Ce(R,F)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(E),this._setUpdateStrategy(F),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Je(F)&&(F.nonNullable||F.initialValueIsDefault)&&(this.defaultValue=ui(E)?E.value:E)}setValue(E,F={}){this.value=this._pendingValue=E,this._onChange.length&&!1!==F.emitModelToViewChange&&this._onChange.forEach(R=>R(this.value,!1!==F.emitViewToModelChange)),this.updateValueAndValidity(F)}patchValue(E,F={}){this.setValue(E,F)}reset(E=this.defaultValue,F={}){this._applyFormState(E),this.markAsPristine(F),this.markAsUntouched(F),this.setValue(this.value,F),this._pendingChange=!1}_updateValue(){}_anyControls(E){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(E){this._onChange.push(E)}_unregisterOnChange(E){Un(this._onChange,E)}registerOnDisabledChange(E){this._onDisabledChange.push(E)}_unregisterOnDisabledChange(E){Un(this._onDisabledChange,E)}_forEachChild(E){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(E){ui(E)?(this.value=this._pendingValue=E.value,E.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=E}},wt={provide:Mt,useExisting:(0,u.wd)(()=>rn)},Ht=Promise.resolve();let rn=(()=>{var w;class E extends Mt{constructor(R,Y,gt,Tt,mn,Xn){super(),this._changeDetectorRef=mn,this.callSetDisabledState=Xn,this.control=new pt,this._registered=!1,this.name="",this.update=new u._w7,this._parent=R,this._setValidators(Y),this._setAsyncValidators(gt),this.valueAccessor=function he(w,E){if(!E)return null;let F,R,Y;return Array.isArray(E),E.forEach(gt=>{gt.constructor===Ke?F=gt:function me(w){return Object.getPrototypeOf(w.constructor)===ke}(gt)?R=gt:Y=gt}),Y||R||F||null}(0,Tt)}ngOnChanges(R){if(this._checkForErrors(),!this._registered||"name"in R){if(this._registered&&(this._checkName(),this.formDirective)){const Y=R.name.previousValue;this.formDirective.removeControl({name:Y,path:this._getPath(Y)})}this._setUpControl()}"isDisabled"in R&&this._updateDisabled(R),function _e(w,E){if(!w.hasOwnProperty("model"))return!1;const F=w.model;return!!F.isFirstChange()||!Object.is(E,F.currentValue)}(R,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ct(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(R){Ht.then(()=>{var Y;this.control.setValue(R,{emitViewToModelChange:!1}),null===(Y=this._changeDetectorRef)||void 0===Y||Y.markForCheck()})}_updateDisabled(R){const Y=R.isDisabled.currentValue,gt=0!==Y&&(0,u.cZD)(Y);Ht.then(()=>{var Tt;gt&&!this.control.disabled?this.control.disable():!gt&&this.control.disabled&&this.control.enable(),null===(Tt=this._changeDetectorRef)||void 0===Tt||Tt.markForCheck()})}_getPath(R){return this._parent?function ft(w,E){return[...E.path,w]}(R,this._parent):[R]}}return(w=E).\u0275fac=function(R){return new(R||w)(u.GI1(an,9),u.GI1(Qe,10),u.GI1(ae,10),u.GI1(Ae,10),u.GI1(u.kD9,8),u.GI1(rr,8))},w.\u0275dir=u.Sc5({type:w,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[u.Wk5.None,"disabled","isDisabled"],model:[u.Wk5.None,"ngModel","model"],options:[u.Wk5.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u.M5G([wt]),u.eg9,u.SYr]}),E})(),pn=(()=>{var w;class E{}return(w=E).\u0275fac=function(R){return new(R||w)},w.\u0275dir=u.Sc5({type:w,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),E})();function Ro(w){return"number"==typeof w?w:parseFloat(w)}let Ui=(()=>{var w;class E{constructor(){this._validator=De}ngOnChanges(R){if(this.inputName in R){const Y=this.normalizeInput(R[this.inputName].currentValue);this._enabled=this.enabled(Y),this._validator=this._enabled?this.createValidator(Y):De,this._onChange&&this._onChange()}}validate(R){return this._validator(R)}registerOnValidatorChange(R){this._onChange=R}enabled(R){return null!=R}}return(w=E).\u0275fac=function(R){return new(R||w)},w.\u0275dir=u.Sc5({type:w,features:[u.SYr]}),E})();const Mo={provide:Qe,useExisting:(0,u.wd)(()=>jo),multi:!0};let jo=(()=>{var w;class E extends Ui{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=R=>Ro(R),this.createValidator=R=>function je(w){return E=>{if(Ve(E.value)||Ve(w))return null;const F=parseFloat(E.value);return!isNaN(F)&&F>w?{max:{max:w,actual:E.value}}:null}}(R)}}return(w=E).\u0275fac=(()=>{let F;return function(Y){return(F||(F=u.otF(w)))(Y||w)}})(),w.\u0275dir=u.Sc5({type:w,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(R,Y){2&R&&u.e48("max",Y._enabled?Y.max:null)},inputs:{max:"max"},features:[u.M5G([Mo]),u.eg9]}),E})();const Pi={provide:Qe,useExisting:(0,u.wd)(()=>Co),multi:!0};let Co=(()=>{var w;class E extends Ui{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=R=>Ro(R),this.createValidator=R=>function Se(w){return E=>{if(Ve(E.value)||Ve(w))return null;const F=parseFloat(E.value);return!isNaN(F)&&F<w?{min:{min:w,actual:E.value}}:null}}(R)}}return(w=E).\u0275fac=(()=>{let F;return function(Y){return(F||(F=u.otF(w)))(Y||w)}})(),w.\u0275dir=u.Sc5({type:w,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(R,Y){2&R&&u.e48("min",Y._enabled?Y.min:null)},inputs:{min:"min"},features:[u.M5G([Pi]),u.eg9]}),E})();const Di={provide:Qe,useExisting:(0,u.wd)(()=>Do),multi:!0};let Do=(()=>{var w;class E extends Ui{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.cZD,this.createValidator=R=>ot}enabled(R){return R}}return(w=E).\u0275fac=(()=>{let F;return function(Y){return(F||(F=u.otF(w)))(Y||w)}})(),w.\u0275dir=u.Sc5({type:w,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(R,Y){2&R&&u.e48("required",Y._enabled?"":null)},inputs:{required:"required"},features:[u.M5G([Di]),u.eg9]}),E})(),Ho=(()=>{var w;class E{}return(w=E).\u0275fac=function(R){return new(R||w)},w.\u0275mod=u.a4G({type:w}),w.\u0275inj=u.s3X({}),E})(),G=(()=>{var w;class E{static withConfig(R){var Y;return{ngModule:E,providers:[{provide:rr,useValue:null!==(Y=R.callSetDisabledState)&&void 0!==Y?Y:Zn}]}}}return(w=E).\u0275fac=function(R){return new(R||w)},w.\u0275mod=u.a4G({type:w}),w.\u0275inj=u.s3X({imports:[Ho]}),E})()},4476:(on,it,k)=>{"use strict";k.d(it,{OY:()=>qt,iE:()=>_t,o_:()=>_n});var u=k(4496),z=k(1368);class K extends z.mg{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class le extends K{static makeCurrent(){(0,z.ug)(new le)}onAndCancel(et,Dt,Xe){return et.addEventListener(Dt,Xe),()=>{et.removeEventListener(Dt,Xe)}}dispatchEvent(et,Dt){et.dispatchEvent(Dt)}remove(et){et.parentNode&&et.parentNode.removeChild(et)}createElement(et,Dt){return(Dt=Dt||this.getDefaultDocument()).createElement(et)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(et){return et.nodeType===Node.ELEMENT_NODE}isShadowRoot(et){return et instanceof DocumentFragment}getGlobalEventTarget(et,Dt){return"window"===Dt?window:"document"===Dt?et:"body"===Dt?et.body:null}getBaseHref(et){const Dt=function pe(){return be=be||document.querySelector("base"),be?be.getAttribute("href"):null}();return null==Dt?null:function ce(It){return new URL(It,document.baseURI).pathname}(Dt)}resetBaseElement(){be=null}getUserAgent(){return window.navigator.userAgent}getCookie(et){return(0,z.Sg)(document.cookie,et)}}let be=null,ze=(()=>{var It;class et{build(){return new XMLHttpRequest}}return(It=et).\u0275fac=function(Xe){return new(Xe||It)},It.\u0275prov=u.wxM({token:It,factory:It.\u0275fac}),et})();const ge=new u.UbH("");let ue=(()=>{var It;class et{constructor(Xe,te){this._zone=te,this._eventNameToPlugin=new Map,Xe.forEach(se=>{se.manager=this}),this._plugins=Xe.slice().reverse()}addEventListener(Xe,te,se){return this._findPluginFor(te).addEventListener(Xe,te,se)}getZone(){return this._zone}_findPluginFor(Xe){let te=this._eventNameToPlugin.get(Xe);if(te)return te;if(te=this._plugins.find(Ce=>Ce.supports(Xe)),!te)throw new u.OBp(5101,!1);return this._eventNameToPlugin.set(Xe,te),te}}return(It=et).\u0275fac=function(Xe){return new(Xe||It)(u.CoB(ge),u.CoB(u.WW2))},It.\u0275prov=u.wxM({token:It,factory:It.\u0275fac}),et})();class Re{constructor(et){this._doc=et}}const Fe="ng-app-id";let ke=(()=>{var It;class et{constructor(Xe,te,se,Ce={}){this.doc=Xe,this.appId=te,this.nonce=se,this.platformId=Ce,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,z.uf)(Ce),this.resetHostNodes()}addStyles(Xe){for(const te of Xe)1===this.changeUsageCount(te,1)&&this.onStyleAdded(te)}removeStyles(Xe){for(const te of Xe)this.changeUsageCount(te,-1)<=0&&this.onStyleRemoved(te)}ngOnDestroy(){const Xe=this.styleNodesInDOM;Xe&&(Xe.forEach(te=>te.remove()),Xe.clear());for(const te of this.getAllStyles())this.onStyleRemoved(te);this.resetHostNodes()}addHost(Xe){this.hostNodes.add(Xe);for(const te of this.getAllStyles())this.addStyleToHost(Xe,te)}removeHost(Xe){this.hostNodes.delete(Xe)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Xe){for(const te of this.hostNodes)this.addStyleToHost(te,Xe)}onStyleRemoved(Xe){var te;const se=this.styleRef;null===(te=se.get(Xe))||void 0===te||null===(te=te.elements)||void 0===te||te.forEach(Ce=>Ce.remove()),se.delete(Xe)}collectServerRenderedStyles(){var Xe;const te=null===(Xe=this.doc.head)||void 0===Xe?void 0:Xe.querySelectorAll(`style[${Fe}="${this.appId}"]`);if(null!=te&&te.length){const se=new Map;return te.forEach(Ce=>{null!=Ce.textContent&&se.set(Ce.textContent,Ce)}),se}return null}changeUsageCount(Xe,te){const se=this.styleRef;if(se.has(Xe)){const Ce=se.get(Xe);return Ce.usage+=te,Ce.usage}return se.set(Xe,{usage:te,elements:[]}),te}getStyleElement(Xe,te){const se=this.styleNodesInDOM,Ce=null==se?void 0:se.get(te);if((null==Ce?void 0:Ce.parentNode)===Xe)return se.delete(te),Ce.removeAttribute(Fe),Ce;{const $e=this.doc.createElement("style");return this.nonce&&$e.setAttribute("nonce",this.nonce),$e.textContent=te,this.platformIsServer&&$e.setAttribute(Fe,this.appId),Xe.appendChild($e),$e}}addStyleToHost(Xe,te){var se;const Ce=this.getStyleElement(Xe,te),$e=this.styleRef,Je=null===(se=$e.get(te))||void 0===se?void 0:se.elements;Je?Je.push(Ce):$e.set(te,{elements:[Ce],usage:1})}resetHostNodes(){const Xe=this.hostNodes;Xe.clear(),Xe.add(this.doc.head)}}return(It=et).\u0275fac=function(Xe){return new(Xe||It)(u.CoB(z.Ud),u.CoB(u.QHP),u.CoB(u.YND,8),u.CoB(u.AHE))},It.\u0275prov=u.wxM({token:It,factory:It.\u0275fac}),et})();const Ae={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rt=/%COMP%/g,Ke=new u.UbH("",{providedIn:"root",factory:()=>!0});function Qe(It,et){return et.map(Dt=>Dt.replace(rt,It))}let ae=(()=>{var It;class et{constructor(Xe,te,se,Ce,$e,Je,Kt,dn=null){this.eventManager=Xe,this.sharedStylesHost=te,this.appId=se,this.removeStylesOnCompDestroy=Ce,this.doc=$e,this.platformId=Je,this.ngZone=Kt,this.nonce=dn,this.rendererByCompId=new Map,this.platformIsServer=(0,z.uf)(Je),this.defaultRenderer=new X(Xe,$e,Kt,this.platformIsServer)}createRenderer(Xe,te){if(!Xe||!te)return this.defaultRenderer;this.platformIsServer&&te.encapsulation===u.K6R.ShadowDom&&(te={...te,encapsulation:u.K6R.Emulated});const se=this.getOrCreateRenderer(Xe,te);return se instanceof kt?se.applyToHost(Xe):se instanceof ut&&se.applyStyles(),se}getOrCreateRenderer(Xe,te){const se=this.rendererByCompId;let Ce=se.get(te.id);if(!Ce){const $e=this.doc,Je=this.ngZone,Kt=this.eventManager,dn=this.sharedStylesHost,Pn=this.removeStylesOnCompDestroy,_r=this.platformIsServer;switch(te.encapsulation){case u.K6R.Emulated:Ce=new kt(Kt,dn,te,this.appId,Pn,$e,Je,_r);break;case u.K6R.ShadowDom:return new ot(Kt,dn,Xe,te,$e,Je,this.nonce,_r);default:Ce=new ut(Kt,dn,te,Pn,$e,Je,_r)}se.set(te.id,Ce)}return Ce}ngOnDestroy(){this.rendererByCompId.clear()}}return(It=et).\u0275fac=function(Xe){return new(Xe||It)(u.CoB(ue),u.CoB(ke),u.CoB(u.QHP),u.CoB(Ke),u.CoB(z.Ud),u.CoB(u.AHE),u.CoB(u.WW2),u.CoB(u.YND))},It.\u0275prov=u.wxM({token:It,factory:It.\u0275fac}),et})();class X{constructor(et,Dt,Xe,te){this.eventManager=et,this.doc=Dt,this.ngZone=Xe,this.platformIsServer=te,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(et,Dt){return Dt?this.doc.createElementNS(Ae[Dt]||Dt,et):this.doc.createElement(et)}createComment(et){return this.doc.createComment(et)}createText(et){return this.doc.createTextNode(et)}appendChild(et,Dt){(je(et)?et.content:et).appendChild(Dt)}insertBefore(et,Dt,Xe){et&&(je(et)?et.content:et).insertBefore(Dt,Xe)}removeChild(et,Dt){et&&et.removeChild(Dt)}selectRootElement(et,Dt){let Xe="string"==typeof et?this.doc.querySelector(et):et;if(!Xe)throw new u.OBp(-5104,!1);return Dt||(Xe.textContent=""),Xe}parentNode(et){return et.parentNode}nextSibling(et){return et.nextSibling}setAttribute(et,Dt,Xe,te){if(te){Dt=te+":"+Dt;const se=Ae[te];se?et.setAttributeNS(se,Dt,Xe):et.setAttribute(Dt,Xe)}else et.setAttribute(Dt,Xe)}removeAttribute(et,Dt,Xe){if(Xe){const te=Ae[Xe];te?et.removeAttributeNS(te,Dt):et.removeAttribute(`${Xe}:${Dt}`)}else et.removeAttribute(Dt)}addClass(et,Dt){et.classList.add(Dt)}removeClass(et,Dt){et.classList.remove(Dt)}setStyle(et,Dt,Xe,te){te&(u.yzm.DashCase|u.yzm.Important)?et.style.setProperty(Dt,Xe,te&u.yzm.Important?"important":""):et.style[Dt]=Xe}removeStyle(et,Dt,Xe){Xe&u.yzm.DashCase?et.style.removeProperty(Dt):et.style[Dt]=""}setProperty(et,Dt,Xe){null!=et&&(et[Dt]=Xe)}setValue(et,Dt){et.nodeValue=Dt}listen(et,Dt,Xe){if("string"==typeof et&&!(et=(0,z.uy)().getGlobalEventTarget(this.doc,et)))throw new Error(`Unsupported event target ${et} for event ${Dt}`);return this.eventManager.addEventListener(et,Dt,this.decoratePreventDefault(Xe))}decoratePreventDefault(et){return Dt=>{if("__ngUnwrap__"===Dt)return et;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>et(Dt)):et(Dt))&&Dt.preventDefault()}}}function je(It){return"TEMPLATE"===It.tagName&&void 0!==It.content}class ot extends X{constructor(et,Dt,Xe,te,se,Ce,$e,Je){super(et,se,Ce,Je),this.sharedStylesHost=Dt,this.hostEl=Xe,this.shadowRoot=Xe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Kt=Qe(te.id,te.styles);for(const dn of Kt){const Pn=document.createElement("style");$e&&Pn.setAttribute("nonce",$e),Pn.textContent=dn,this.shadowRoot.appendChild(Pn)}}nodeOrShadowRoot(et){return et===this.hostEl?this.shadowRoot:et}appendChild(et,Dt){return super.appendChild(this.nodeOrShadowRoot(et),Dt)}insertBefore(et,Dt,Xe){return super.insertBefore(this.nodeOrShadowRoot(et),Dt,Xe)}removeChild(et,Dt){return super.removeChild(this.nodeOrShadowRoot(et),Dt)}parentNode(et){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(et)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ut extends X{constructor(et,Dt,Xe,te,se,Ce,$e,Je){super(et,se,Ce,$e),this.sharedStylesHost=Dt,this.removeStylesOnCompDestroy=te,this.styles=Je?Qe(Je,Xe.styles):Xe.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class kt extends ut{constructor(et,Dt,Xe,te,se,Ce,$e,Je){const Kt=te+"-"+Xe.id;super(et,Dt,Xe,se,Ce,$e,Je,Kt),this.contentAttr=function Ve(It){return"_ngcontent-%COMP%".replace(rt,It)}(Kt),this.hostAttr=function Oe(It){return"_nghost-%COMP%".replace(rt,It)}(Kt)}applyToHost(et){this.applyStyles(),this.setAttribute(et,this.hostAttr,"")}createElement(et,Dt){const Xe=super.createElement(et,Dt);return super.setAttribute(Xe,this.contentAttr,""),Xe}}let fn=(()=>{var It;class et extends Re{constructor(Xe){super(Xe)}supports(Xe){return!0}addEventListener(Xe,te,se){return Xe.addEventListener(te,se,!1),()=>this.removeEventListener(Xe,te,se)}removeEventListener(Xe,te,se){return Xe.removeEventListener(te,se)}}return(It=et).\u0275fac=function(Xe){return new(Xe||It)(u.CoB(z.Ud))},It.\u0275prov=u.wxM({token:It,factory:It.\u0275fac}),et})();const jn=["alt","control","meta","shift"],at={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},De={alt:It=>It.altKey,control:It=>It.ctrlKey,meta:It=>It.metaKey,shift:It=>It.shiftKey};let fe=(()=>{var It;class et extends Re{constructor(Xe){super(Xe)}supports(Xe){return null!=et.parseEventName(Xe)}addEventListener(Xe,te,se){const Ce=et.parseEventName(te),$e=et.eventCallback(Ce.fullKey,se,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,z.uy)().onAndCancel(Xe,Ce.domEventName,$e))}static parseEventName(Xe){const te=Xe.toLowerCase().split("."),se=te.shift();if(0===te.length||"keydown"!==se&&"keyup"!==se)return null;const Ce=et._normalizeKey(te.pop());let $e="",Je=te.indexOf("code");if(Je>-1&&(te.splice(Je,1),$e="code."),jn.forEach(dn=>{const Pn=te.indexOf(dn);Pn>-1&&(te.splice(Pn,1),$e+=dn+".")}),$e+=Ce,0!=te.length||0===Ce.length)return null;const Kt={};return Kt.domEventName=se,Kt.fullKey=$e,Kt}static matchEventFullKeyCode(Xe,te){let se=at[Xe.key]||Xe.key,Ce="";return te.indexOf("code.")>-1&&(se=Xe.code,Ce="code."),!(null==se||!se)&&(se=se.toLowerCase()," "===se?se="space":"."===se&&(se="dot"),jn.forEach($e=>{$e!==se&&(0,De[$e])(Xe)&&(Ce+=$e+".")}),Ce+=se,Ce===te)}static eventCallback(Xe,te,se){return Ce=>{et.matchEventFullKeyCode(Ce,Xe)&&se.runGuarded(()=>te(Ce))}}static _normalizeKey(Xe){return"esc"===Xe?"escape":Xe}}return(It=et).\u0275fac=function(Xe){return new(Xe||It)(u.CoB(z.Ud))},It.\u0275prov=u.wxM({token:It,factory:It.\u0275fac}),et})();const _n=(0,u.grM)(u.m4O,"browser",[{provide:u.AHE,useValue:z._k},{provide:u.crf,useValue:function Lt(){le.makeCurrent()},multi:!0},{provide:z.Ud,useFactory:function Zt(){return(0,u.auf)(document),document},deps:[]}]),kn=new u.UbH(""),Hn=[{provide:u.Mn9,useClass:class We{addToWindow(et){u.IHs.getAngularTestability=(Xe,te=!0)=>{const se=et.findTestabilityInTree(Xe,te);if(null==se)throw new u.OBp(5103,!1);return se},u.IHs.getAllAngularTestabilities=()=>et.getAllTestabilities(),u.IHs.getAllAngularRootElements=()=>et.getAllRootElements(),u.IHs.frameworkStabilizers||(u.IHs.frameworkStabilizers=[]),u.IHs.frameworkStabilizers.push(Xe=>{const te=u.IHs.getAllAngularTestabilities();let se=te.length;const Ce=function(){se--,0==se&&Xe()};te.forEach($e=>{$e.whenStable(Ce)})})}findTestabilityInTree(et,Dt,Xe){if(null==Dt)return null;const te=et.getTestability(Dt);return null!=te?te:Xe?(0,z.uy)().isShadowRoot(Dt)?this.findTestabilityInTree(et,Dt.host,!0):this.findTestabilityInTree(et,Dt.parentElement,!0):null}},deps:[]},{provide:u.aS5,useClass:u.G4X,deps:[u.WW2,u.eOv,u.Mn9]},{provide:u.G4X,useClass:u.G4X,deps:[u.WW2,u.eOv,u.Mn9]}],Le=[{provide:u.i4S,useValue:"root"},{provide:u.eAe,useFactory:function tn(){return new u.eAe},deps:[]},{provide:ge,useClass:fn,multi:!0,deps:[z.Ud,u.WW2,u.AHE]},{provide:ge,useClass:fe,multi:!0,deps:[z.Ud]},ae,ke,ue,{provide:u.O8F,useExisting:ae},{provide:z.OM,useClass:ze,deps:[]},[]];let _t=(()=>{var It;class et{constructor(Xe){}static withServerTransition(Xe){return{ngModule:et,providers:[{provide:u.QHP,useValue:Xe.appId}]}}}return(It=et).\u0275fac=function(Xe){return new(Xe||It)(u.CoB(kn,12))},It.\u0275mod=u.a4G({type:It}),It.\u0275inj=u.s3X({providers:[...Le,...Hn],imports:[z.MD,u.Ev2]}),et})(),qt=(()=>{var It;class et{constructor(Xe){this._doc=Xe}getTitle(){return this._doc.title}setTitle(Xe){this._doc.title=Xe||""}}return(It=et).\u0275fac=function(Xe){return new(Xe||It)(u.CoB(z.Ud))},It.\u0275prov=u.wxM({token:It,factory:It.\u0275fac,providedIn:"root"}),et})()},4196:(on,it,k)=>{"use strict";k.d(it,{gV:()=>wr,O4:()=>qr,Qx:()=>st,gf:()=>Rt,eu:()=>gs,XE:()=>zt,E5:()=>Ti,ER:()=>sr,qQ:()=>hu,qd:()=>Ln});var u=k(4496),z=k(3252),K=k(8880),be=k(9900),pe=k(2700),ce=k(6700),We=k(6040),ze=k(7696),ge=k(7228),ue=k(560);function Re(y){return new z._(b=>{(0,ue.Uv)(y()).subscribe(b)})}var Fe=k(3928);function ke(y,b){const P=(0,K.m)(y)?y:()=>y,A=N=>N.error(P());return new z._(b?N=>b.schedule(A,0,N):A)}var Ae=k(8960),rt=k(6928),Pe=k(5448),Me=k(7773);function Be(){return(0,Pe.i)((y,b)=>{let P=null;y._refCount++;const A=(0,Me.e)(b,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(P=null);const N=y._connection,H=P;P=null,N&&(!H||N===H)&&N.unsubscribe(),b.unsubscribe()});y.subscribe(A),A.closed||(P=y.connect())})}class vt extends z._{constructor(b,P){super(),this.source=b,this.subjectFactory=P,this._subject=null,this._refCount=0,this._connection=null,(0,Pe.e)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,null==b||b.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new rt.wH;const P=this.getSubject();b.add(this.source.subscribe((0,Me.e)(P,void 0,()=>{this._teardown(),P.complete()},A=>{this._teardown(),P.error(A)},()=>this._teardown()))),b.closed&&(this._connection=null,b=rt.wH.EMPTY)}return b}refCount(){return Be()(this)}}var Ke=k(5657),Ve=k(1368),Oe=k(4704),Qe=k(7368),ae=k(3992),X=k(5568),oe=k(6684),Se=k(7400),je=k(5084);function ot(y,b){return(0,K.m)(b)?(0,Se.O)(y,b,1):(0,Se.O)(y,1)}var ut=k(9212);function kt(y){return(0,Pe.i)((b,P)=>{let H,A=null,N=!1;A=b.subscribe((0,Me.e)(P,void 0,void 0,de=>{H=(0,ue.Uv)(y(de,kt(y)(b))),A?(A.unsubscribe(),A=null,H.subscribe(P)):N=!0})),N&&(A.unsubscribe(),A=null,H.subscribe(P))})}var fn=k(208),jn=k(2156);function at(y){return y<=0?()=>Ae.k:(0,Pe.i)((b,P)=>{let A=[];b.subscribe((0,Me.e)(P,N=>{A.push(N),y<A.length&&A.shift()},()=>{for(const N of A)P.next(N);P.complete()},void 0,()=>{A=null}))})}var De=k(8124),fe=k(528);function nt(y){return(0,Pe.i)((b,P)=>{try{b.subscribe(P)}finally{P.add(y)}})}var Ie=k(308),tn=k(267),Zt=k(4476);const Rt="primary",_n=Symbol("RouteTitle");class kn{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const P=this.params[b];return Array.isArray(P)?P[0]:P}return null}getAll(b){if(this.has(b)){const P=this.params[b];return Array.isArray(P)?P:[P]}return[]}get keys(){return Object.keys(this.params)}}function Hn(y){return new kn(y)}function Le(y,b,P){const A=P.path.split("/");if(A.length>y.length||"full"===P.pathMatch&&(b.hasChildren()||A.length<y.length))return null;const N={};for(let H=0;H<A.length;H++){const de=A[H],ht=y[H];if(de.startsWith(":"))N[de.substring(1)]=ht;else if(de!==ht.path)return null}return{consumed:y.slice(0,A.length),posParams:N}}function yt(y,b){const P=y?jt(y):void 0,A=b?jt(b):void 0;if(!P||!A||P.length!=A.length)return!1;let N;for(let H=0;H<P.length;H++)if(N=P[H],!qt(y[N],b[N]))return!1;return!0}function jt(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}function qt(y,b){if(Array.isArray(y)&&Array.isArray(b)){if(y.length!==b.length)return!1;const P=[...y].sort(),A=[...b].sort();return P.every((N,H)=>A[H]===N)}return y===b}function Vt(y){return y.length>0?y[y.length-1]:null}function an(y){return function le(y){return!!y&&(y instanceof z._||(0,K.m)(y.lift)&&(0,K.m)(y.subscribe))}(y)?y:(0,u.w5$)(y)?(0,be.Q)(Promise.resolve(y)):(0,pe.of)(y)}const Mt={exact:function ar(y,b,P){if(!Tn(y.segments,b.segments)||!fi(y.segments,b.segments,P)||y.numberOfChildren!==b.numberOfChildren)return!1;for(const A in b.children)if(!y.children[A]||!ar(y.children[A],b.children[A],P))return!1;return!0},subset:Vn},Fn={exact:function or(y,b){return yt(y,b)},subset:function Nn(y,b){return Object.keys(b).length<=Object.keys(y).length&&Object.keys(b).every(P=>qt(y[P],b[P]))},ignored:()=>!0};function cn(y,b,P){return Mt[P.paths](y.root,b.root,P.matrixParams)&&Fn[P.queryParams](y.queryParams,b.queryParams)&&!("exact"===P.fragment&&y.fragment!==b.fragment)}function Vn(y,b,P){return mr(y,b,b.segments,P)}function mr(y,b,P,A){if(y.segments.length>P.length){const N=y.segments.slice(0,P.length);return!(!Tn(N,P)||b.hasChildren()||!fi(N,P,A))}if(y.segments.length===P.length){if(!Tn(y.segments,P)||!fi(y.segments,P,A))return!1;for(const N in b.children)if(!y.children[N]||!Vn(y.children[N],b.children[N],A))return!1;return!0}{const N=P.slice(0,y.segments.length),H=P.slice(y.segments.length);return!!(Tn(y.segments,N)&&fi(y.segments,N,A)&&y.children[Rt])&&mr(y.children[Rt],b,H,A)}}function fi(y,b,P){return b.every((A,N)=>Fn[P](y[N].parameters,A.parameters))}class Ur{constructor(b=new On([],{}),P={},A=null){this.root=b,this.queryParams=P,this.fragment=A}get queryParamMap(){var b;return null!==(b=this._queryParamMap)&&void 0!==b||(this._queryParamMap=Hn(this.queryParams)),this._queryParamMap}toString(){return zr.serialize(this)}}class On{constructor(b,P){this.segments=b,this.children=P,this.parent=null,Object.values(P).forEach(A=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sr(this)}}class kr{constructor(b,P){this.path=b,this.parameters=P}get parameterMap(){var b;return null!==(b=this._parameterMap)&&void 0!==b||(this._parameterMap=Hn(this.parameters)),this._parameterMap}toString(){return Xe(this)}}function Tn(y,b){return y.length===b.length&&y.every((P,A)=>P.path===b[A].path)}let Ln=(()=>{var y;class b{}return(y=b).\u0275fac=function(A){return new(A||y)},y.\u0275prov=u.wxM({token:y,factory:()=>new $r,providedIn:"root"}),b})();class $r{parse(b){const P=new Rr(b);return new Ur(P.parseRootSegment(),P.parseQueryParams(),P.parseFragment())}serialize(b){const P=`/${ei(b.root,!0)}`,A=function se(y){const b=Object.entries(y).map(([P,A])=>Array.isArray(A)?A.map(N=>`${oi(P)}=${oi(N)}`).join("&"):`${oi(P)}=${oi(A)}`).filter(P=>P);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${P}${A}${"string"==typeof b.fragment?`#${function ti(y){return encodeURI(y)}(b.fragment)}`:""}`}}const zr=new $r;function Sr(y){return y.segments.map(b=>Xe(b)).join("/")}function ei(y,b){if(!y.hasChildren())return Sr(y);if(b){const P=y.children[Rt]?ei(y.children[Rt],!1):"",A=[];return Object.entries(y.children).forEach(([N,H])=>{N!==Rt&&A.push(`${N}:${ei(H,!1)}`)}),A.length>0?`${P}(${A.join("//")})`:P}{const P=function Br(y,b){let P=[];return Object.entries(y.children).forEach(([A,N])=>{A===Rt&&(P=P.concat(b(N,A)))}),Object.entries(y.children).forEach(([A,N])=>{A!==Rt&&(P=P.concat(b(N,A)))}),P}(y,(A,N)=>N===Rt?[ei(y.children[Rt],!1)]:[`${N}:${ei(A,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[Rt]?`${Sr(y)}/${P[0]}`:`${Sr(y)}/(${P.join("//")})`}}function Ar(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oi(y){return Ar(y).replace(/%3B/gi,";")}function It(y){return Ar(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function et(y){return decodeURIComponent(y)}function Dt(y){return et(y.replace(/\+/g,"%20"))}function Xe(y){return`${It(y.path)}${function te(y){return Object.entries(y).map(([b,P])=>`;${It(b)}=${It(P)}`).join("")}(y.parameters)}`}const Ce=/^[^\/()?;#]+/;function $e(y){const b=y.match(Ce);return b?b[0]:""}const Je=/^[^\/()?;=#]+/,dn=/^[^=?&#]+/,_r=/^[^&#]+/;class Rr{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new On([],{}):new On([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let P={};this.peekStartsWith("/(")&&(this.capture("/"),P=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(b.length>0||Object.keys(P).length>0)&&(A[Rt]=new On(b,P)),A}parseSegment(){const b=$e(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new u.OBp(4009,!1);return this.capture(b),new kr(et(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const P=function Kt(y){const b=y.match(Je);return b?b[0]:""}(this.remaining);if(!P)return;this.capture(P);let A="";if(this.consumeOptional("=")){const N=$e(this.remaining);N&&(A=N,this.capture(A))}b[et(P)]=et(A)}parseQueryParam(b){const P=function Pn(y){const b=y.match(dn);return b?b[0]:""}(this.remaining);if(!P)return;this.capture(P);let A="";if(this.consumeOptional("=")){const de=function nr(y){const b=y.match(_r);return b?b[0]:""}(this.remaining);de&&(A=de,this.capture(A))}const N=Dt(P),H=Dt(A);if(b.hasOwnProperty(N)){let de=b[N];Array.isArray(de)||(de=[de],b[N]=de),de.push(H)}else b[N]=H}parseParens(b){const P={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=$e(this.remaining),N=this.remaining[A.length];if("/"!==N&&")"!==N&&";"!==N)throw new u.OBp(4010,!1);let H;A.indexOf(":")>-1?(H=A.slice(0,A.indexOf(":")),this.capture(H),this.capture(":")):b&&(H=Rt);const de=this.parseChildren();P[H]=1===Object.keys(de).length?de[Rt]:new On([],de),this.consumeOptional("//")}return P}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new u.OBp(4011,!1)}}function wn(y){return y.segments.length>0?new On([],{[Rt]:y}):y}function Gr(y){const b={};for(const[A,N]of Object.entries(y.children)){const H=Gr(N);if(A===Rt&&0===H.segments.length&&H.hasChildren())for(const[de,ht]of Object.entries(H.children))b[de]=ht;else(H.segments.length>0||H.hasChildren())&&(b[A]=H)}return function ji(y){if(1===y.numberOfChildren&&y.children[Rt]){const b=y.children[Rt];return new On(y.segments.concat(b.segments),b.children)}return y}(new On(y.segments,b))}function rr(y){return y instanceof Ur}function ft(y){var b;let P;const H=wn(function A(de){const ht={};for(const Ye of de.children){const En=A(Ye);ht[Ye.outlet]=En}const xt=new On(de.url,ht);return de===y&&(P=xt),xt}(y.root));return null!==(b=P)&&void 0!==b?b:H}function ct(y,b,P,A){let N=y;for(;N.parent;)N=N.parent;if(0===b.length)return bn(N,N,N,P,A);const H=function Cr(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new zn(!0,0,y);let b=0,P=!1;const A=y.reduce((N,H,de)=>{if("object"==typeof H&&null!=H){if(H.outlets){const ht={};return Object.entries(H.outlets).forEach(([xt,Ye])=>{ht[xt]="string"==typeof Ye?Ye.split("/"):Ye}),[...N,{outlets:ht}]}if(H.segmentPath)return[...N,H.segmentPath]}return"string"!=typeof H?[...N,H]:0===de?(H.split("/").forEach((ht,xt)=>{0==xt&&"."===ht||(0==xt&&""===ht?P=!0:".."===ht?b++:""!=ht&&N.push(ht))}),N):[...N,H]},[]);return new zn(P,b,A)}(b);if(H.toRoot())return bn(N,N,new On([],{}),P,A);const de=function cr(y,b,P){if(y.isAbsolute)return new ir(b,!0,0);if(!P)return new ir(b,!1,NaN);if(null===P.parent)return new ir(P,!0,0);const A=Pt(y.commands[0])?0:1;return function bi(y,b,P){let A=y,N=b,H=P;for(;H>N;){if(H-=N,A=A.parent,!A)throw new u.OBp(4005,!1);N=A.segments.length}return new ir(A,!1,N-H)}(P,P.segments.length-1+A,y.numberOfDoubleDots)}(H,N,y),ht=de.processChildren?Oi(de.segmentGroup,de.index,H.commands):Mr(de.segmentGroup,de.index,H.commands);return bn(N,de.segmentGroup,ht,P,A)}function Pt(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function nn(y){return"object"==typeof y&&null!=y&&y.outlets}function bn(y,b,P,A,N){let de,H={};A&&Object.entries(A).forEach(([xt,Ye])=>{H[xt]=Array.isArray(Ye)?Ye.map(En=>`${En}`):`${Ye}`}),de=y===b?P:xn(y,b,P);const ht=wn(Gr(de));return new Ur(ht,H,N)}function xn(y,b,P){const A={};return Object.entries(y.children).forEach(([N,H])=>{A[N]=H===b?P:xn(H,b,P)}),new On(y.segments,A)}class zn{constructor(b,P,A){if(this.isAbsolute=b,this.numberOfDoubleDots=P,this.commands=A,b&&A.length>0&&Pt(A[0]))throw new u.OBp(4003,!1);const N=A.find(nn);if(N&&N!==Vt(A))throw new u.OBp(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ir{constructor(b,P,A){this.segmentGroup=b,this.processChildren=P,this.index=A}}function Mr(y,b,P){var A;if(null!==(A=y)&&void 0!==A||(y=new On([],{})),0===y.segments.length&&y.hasChildren())return Oi(y,b,P);const N=function Ai(y,b,P){let A=0,N=b;const H={match:!1,pathIndex:0,commandIndex:0};for(;N<y.segments.length;){if(A>=P.length)return H;const de=y.segments[N],ht=P[A];if(nn(ht))break;const xt=`${ht}`,Ye=A<P.length-1?P[A+1]:null;if(N>0&&void 0===xt)break;if(xt&&Ye&&"object"==typeof Ye&&void 0===Ye.outlets){if(!_e(xt,Ye,de))return H;A+=2}else{if(!_e(xt,{},de))return H;A++}N++}return{match:!0,pathIndex:N,commandIndex:A}}(y,b,P),H=P.slice(N.commandIndex);if(N.match&&N.pathIndex<y.segments.length){const de=new On(y.segments.slice(0,N.pathIndex),{});return de.children[Rt]=new On(y.segments.slice(N.pathIndex),y.children),Oi(de,0,H)}return N.match&&0===H.length?new On(y.segments,{}):N.match&&!y.hasChildren()?Nr(y,b,P):N.match?Oi(y,0,H):Nr(y,b,P)}function Oi(y,b,P){if(0===P.length)return new On(y.segments,{});{const A=function Vi(y){return nn(y[0])?y[0].outlets:{[Rt]:y}}(P),N={};if(Object.keys(A).some(H=>H!==Rt)&&y.children[Rt]&&1===y.numberOfChildren&&0===y.children[Rt].segments.length){const H=Oi(y.children[Rt],b,P);return new On(y.segments,H.children)}return Object.entries(A).forEach(([H,de])=>{"string"==typeof de&&(de=[de]),null!==de&&(N[H]=Mr(y.children[H],b,de))}),Object.entries(y.children).forEach(([H,de])=>{void 0===A[H]&&(N[H]=de)}),new On(y.segments,N)}}function Nr(y,b,P){const A=y.segments.slice(0,b);let N=0;for(;N<P.length;){const H=P[N];if(nn(H)){const xt=lr(H.outlets);return new On(A,xt)}if(0===N&&Pt(P[0])){A.push(new kr(y.segments[b].path,Dr(P[0]))),N++;continue}const de=nn(H)?H.outlets[Rt]:`${H}`,ht=N<P.length-1?P[N+1]:null;de&&ht&&Pt(ht)?(A.push(new kr(de,Dr(ht))),N+=2):(A.push(new kr(de,{})),N++)}return new On(A,{})}function lr(y){const b={};return Object.entries(y).forEach(([P,A])=>{"string"==typeof A&&(A=[A]),null!==A&&(b[P]=Nr(new On([],{}),0,A))}),b}function Dr(y){const b={};return Object.entries(y).forEach(([P,A])=>b[P]=`${A}`),b}function _e(y,b,P){return y==P.path&&yt(b,P.parameters)}const me="imperative";var q=function(y){return y[y.NavigationStart=0]="NavigationStart",y[y.NavigationEnd=1]="NavigationEnd",y[y.NavigationCancel=2]="NavigationCancel",y[y.NavigationError=3]="NavigationError",y[y.RoutesRecognized=4]="RoutesRecognized",y[y.ResolveStart=5]="ResolveStart",y[y.ResolveEnd=6]="ResolveEnd",y[y.GuardsCheckStart=7]="GuardsCheckStart",y[y.GuardsCheckEnd=8]="GuardsCheckEnd",y[y.RouteConfigLoadStart=9]="RouteConfigLoadStart",y[y.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",y[y.ChildActivationStart=11]="ChildActivationStart",y[y.ChildActivationEnd=12]="ChildActivationEnd",y[y.ActivationStart=13]="ActivationStart",y[y.ActivationEnd=14]="ActivationEnd",y[y.Scroll=15]="Scroll",y[y.NavigationSkipped=16]="NavigationSkipped",y}(q||{});class he{constructor(b,P){this.id=b,this.url=P}}class st extends he{constructor(b,P,A="imperative",N=null){super(b,P),this.type=q.NavigationStart,this.navigationTrigger=A,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bt extends he{constructor(b,P,A){super(b,P),this.urlAfterRedirects=A,this.type=q.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Wt=function(y){return y[y.Redirect=0]="Redirect",y[y.SupersededByNewNavigation=1]="SupersededByNewNavigation",y[y.NoDataFromResolver=2]="NoDataFromResolver",y[y.GuardRejected=3]="GuardRejected",y}(Wt||{}),un=function(y){return y[y.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",y[y.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",y}(un||{});class gn extends he{constructor(b,P,A,N){super(b,P),this.reason=A,this.code=N,this.type=q.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Un extends he{constructor(b,P,A,N){super(b,P),this.reason=A,this.code=N,this.type=q.NavigationSkipped}}class ui extends he{constructor(b,P,A,N){super(b,P),this.error=A,this.target=N,this.type=q.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pt extends he{constructor(b,P,A,N){super(b,P),this.urlAfterRedirects=A,this.state=N,this.type=q.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class j extends he{constructor(b,P,A,N){super(b,P),this.urlAfterRedirects=A,this.state=N,this.type=q.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J extends he{constructor(b,P,A,N,H){super(b,P),this.urlAfterRedirects=A,this.state=N,this.shouldActivate=H,this.type=q.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ue extends he{constructor(b,P,A,N){super(b,P),this.urlAfterRedirects=A,this.state=N,this.type=q.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class He extends he{constructor(b,P,A,N){super(b,P),this.urlAfterRedirects=A,this.state=N,this.type=q.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dt{constructor(b){this.route=b,this.type=q.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ct{constructor(b){this.route=b,this.type=q.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ot{constructor(b){this.snapshot=b,this.type=q.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qt{constructor(b){this.snapshot=b,this.type=q.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $t{constructor(b){this.snapshot=b,this.type=q.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wt{constructor(b){this.snapshot=b,this.type=q.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ht{constructor(b,P,A){this.routerEvent=b,this.position=P,this.anchor=A,this.type=q.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class rn{}class pn{constructor(b){this.url=b}}class Pr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qr,this.attachRef=null}}let qr=(()=>{var y;class b{constructor(){this.contexts=new Map}onChildOutletCreated(A,N){const H=this.getOrCreateContext(A);H.outlet=N,this.contexts.set(A,H)}onChildOutletDestroyed(A){const N=this.getContext(A);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const A=this.contexts;return this.contexts=new Map,A}onOutletReAttached(A){this.contexts=A}getOrCreateContext(A){let N=this.getContext(A);return N||(N=new Pr,this.contexts.set(A,N)),N}getContext(A){return this.contexts.get(A)||null}}return(y=b).\u0275fac=function(A){return new(A||y)},y.\u0275prov=u.wxM({token:y,factory:y.\u0275fac,providedIn:"root"}),b})();class T{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const P=this.pathFromRoot(b);return P.length>1?P[P.length-2]:null}children(b){const P=re(b,this._root);return P?P.children.map(A=>A.value):[]}firstChild(b){const P=re(b,this._root);return P&&P.children.length>0?P.children[0].value:null}siblings(b){const P=x(b,this._root);return P.length<2?[]:P[P.length-2].children.map(N=>N.value).filter(N=>N!==b)}pathFromRoot(b){return x(b,this._root).map(P=>P.value)}}function re(y,b){if(y===b.value)return b;for(const P of b.children){const A=re(y,P);if(A)return A}return null}function x(y,b){if(y===b.value)return[b];for(const P of b.children){const A=x(y,P);if(A.length)return A.unshift(b),A}return[]}class ne{constructor(b,P){this.value=b,this.children=P}toString(){return`TreeNode(${this.value})`}}function Ee(y){const b={};return y&&y.children.forEach(P=>b[P.value.outlet]=P),b}class Yt extends T{constructor(b,P){super(b),this.snapshot=P,ci(this,b)}toString(){return this.snapshot.toString()}}function dr(y){const b=function si(y){const H=new Hi([],{},{},"",{},Rt,y,null,{});return new jr("",new ne(H,[]))}(y),P=new ce.g([new kr("",{})]),A=new ce.g({}),N=new ce.g({}),H=new ce.g({}),de=new ce.g(""),ht=new wr(P,A,H,de,N,Rt,y,b.root);return ht.snapshot=b.root,new Yt(new ne(ht,[]),b)}class wr{constructor(b,P,A,N,H,de,ht,xt){var Ye,En;this.urlSubject=b,this.paramsSubject=P,this.queryParamsSubject=A,this.fragmentSubject=N,this.dataSubject=H,this.outlet=de,this.component=ht,this._futureSnapshot=xt,this.title=null!==(Ye=null===(En=this.dataSubject)||void 0===En?void 0:En.pipe((0,Oe.k)(yn=>yn[_n])))&&void 0!==Ye?Ye:(0,pe.of)(void 0),this.url=b,this.params=P,this.queryParams=A,this.fragment=N,this.data=H}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var b;return null!==(b=this._paramMap)&&void 0!==b||(this._paramMap=this.params.pipe((0,Oe.k)(P=>Hn(P)))),this._paramMap}get queryParamMap(){var b;return null!==(b=this._queryParamMap)&&void 0!==b||(this._queryParamMap=this.queryParams.pipe((0,Oe.k)(P=>Hn(P)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mi(y,b,P="emptyOnly"){var A;let N;const{routeConfig:H}=y;var de;return N=null===b||"always"!==P&&""!==(null==H?void 0:H.path)&&(b.component||null!==(A=b.routeConfig)&&void 0!==A&&A.loadComponent)?{params:{...y.params},data:{...y.data},resolve:{...y.data,...null!==(de=y._resolvedData)&&void 0!==de?de:{}}}:{params:{...b.params,...y.params},data:{...b.data,...y.data},resolve:{...y.data,...b.data,...null==H?void 0:H.data,...y._resolvedData}},H&&_o(H)&&(N.resolve[_n]=H.title),N}class Hi{get title(){var b;return null===(b=this.data)||void 0===b?void 0:b[_n]}constructor(b,P,A,N,H,de,ht,xt,Ye){this.url=b,this.params=P,this.queryParams=A,this.fragment=N,this.data=H,this.outlet=de,this.component=ht,this.routeConfig=xt,this._resolve=Ye}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var b;return null!==(b=this._paramMap)&&void 0!==b||(this._paramMap=Hn(this.params)),this._paramMap}get queryParamMap(){var b;return null!==(b=this._queryParamMap)&&void 0!==b||(this._queryParamMap=Hn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jr extends T{constructor(b,P){super(P),this.url=b,ci(this,P)}toString(){return to(this._root)}}function ci(y,b){b.value._routerState=y,b.children.forEach(P=>ci(y,P))}function to(y){const b=y.children.length>0?` { ${y.children.map(to).join(", ")} } `:"";return`${y.value}${b}`}function An(y){if(y.snapshot){const b=y.snapshot,P=y._futureSnapshot;y.snapshot=P,yt(b.queryParams,P.queryParams)||y.queryParamsSubject.next(P.queryParams),b.fragment!==P.fragment&&y.fragmentSubject.next(P.fragment),yt(b.params,P.params)||y.paramsSubject.next(P.params),function _t(y,b){if(y.length!==b.length)return!1;for(let P=0;P<y.length;++P)if(!yt(y[P],b[P]))return!1;return!0}(b.url,P.url)||y.urlSubject.next(P.url),yt(b.data,P.data)||y.dataSubject.next(P.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function go(y,b){const P=yt(y.params,b.params)&&function Dn(y,b){return Tn(y,b)&&y.every((P,A)=>yt(P.parameters,b[A].parameters))}(y.url,b.url);return P&&!(!y.parent!=!b.parent)&&(!y.parent||go(y.parent,b.parent))}function _o(y){return"string"==typeof y.title||null===y.title}let yo=(()=>{var y;class b{constructor(){this.activated=null,this._activatedRoute=null,this.name=Rt,this.activateEvents=new u._w7,this.deactivateEvents=new u._w7,this.attachEvents=new u._w7,this.detachEvents=new u._w7,this.parentContexts=(0,u.uUt)(qr),this.location=(0,u.uUt)(u.y8U),this.changeDetector=(0,u.uUt)(u.kD9),this.environmentInjector=(0,u.uUt)(u.SIe),this.inputBinder=(0,u.uUt)(Io,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(A){if(A.name){const{firstChange:N,previousValue:H}=A.name;if(N)return;this.isTrackedInParentContexts(H)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(H)),this.initializeOutletWithName()}}ngOnDestroy(){var A;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(A=this.inputBinder)||void 0===A||A.unsubscribeFromRouteData(this)}isTrackedInParentContexts(A){var N;return(null===(N=this.parentContexts.getContext(A))||void 0===N?void 0:N.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const A=this.parentContexts.getContext(this.name);null!=A&&A.route&&(A.attachRef?this.attach(A.attachRef,A.route):this.activateWith(A.route,A.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.OBp(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.OBp(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.OBp(4012,!1);this.location.detach();const A=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(A.instance),A}attach(A,N){var H;this.activated=A,this._activatedRoute=N,this.location.insert(A.hostView),null===(H=this.inputBinder)||void 0===H||H.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(A.instance)}deactivate(){if(this.activated){const A=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(A)}}activateWith(A,N){var H;if(this.isActivated)throw new u.OBp(4013,!1);this._activatedRoute=A;const de=this.location,xt=A.snapshot.component,Ye=this.parentContexts.getOrCreateContext(this.name).children,En=new ai(A,Ye,de.injector);this.activated=de.createComponent(xt,{index:de.length,injector:En,environmentInjector:null!=N?N:this.environmentInjector}),this.changeDetector.markForCheck(),null===(H=this.inputBinder)||void 0===H||H.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(y=b).\u0275fac=function(A){return new(A||y)},y.\u0275dir=u.Sc5({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.SYr]}),b})();class ai{constructor(b,P,A){this.route=b,this.childContexts=P,this.parent=A}get(b,P){return b===wr?this.route:b===qr?this.childContexts:this.parent.get(b,P)}}const Io=new u.UbH("");let mo=(()=>{var y;class b{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(A){this.unsubscribeFromRouteData(A),this.subscribeToRouteData(A)}unsubscribeFromRouteData(A){var N;null===(N=this.outletDataSubscriptions.get(A))||void 0===N||N.unsubscribe(),this.outletDataSubscriptions.delete(A)}subscribeToRouteData(A){const{activatedRoute:N}=A,H=(0,We.E)([N.queryParams,N.params,N.data]).pipe((0,Qe.G)(([de,ht,xt],Ye)=>(xt={...de,...ht,...xt},0===Ye?(0,pe.of)(xt):Promise.resolve(xt)))).subscribe(de=>{if(!A.isActivated||!A.activatedComponentRef||A.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(A);const ht=(0,u.o9M)(N.component);if(ht)for(const{templateName:xt}of ht.inputs)A.activatedComponentRef.setInput(xt,de[xt]);else this.unsubscribeFromRouteData(A)});this.outletDataSubscriptions.set(A,H)}}return(y=b).\u0275fac=function(A){return new(A||y)},y.\u0275prov=u.wxM({token:y,factory:y.\u0275fac}),b})();function Ci(y,b,P){if(P&&y.shouldReuseRoute(b.value,P.value.snapshot)){const A=P.value;A._futureSnapshot=b.value;const N=function Xo(y,b,P){return b.children.map(A=>{for(const N of P.children)if(y.shouldReuseRoute(A.value,N.value.snapshot))return Ci(y,A,N);return Ci(y,A)})}(y,b,P);return new ne(A,N)}{if(y.shouldAttach(b.value)){const H=y.retrieve(b.value);if(null!==H){const de=H.route;return de.value._futureSnapshot=b.value,de.children=b.children.map(ht=>Ci(y,ht)),de}}const A=function Eo(y){return new wr(new ce.g(y.url),new ce.g(y.params),new ce.g(y.queryParams),new ce.g(y.fragment),new ce.g(y.data),y.outlet,y.component,y)}(b.value),N=b.children.map(H=>Ci(y,H));return new ne(A,N)}}const zi="ngNavigationCancelingError";function co(y,b){const{redirectTo:P,navigationBehaviorOptions:A}=rr(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,N=Yn(!1,Wt.Redirect);return N.url=P,N.navigationBehaviorOptions=A,N}function Yn(y,b){const P=new Error(`NavigationCancelingError: ${y||""}`);return P[zi]=!0,P.cancellationCode=b,P}function Ro(y){return!!y&&y[zi]}let Ui=(()=>{var y;class b{}return(y=b).\u0275fac=function(A){return new(A||y)},y.\u0275cmp=u.In1({type:y,selectors:[["ng-component"]],standalone:!0,features:[u.UHJ],decls:1,vars:0,template:function(A,N){1&A&&u.wR5(0,"router-outlet")},dependencies:[yo],encapsulation:2}),b})();function _i(y){const b=y.children&&y.children.map(_i),P=b?{...y,children:b}:{...y};return!P.component&&!P.loadComponent&&(b||P.loadChildren)&&P.outlet&&P.outlet!==Rt&&(P.component=Ui),P}function li(y){return y.outlet||Rt}function wo(y){var b;if(!y)return null;if(null!==(b=y.routeConfig)&&void 0!==b&&b._injector)return y.routeConfig._injector;for(let P=y.parent;P;P=P.parent){const A=P.routeConfig;if(null!=A&&A._loadedInjector)return A._loadedInjector;if(null!=A&&A._injector)return A._injector}return null}class Ms{constructor(b,P,A,N,H){this.routeReuseStrategy=b,this.futureState=P,this.currState=A,this.forwardEvent=N,this.inputBindingEnabled=H}activate(b){const P=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(P,A,b),An(this.futureState.root),this.activateChildRoutes(P,A,b)}deactivateChildRoutes(b,P,A){const N=Ee(P);b.children.forEach(H=>{const de=H.value.outlet;this.deactivateRoutes(H,N[de],A),delete N[de]}),Object.values(N).forEach(H=>{this.deactivateRouteAndItsChildren(H,A)})}deactivateRoutes(b,P,A){const N=b.value,H=P?P.value:null;if(N===H)if(N.component){const de=A.getContext(N.outlet);de&&this.deactivateChildRoutes(b,P,de.children)}else this.deactivateChildRoutes(b,P,A);else H&&this.deactivateRouteAndItsChildren(P,A)}deactivateRouteAndItsChildren(b,P){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,P):this.deactivateRouteAndOutlet(b,P)}detachAndStoreRouteSubtree(b,P){const A=P.getContext(b.value.outlet),N=A&&b.value.component?A.children:P,H=Ee(b);for(const de of Object.values(H))this.deactivateRouteAndItsChildren(de,N);if(A&&A.outlet){const de=A.outlet.detach(),ht=A.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:de,route:b,contexts:ht})}}deactivateRouteAndOutlet(b,P){const A=P.getContext(b.value.outlet),N=A&&b.value.component?A.children:P,H=Ee(b);for(const de of Object.values(H))this.deactivateRouteAndItsChildren(de,N);A&&(A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated()),A.attachRef=null,A.route=null)}activateChildRoutes(b,P,A){const N=Ee(P);b.children.forEach(H=>{this.activateRoutes(H,N[H.value.outlet],A),this.forwardEvent(new wt(H.value.snapshot))}),b.children.length&&this.forwardEvent(new Qt(b.value.snapshot))}activateRoutes(b,P,A){const N=b.value,H=P?P.value:null;if(An(N),N===H)if(N.component){const de=A.getOrCreateContext(N.outlet);this.activateChildRoutes(b,P,de.children)}else this.activateChildRoutes(b,P,A);else if(N.component){const de=A.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const ht=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),de.children.onOutletReAttached(ht.contexts),de.attachRef=ht.componentRef,de.route=ht.route.value,de.outlet&&de.outlet.attach(ht.componentRef,ht.route.value),An(ht.route.value),this.activateChildRoutes(b,null,de.children)}else{const ht=wo(N.snapshot);de.attachRef=null,de.route=N,de.injector=ht,de.outlet&&de.outlet.activateWith(N,de.injector),this.activateChildRoutes(b,null,de.children)}}else this.activateChildRoutes(b,null,A)}}class Hs{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class no{constructor(b,P){this.component=b,this.route=P}}function Zo(y,b,P){const A=y._root;return Ds(A,b?b._root:null,P,[A.value])}function xo(y,b){const P=Symbol(),A=b.get(y,P);return A===P?"function"!=typeof y||(0,u.K_M)(y)?b.get(y):y:A}function Ds(y,b,P,A,N={canDeactivateChecks:[],canActivateChecks:[]}){const H=Ee(b);return y.children.forEach(de=>{(function di(y,b,P,A,N={canDeactivateChecks:[],canActivateChecks:[]}){const H=y.value,de=b?b.value:null,ht=P?P.getContext(y.value.outlet):null;if(de&&H.routeConfig===de.routeConfig){const xt=function ho(y,b,P){if("function"==typeof P)return P(y,b);switch(P){case"pathParamsChange":return!Tn(y.url,b.url);case"pathParamsOrQueryParamsChange":return!Tn(y.url,b.url)||!yt(y.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!go(y,b)||!yt(y.queryParams,b.queryParams);default:return!go(y,b)}}(de,H,H.routeConfig.runGuardsAndResolvers);xt?N.canActivateChecks.push(new Hs(A)):(H.data=de.data,H._resolvedData=de._resolvedData),Ds(y,b,H.component?ht?ht.children:null:P,A,N),xt&&ht&&ht.outlet&&ht.outlet.isActivated&&N.canDeactivateChecks.push(new no(ht.outlet.component,de))}else de&&Wo(b,ht,N),N.canActivateChecks.push(new Hs(A)),Ds(y,null,H.component?ht?ht.children:null:P,A,N)})(de,H[de.value.outlet],P,A.concat([de.value]),N),delete H[de.value.outlet]}),Object.entries(H).forEach(([de,ht])=>Wo(ht,P.getContext(de),N)),N}function Wo(y,b,P){const A=Ee(y),N=y.value;Object.entries(A).forEach(([H,de])=>{Wo(de,N.component?b?b.children.getContext(H):null:b,P)}),P.canDeactivateChecks.push(new no(N.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,N))}function hs(y){return"function"==typeof y}function F(y){return y instanceof ze.G||"EmptyError"===(null==y?void 0:y.name)}const R=Symbol("INITIAL_VALUE");function Y(){return(0,Qe.G)(y=>(0,We.E)(y.map(b=>b.pipe((0,ae.U)(1),(0,X.W)(R)))).pipe((0,Oe.k)(b=>{for(const P of b)if(!0!==P){if(P===R)return R;if(!1===P||P instanceof Ur)return P}return!0}),(0,oe.I)(b=>b!==R),(0,ae.U)(1)))}function yi(y){return(0,Fe.W)((0,ut.y)(b=>{if(rr(b))throw co(0,b)}),(0,Oe.k)(b=>!0===b))}class Xi{constructor(b){this.segmentGroup=b||null}}class Hr extends Error{constructor(b){super(),this.urlTree=b}}function wi(y){return ke(new Xi(y))}class ro{constructor(b,P){this.urlSerializer=b,this.urlTree=P}lineralizeSegments(b,P){let A=[],N=P.root;for(;;){if(A=A.concat(N.segments),0===N.numberOfChildren)return(0,pe.of)(A);if(N.numberOfChildren>1||!N.children[Rt])return ke(new u.OBp(4e3,!1));N=N.children[Rt]}}applyRedirectCommands(b,P,A){const N=this.applyRedirectCreateUrlTree(P,this.urlSerializer.parse(P),b,A);if(P.startsWith("/"))throw new Hr(N);return N}applyRedirectCreateUrlTree(b,P,A,N){const H=this.createSegmentGroup(b,P.root,A,N);return new Ur(H,this.createQueryParams(P.queryParams,this.urlTree.queryParams),P.fragment)}createQueryParams(b,P){const A={};return Object.entries(b).forEach(([N,H])=>{if("string"==typeof H&&H.startsWith(":")){const ht=H.substring(1);A[N]=P[ht]}else A[N]=H}),A}createSegmentGroup(b,P,A,N){const H=this.createSegments(b,P.segments,A,N);let de={};return Object.entries(P.children).forEach(([ht,xt])=>{de[ht]=this.createSegmentGroup(b,xt,A,N)}),new On(H,de)}createSegments(b,P,A,N){return P.map(H=>H.path.startsWith(":")?this.findPosParam(b,H,N):this.findOrReturn(H,A))}findPosParam(b,P,A){const N=A[P.path.substring(1)];if(!N)throw new u.OBp(4001,!1);return N}findOrReturn(b,P){let A=0;for(const N of P){if(N.path===b.path)return P.splice(A),N;A++}return b}}const No={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ca(y,b,P,A,N){const H=fs(y,b,P);return H.matched?(A=function Mo(y,b){var P;return y.providers&&!y._injector&&(y._injector=(0,u.SIz)(y.providers,b,`Route: ${y.path}`)),null!==(P=y._injector)&&void 0!==P?P:b}(b,A),function Qi(y,b,P,A){const N=b.canMatch;if(!N||0===N.length)return(0,pe.of)(!0);const H=N.map(de=>{const ht=xo(de,y);return an(function E(y){return y&&hs(y.canMatch)}(ht)?ht.canMatch(b,P):(0,u.SMS)(y,()=>ht(b,P)))});return(0,pe.of)(H).pipe(Y(),yi())}(A,b,P).pipe((0,Oe.k)(de=>!0===de?H:{...No}))):(0,pe.of)(H)}function fs(y,b,P){var A,N;if("**"===b.path)return function Na(y){return{matched:!0,parameters:y.length>0?Vt(y).parameters:{},consumedSegments:y,remainingSegments:[],positionalParamSegments:{}}}(P);if(""===b.path)return"full"===b.pathMatch&&(y.hasChildren()||P.length>0)?{...No}:{matched:!0,consumedSegments:[],remainingSegments:P,parameters:{},positionalParamSegments:{}};const de=(b.matcher||Le)(P,y,b);if(!de)return{...No};const ht={};Object.entries(null!==(A=de.posParams)&&void 0!==A?A:{}).forEach(([Ye,En])=>{ht[Ye]=En.path});const xt=de.consumed.length>0?{...ht,...de.consumed[de.consumed.length-1].parameters}:ht;return{matched:!0,consumedSegments:de.consumed,remainingSegments:P.slice(de.consumed.length),parameters:xt,positionalParamSegments:null!==(N=de.posParams)&&void 0!==N?N:{}}}function es(y,b,P,A){return P.length>0&&function hi(y,b,P){return P.some(A=>da(y,b,A)&&li(A)!==Rt)}(y,P,A)?{segmentGroup:new On(b,tl(A,new On(P,y.children))),slicedSegments:[]}:0===P.length&&function er(y,b,P){return P.some(A=>da(y,b,A))}(y,P,A)?{segmentGroup:new On(y.segments,zs(y,P,A,y.children)),slicedSegments:P}:{segmentGroup:new On(y.segments,y.children),slicedSegments:P}}function zs(y,b,P,A){const N={};for(const H of P)if(da(y,b,H)&&!A[li(H)]){const de=new On([],{});N[li(H)]=de}return{...A,...N}}function tl(y,b){const P={};P[Rt]=b;for(const A of y)if(""===A.path&&li(A)!==Rt){const N=new On([],{});P[li(A)]=N}return P}function da(y,b,P){return(!(y.hasChildren()||b.length>0)||"full"!==P.pathMatch)&&""===P.path}class Rl{}class Ps{constructor(b,P,A,N,H,de,ht){this.injector=b,this.configLoader=P,this.rootComponentType=A,this.config=N,this.urlTree=H,this.paramsInheritanceStrategy=de,this.urlSerializer=ht,this.applyRedirects=new ro(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(b){return new u.OBp(4002,`'${b.segmentGroup}'`)}recognize(){const b=es(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(b).pipe((0,Oe.k)(P=>{const A=new Hi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Rt,this.rootComponentType,null,{}),N=new ne(A,P),H=new jr("",N),de=function Zn(y,b,P=null,A=null){return ct(ft(y),b,P,A)}(A,[],this.urlTree.queryParams,this.urlTree.fragment);return de.queryParams=this.urlTree.queryParams,H.url=this.urlSerializer.serialize(de),this.inheritParamsAndData(H._root,null),{state:H,tree:de}}))}match(b){return this.processSegmentGroup(this.injector,this.config,b,Rt).pipe(kt(A=>{if(A instanceof Hr)return this.urlTree=A.urlTree,this.match(A.urlTree.root);throw A instanceof Xi?this.noMatchError(A):A}))}inheritParamsAndData(b,P){const A=b.value,N=Mi(A,P,this.paramsInheritanceStrategy);A.params=Object.freeze(N.params),A.data=Object.freeze(N.data),b.children.forEach(H=>this.inheritParamsAndData(H,A))}processSegmentGroup(b,P,A,N){return 0===A.segments.length&&A.hasChildren()?this.processChildren(b,P,A):this.processSegment(b,P,A,A.segments,N,!0).pipe((0,Oe.k)(H=>H instanceof ne?[H]:[]))}processChildren(b,P,A){const N=[];for(const H of Object.keys(A.children))"primary"===H?N.unshift(H):N.push(H);return(0,be.Q)(N).pipe(ot(H=>{const de=A.children[H],ht=function Po(y,b){const P=y.filter(A=>li(A)===b);return P.push(...y.filter(A=>li(A)!==b)),P}(P,H);return this.processSegmentGroup(b,ht,de,H)}),(0,fn.K)((H,de)=>(H.push(...de),H)),(0,jn.G)(null),function we(y,b){const P=arguments.length>=2;return A=>A.pipe(y?(0,oe.I)((N,H)=>y(N,H,A)):fe.Z,at(1),P?(0,jn.G)(b):(0,De._)(()=>new ze.G))}(),(0,Se.O)(H=>{if(null===H)return wi(A);const de=Ml(H);return function lc(y){y.sort((b,P)=>b.value.outlet===Rt?-1:P.value.outlet===Rt?1:b.value.outlet.localeCompare(P.value.outlet))}(de),(0,pe.of)(de)}))}processSegment(b,P,A,N,H,de){return(0,be.Q)(P).pipe(ot(ht=>{var xt;return this.processSegmentAgainstRoute(null!==(xt=ht._injector)&&void 0!==xt?xt:b,P,ht,A,N,H,de).pipe(kt(Ye=>{if(Ye instanceof Xi)return(0,pe.of)(null);throw Ye}))}),(0,je.K)(ht=>!!ht),kt(ht=>{if(F(ht))return function od(y,b,P){return 0===b.length&&!y.children[P]}(A,N,H)?(0,pe.of)(new Rl):wi(A);throw ht}))}processSegmentAgainstRoute(b,P,A,N,H,de,ht){return function sc(y,b,P,A){return!!(li(y)===A||A!==Rt&&da(b,P,y))&&fs(b,y,P).matched}(A,N,H,de)?void 0===A.redirectTo?this.matchSegmentAgainstRoute(b,N,A,H,de):this.allowRedirects&&ht?this.expandSegmentAgainstRouteUsingRedirect(b,N,P,A,H,de):wi(N):wi(N)}expandSegmentAgainstRouteUsingRedirect(b,P,A,N,H,de){const{matched:ht,consumedSegments:xt,positionalParamSegments:Ye,remainingSegments:En}=fs(P,N,H);if(!ht)return wi(P);N.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const yn=this.applyRedirects.applyRedirectCommands(xt,N.redirectTo,Ye);return this.applyRedirects.lineralizeSegments(N,yn).pipe((0,Se.O)(Li=>this.processSegment(b,A,P,Li.concat(En),de,!1)))}matchSegmentAgainstRoute(b,P,A,N,H){const de=ca(P,A,N,b);return"**"===A.path&&(P.children={}),de.pipe((0,Qe.G)(ht=>{var xt;return ht.matched?(b=null!==(xt=A._injector)&&void 0!==xt?xt:b,this.getChildConfig(b,A,N).pipe((0,Qe.G)(({routes:Ye})=>{var En,yn,Li;const Jn=null!==(En=A._loadedInjector)&&void 0!==En?En:b,{consumedSegments:ln,remainingSegments:ms,parameters:ws}=ht,Kn=new Hi(ln,ws,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Pl(y){return y.data||{}}(A),li(A),null!==(yn=null!==(Li=A.component)&&void 0!==Li?Li:A._loadedComponent)&&void 0!==yn?yn:null,A,function Nt(y){return y.resolve||{}}(A)),{segmentGroup:ma,slicedSegments:ns}=es(P,ln,ms,Ye);if(0===ns.length&&ma.hasChildren())return this.processChildren(Jn,Ye,ma).pipe((0,Oe.k)(Ts=>null===Ts?null:new ne(Kn,Ts)));if(0===Ye.length&&0===ns.length)return(0,pe.of)(new ne(Kn,[]));const Fl=li(A)===H;return this.processSegment(Jn,Ye,ma,ns,Fl?Rt:H,!0).pipe((0,Oe.k)(Ts=>new ne(Kn,Ts instanceof ne?[Ts]:[])))}))):wi(P)}))}getChildConfig(b,P,A){return P.children?(0,pe.of)({routes:P.children,injector:b}):P.loadChildren?void 0!==P._loadedRoutes?(0,pe.of)({routes:P._loadedRoutes,injector:P._loadedInjector}):function Kr(y,b,P,A){const N=b.canLoad;if(void 0===N||0===N.length)return(0,pe.of)(!0);const H=N.map(de=>{const ht=xo(de,y);return an(function Ws(y){return y&&hs(y.canLoad)}(ht)?ht.canLoad(b,P):(0,u.SMS)(y,()=>ht(b,P)))});return(0,pe.of)(H).pipe(Y(),yi())}(b,P,A).pipe((0,Se.O)(N=>N?this.configLoader.loadChildren(b,P).pipe((0,ut.y)(H=>{P._loadedRoutes=H.routes,P._loadedInjector=H.injector})):function Zi(y){return ke(Yn(!1,Wt.GuardRejected))}())):(0,pe.of)({routes:[],injector:b})}}function qo(y){const b=y.value.routeConfig;return b&&""===b.path}function Ml(y){const b=[],P=new Set;for(const A of y){if(!qo(A)){b.push(A);continue}const N=b.find(H=>A.value.routeConfig===H.value.routeConfig);void 0!==N?(N.children.push(...A.children),P.add(N)):b.push(A)}for(const A of P){const N=Ml(A.children);b.push(new ne(A.value,N))}return b.filter(A=>!P.has(A))}function qs(y){const b=y.children.map(P=>qs(P)).flat();return[y,...b]}function Oo(y){return(0,Qe.G)(b=>{const P=y(b);return P?(0,be.Q)(P).pipe((0,Oe.k)(()=>b)):(0,pe.of)(b)})}let il=(()=>{var y;class b{buildTitle(A){let N,H=A.root;for(;void 0!==H;){var de;N=null!==(de=this.getResolvedTitleForRoute(H))&&void 0!==de?de:N,H=H.children.find(ht=>ht.outlet===Rt)}return N}getResolvedTitleForRoute(A){return A.data[_n]}}return(y=b).\u0275fac=function(A){return new(A||y)},y.\u0275prov=u.wxM({token:y,factory:()=>(0,u.uUt)(xs),providedIn:"root"}),b})(),xs=(()=>{var y;class b extends il{constructor(A){super(),this.title=A}updateTitle(A){const N=this.buildTitle(A);void 0!==N&&this.title.setTitle(N)}}return(y=b).\u0275fac=function(A){return new(A||y)(u.CoB(Zt.OY))},y.\u0275prov=u.wxM({token:y,factory:y.\u0275fac,providedIn:"root"}),b})();const ha=new u.UbH("",{providedIn:"root",factory:()=>({})}),Ys=new u.UbH("");let Oa=(()=>{var y;class b{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.uUt)(u.ESV)}loadComponent(A){if(this.componentLoaders.get(A))return this.componentLoaders.get(A);if(A._loadedComponent)return(0,pe.of)(A._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(A);const N=an(A.loadComponent()).pipe((0,Oe.k)(Qs),(0,ut.y)(de=>{this.onLoadEndListener&&this.onLoadEndListener(A),A._loadedComponent=de}),nt(()=>{this.componentLoaders.delete(A)})),H=new vt(N,()=>new Ke.E).pipe(Be());return this.componentLoaders.set(A,H),H}loadChildren(A,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,pe.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const de=function fo(y,b,P,A){return an(y.loadChildren()).pipe((0,Oe.k)(Qs),(0,Se.O)(N=>N instanceof u.obV||Array.isArray(N)?(0,pe.of)(N):(0,be.Q)(b.compileModuleAsync(N))),(0,Oe.k)(N=>{A&&A(y);let H,de,ht=!1;return Array.isArray(N)?(de=N,!0):(H=N.create(P).injector,de=H.get(Ys,[],{optional:!0,self:!0}).flat()),{routes:de.map(_i),injector:H}}))}(N,this.compiler,A,this.onLoadEndListener).pipe(nt(()=>{this.childrenLoaders.delete(N)})),ht=new vt(de,()=>new Ke.E).pipe(Be());return this.childrenLoaders.set(N,ht),ht}}return(y=b).\u0275fac=function(A){return new(A||y)},y.\u0275prov=u.wxM({token:y,factory:y.\u0275fac,providedIn:"root"}),b})();function Qs(y){return function To(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let ko=(()=>{var y;class b{}return(y=b).\u0275fac=function(A){return new(A||y)},y.\u0275prov=u.wxM({token:y,factory:()=>(0,u.uUt)(C),providedIn:"root"}),b})(),C=(()=>{var y;class b{shouldProcessUrl(A){return!0}extract(A){return A}merge(A,N){return A}}return(y=b).\u0275fac=function(A){return new(A||y)},y.\u0275prov=u.wxM({token:y,factory:y.\u0275fac,providedIn:"root"}),b})();const V=new u.UbH(""),ye=new u.UbH("");function L(y,b,P){const A=y.get(ye),N=y.get(Ve.Ud);return y.get(u.WW2).runOutsideAngular(()=>{if(!N.startViewTransition||A.skipNextTransition)return A.skipNextTransition=!1,Promise.resolve();let H;const de=new Promise(Ye=>{H=Ye}),ht=N.startViewTransition(()=>(H(),function ie(y){return new Promise(b=>{(0,u.I44)(b,{injector:y})})}(y))),{onViewTransitionCreated:xt}=A;return xt&&(0,u.SMS)(y,()=>xt({transition:ht,from:b,to:P})),de})}let xe=(()=>{var y;class b{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ke.E,this.transitionAbortSubject=new Ke.E,this.configLoader=(0,u.uUt)(Oa),this.environmentInjector=(0,u.uUt)(u.SIe),this.urlSerializer=(0,u.uUt)(Ln),this.rootContexts=(0,u.uUt)(qr),this.location=(0,u.uUt)(Ve.oB),this.inputBindingEnabled=null!==(0,u.uUt)(Io,{optional:!0}),this.titleStrategy=(0,u.uUt)(il),this.options=(0,u.uUt)(ha,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,u.uUt)(ko),this.createViewTransition=(0,u.uUt)(V,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,pe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=H=>this.events.next(new Ct(H)),this.configLoader.onLoadStartListener=H=>this.events.next(new dt(H))}complete(){var A;null===(A=this.transitions)||void 0===A||A.complete()}handleNavigationRequest(A){var N;const H=++this.navigationId;null===(N=this.transitions)||void 0===N||N.next({...this.transitions.value,...A,id:H})}setupNavigations(A,N,H){return this.transitions=new ce.g({id:0,currentUrlTree:N,currentRawUrl:N,extractedUrl:this.urlHandlingStrategy.extract(N),urlAfterRedirects:this.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:me,restoredState:null,currentSnapshot:H.snapshot,targetSnapshot:null,currentRouterState:H,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,oe.I)(de=>0!==de.id),(0,Oe.k)(de=>({...de,extractedUrl:this.urlHandlingStrategy.extract(de.rawUrl)})),(0,Qe.G)(de=>{this.currentTransition=de;let ht=!1,xt=!1;return(0,pe.of)(de).pipe((0,ut.y)(Ye=>{this.currentNavigation={id:Ye.id,initialUrl:Ye.rawUrl,extractedUrl:Ye.extractedUrl,trigger:Ye.source,extras:Ye.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Qe.G)(Ye=>{var En;const yn=!A.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),Li=null!==(En=Ye.extras.onSameUrlNavigation)&&void 0!==En?En:A.onSameUrlNavigation;if(!yn&&"reload"!==Li){const Jn="";return this.events.next(new Un(Ye.id,this.urlSerializer.serialize(Ye.rawUrl),Jn,un.IgnoredSameUrlNavigation)),Ye.resolve(null),Ae.k}if(this.urlHandlingStrategy.shouldProcessUrl(Ye.rawUrl))return(0,pe.of)(Ye).pipe((0,Qe.G)(Jn=>{var ln,ms;const ws=null===(ln=this.transitions)||void 0===ln?void 0:ln.getValue();return this.events.next(new st(Jn.id,this.urlSerializer.serialize(Jn.extractedUrl),Jn.source,Jn.restoredState)),ws!==(null===(ms=this.transitions)||void 0===ms?void 0:ms.getValue())?Ae.k:Promise.resolve(Jn)}),function yr(y,b,P,A,N,H){return(0,Se.O)(de=>function ac(y,b,P,A,N,H,de="emptyOnly"){return new Ps(y,b,P,A,N,de,H).recognize()}(y,b,P,A,de.extractedUrl,N,H).pipe((0,Oe.k)(({state:ht,tree:xt})=>({...de,targetSnapshot:ht,urlAfterRedirects:xt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,A.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,ut.y)(Jn=>{de.targetSnapshot=Jn.targetSnapshot,de.urlAfterRedirects=Jn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Jn.urlAfterRedirects};const ln=new pt(Jn.id,this.urlSerializer.serialize(Jn.extractedUrl),this.urlSerializer.serialize(Jn.urlAfterRedirects),Jn.targetSnapshot);this.events.next(ln)}));if(yn&&this.urlHandlingStrategy.shouldProcessUrl(Ye.currentRawUrl)){const{id:Jn,extractedUrl:ln,source:ms,restoredState:ws,extras:Kn}=Ye,ma=new st(Jn,this.urlSerializer.serialize(ln),ms,ws);this.events.next(ma);const ns=dr(this.rootComponentType).snapshot;return this.currentTransition=de={...Ye,targetSnapshot:ns,urlAfterRedirects:ln,extras:{...Kn,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ln,(0,pe.of)(de)}{const Jn="";return this.events.next(new Un(Ye.id,this.urlSerializer.serialize(Ye.extractedUrl),Jn,un.IgnoredByUrlHandlingStrategy)),Ye.resolve(null),Ae.k}}),(0,ut.y)(Ye=>{const En=new j(Ye.id,this.urlSerializer.serialize(Ye.extractedUrl),this.urlSerializer.serialize(Ye.urlAfterRedirects),Ye.targetSnapshot);this.events.next(En)}),(0,Oe.k)(Ye=>(this.currentTransition=de={...Ye,guards:Zo(Ye.targetSnapshot,Ye.currentSnapshot,this.rootContexts)},de)),function gt(y,b){return(0,Se.O)(P=>{const{targetSnapshot:A,currentSnapshot:N,guards:{canActivateChecks:H,canDeactivateChecks:de}}=P;return 0===de.length&&0===H.length?(0,pe.of)({...P,guardsResult:!0}):function Tt(y,b,P,A){return(0,be.Q)(y).pipe((0,Se.O)(N=>function Xr(y,b,P,A,N){const H=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!H||0===H.length)return(0,pe.of)(!0);const de=H.map(ht=>{var xt;const Ye=null!==(xt=wo(b))&&void 0!==xt?xt:N,En=xo(ht,Ye);return an(function w(y){return y&&hs(y.canDeactivate)}(En)?En.canDeactivate(y,b,P,A):(0,u.SMS)(Ye,()=>En(y,b,P,A))).pipe((0,je.K)())});return(0,pe.of)(de).pipe(Y())}(N.component,N.route,P,b,A)),(0,je.K)(N=>!0!==N,!0))}(de,A,N,y).pipe((0,Se.O)(ht=>ht&&function xa(y){return"boolean"==typeof y}(ht)?function mn(y,b,P,A){return(0,be.Q)(b).pipe(ot(N=>(0,ge.W)(function Qr(y,b){return null!==y&&b&&b(new Ot(y)),(0,pe.of)(!0)}(N.route.parent,A),function Xn(y,b){return null!==y&&b&&b(new $t(y)),(0,pe.of)(!0)}(N.route,A),function ni(y,b,P){const A=b[b.length-1],H=b.slice(0,b.length-1).reverse().map(de=>function Ho(y){const b=y.routeConfig?y.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:y,guards:b}:null}(de)).filter(de=>null!==de).map(de=>Re(()=>{const ht=de.guards.map(xt=>{var Ye;const En=null!==(Ye=wo(de.node))&&void 0!==Ye?Ye:P,yn=xo(xt,En);return an(function B(y){return y&&hs(y.canActivateChild)}(yn)?yn.canActivateChild(A,y):(0,u.SMS)(En,()=>yn(A,y))).pipe((0,je.K)())});return(0,pe.of)(ht).pipe(Y())}));return(0,pe.of)(H).pipe(Y())}(y,N.path,P),function Wn(y,b,P){const A=b.routeConfig?b.routeConfig.canActivate:null;if(!A||0===A.length)return(0,pe.of)(!0);const N=A.map(H=>Re(()=>{var de;const ht=null!==(de=wo(b))&&void 0!==de?de:P,xt=xo(H,ht);return an(function G(y){return y&&hs(y.canActivate)}(xt)?xt.canActivate(b,y):(0,u.SMS)(ht,()=>xt(b,y))).pipe((0,je.K)())}));return(0,pe.of)(N).pipe(Y())}(y,N.route,P))),(0,je.K)(N=>!0!==N,!0))}(A,H,y,b):(0,pe.of)(ht)),(0,Oe.k)(ht=>({...P,guardsResult:ht})))})}(this.environmentInjector,Ye=>this.events.next(Ye)),(0,ut.y)(Ye=>{if(de.guardsResult=Ye.guardsResult,rr(Ye.guardsResult))throw co(0,Ye.guardsResult);const En=new J(Ye.id,this.urlSerializer.serialize(Ye.extractedUrl),this.urlSerializer.serialize(Ye.urlAfterRedirects),Ye.targetSnapshot,!!Ye.guardsResult);this.events.next(En)}),(0,oe.I)(Ye=>!!Ye.guardsResult||(this.cancelNavigationTransition(Ye,"",Wt.GuardRejected),!1)),Oo(Ye=>{if(Ye.guards.canActivateChecks.length)return(0,pe.of)(Ye).pipe((0,ut.y)(En=>{const yn=new Ue(En.id,this.urlSerializer.serialize(En.extractedUrl),this.urlSerializer.serialize(En.urlAfterRedirects),En.targetSnapshot);this.events.next(yn)}),(0,Qe.G)(En=>{let yn=!1;return(0,pe.of)(En).pipe(function xl(y,b){return(0,Se.O)(P=>{const{targetSnapshot:A,guards:{canActivateChecks:N}}=P;if(!N.length)return(0,pe.of)(P);const H=new Set(N.map(xt=>xt.route)),de=new Set;for(const xt of H)if(!de.has(xt))for(const Ye of qs(xt))de.add(Ye);let ht=0;return(0,be.Q)(de).pipe(ot(xt=>H.has(xt)?function ri(y,b,P,A){const N=y.routeConfig,H=y._resolve;return void 0!==(null==N?void 0:N.title)&&!_o(N)&&(H[_n]=N.title),function rl(y,b,P,A){const N=jt(y);if(0===N.length)return(0,pe.of)({});const H={};return(0,be.Q)(N).pipe((0,Se.O)(de=>function Ks(y,b,P,A){var N;const H=null!==(N=wo(b))&&void 0!==N?N:A,de=xo(y,H);return an(de.resolve?de.resolve(b,P):(0,u.SMS)(H,()=>de(b,P)))}(y[de],b,P,A).pipe((0,je.K)(),(0,ut.y)(ht=>{H[de]=ht}))),at(1),function Ne(y){return(0,Oe.k)(()=>y)}(H),kt(de=>F(de)?Ae.k:ke(de)))}(H,y,b,A).pipe((0,Oe.k)(de=>(y._resolvedData=de,y.data=Mi(y,y.parent,P).resolve,null)))}(xt,A,y,b):(xt.data=Mi(xt,xt.parent,y).resolve,(0,pe.of)(void 0))),(0,ut.y)(()=>ht++),at(1),(0,Se.O)(xt=>ht===de.size?(0,pe.of)(P):Ae.k))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,ut.y)({next:()=>yn=!0,complete:()=>{yn||this.cancelNavigationTransition(En,"",Wt.NoDataFromResolver)}}))}),(0,ut.y)(En=>{const yn=new He(En.id,this.urlSerializer.serialize(En.extractedUrl),this.urlSerializer.serialize(En.urlAfterRedirects),En.targetSnapshot);this.events.next(yn)}))}),Oo(Ye=>{const En=yn=>{var Li;const Jn=[];null!==(Li=yn.routeConfig)&&void 0!==Li&&Li.loadComponent&&!yn.routeConfig._loadedComponent&&Jn.push(this.configLoader.loadComponent(yn.routeConfig).pipe((0,ut.y)(ln=>{yn.component=ln}),(0,Oe.k)(()=>{})));for(const ln of yn.children)Jn.push(...En(ln));return Jn};return(0,We.E)(En(Ye.targetSnapshot.root)).pipe((0,jn.G)(null),(0,ae.U)(1))}),Oo(()=>this.afterPreactivation()),(0,Qe.G)(()=>{var Ye;const{currentSnapshot:En,targetSnapshot:yn}=de,Li=null===(Ye=this.createViewTransition)||void 0===Ye?void 0:Ye.call(this,this.environmentInjector,En.root,yn.root);return Li?(0,be.Q)(Li).pipe((0,Oe.k)(()=>de)):(0,pe.of)(de)}),(0,Oe.k)(Ye=>{const En=function Wi(y,b,P){const A=Ci(y,b._root,P?P._root:void 0);return new Yt(A,b)}(A.routeReuseStrategy,Ye.targetSnapshot,Ye.currentRouterState);return this.currentTransition=de={...Ye,targetRouterState:En},this.currentNavigation.targetRouterState=En,de}),(0,ut.y)(()=>{this.events.next(new rn)}),((y,b,P,A)=>(0,Oe.k)(N=>(new Ms(b,N.targetRouterState,N.currentRouterState,P,A).activate(y),N)))(this.rootContexts,A.routeReuseStrategy,Ye=>this.events.next(Ye),this.inputBindingEnabled),(0,ae.U)(1),(0,ut.y)({next:Ye=>{var En;ht=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bt(Ye.id,this.urlSerializer.serialize(Ye.extractedUrl),this.urlSerializer.serialize(Ye.urlAfterRedirects))),null===(En=this.titleStrategy)||void 0===En||En.updateTitle(Ye.targetRouterState.snapshot),Ye.resolve(!0)},complete:()=>{ht=!0}}),function Lt(y){return(0,Pe.i)((b,P)=>{(0,ue.Uv)(y).subscribe((0,Me.e)(P,()=>P.complete(),Ie.K)),!P.closed&&b.subscribe(P)})}(this.transitionAbortSubject.pipe((0,ut.y)(Ye=>{throw Ye}))),nt(()=>{var Ye;!ht&&!xt&&this.cancelNavigationTransition(de,"",Wt.SupersededByNewNavigation),(null===(Ye=this.currentTransition)||void 0===Ye?void 0:Ye.id)===de.id&&(this.currentNavigation=null,this.currentTransition=null)}),kt(Ye=>{if(xt=!0,Ro(Ye))this.events.next(new gn(de.id,this.urlSerializer.serialize(de.extractedUrl),Ye.message,Ye.cancellationCode)),function ds(y){return Ro(y)&&rr(y.url)}(Ye)?this.events.next(new pn(Ye.url)):de.resolve(!1);else{var En;this.events.next(new ui(de.id,this.urlSerializer.serialize(de.extractedUrl),Ye,null!==(En=de.targetSnapshot)&&void 0!==En?En:void 0));try{de.resolve(A.errorHandler(Ye))}catch(yn){this.options.resolveNavigationPromiseOnError?de.resolve(!1):de.reject(yn)}}return Ae.k}))}))}cancelNavigationTransition(A,N,H){const de=new gn(A.id,this.urlSerializer.serialize(A.extractedUrl),N,H);this.events.next(de),A.resolve(!1)}isUpdatingInternalState(){var A,N;return(null===(A=this.currentTransition)||void 0===A?void 0:A.extractedUrl.toString())!==(null===(N=this.currentTransition)||void 0===N?void 0:N.currentUrlTree.toString())}isUpdatedBrowserUrl(){var A,N;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(A=this.currentTransition)||void 0===A?void 0:A.extractedUrl.toString())&&!(null!==(N=this.currentTransition)&&void 0!==N&&N.extras.skipLocationChange)}}return(y=b).\u0275fac=function(A){return new(A||y)},y.\u0275prov=u.wxM({token:y,factory:y.\u0275fac,providedIn:"root"}),b})();function St(y){return y!==me}let zt=(()=>{var y;class b{}return(y=b).\u0275fac=function(A){return new(A||y)},y.\u0275prov=u.wxM({token:y,factory:()=>(0,u.uUt)(Lr),providedIn:"root"}),b})();class pr{shouldDetach(b){return!1}store(b,P){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,P){return b.routeConfig===P.routeConfig}}let Lr=(()=>{var y;class b extends pr{}return(y=b).\u0275fac=(()=>{let P;return function(N){return(P||(P=u.otF(y)))(N||y)}})(),y.\u0275prov=u.wxM({token:y,factory:y.\u0275fac,providedIn:"root"}),b})(),Er=(()=>{var y;class b{}return(y=b).\u0275fac=function(A){return new(A||y)},y.\u0275prov=u.wxM({token:y,factory:()=>(0,u.uUt)(gr),providedIn:"root"}),b})(),gr=(()=>{var y;class b extends Er{constructor(){super(...arguments),this.location=(0,u.uUt)(Ve.oB),this.urlSerializer=(0,u.uUt)(Ln),this.options=(0,u.uUt)(ha,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,u.uUt)(ko),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ur,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=dr(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var A,N;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(A=null===(N=this.restoredState())||void 0===N?void 0:N.\u0275routerPageId)&&void 0!==A?A:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(A){return this.location.subscribe(N=>{"popstate"===N.type&&A(N.url,N.state)})}handleRouterEvent(A,N){if(A instanceof st)this.stateMemento=this.createStateMemento();else if(A instanceof Un)this.rawUrlTree=N.initialUrl;else if(A instanceof pt){if("eager"===this.urlUpdateStrategy&&!N.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(N.finalUrl,N.initialUrl);this.setBrowserUrl(H,N)}}else A instanceof rn?(this.currentUrlTree=N.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(N.finalUrl,N.initialUrl),this.routerState=N.targetRouterState,"deferred"===this.urlUpdateStrategy&&(N.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,N))):A instanceof gn&&(A.code===Wt.GuardRejected||A.code===Wt.NoDataFromResolver)?this.restoreHistory(N):A instanceof ui?this.restoreHistory(N,!0):A instanceof bt&&(this.lastSuccessfulId=A.id,this.currentPageId=this.browserPageId)}setBrowserUrl(A,N){const H=this.urlSerializer.serialize(A);if(this.location.isCurrentPathEqualTo(H)||N.extras.replaceUrl){const ht={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(H,"",ht)}else{const de={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(H,"",de)}}restoreHistory(A,N=!1){if("computed"===this.canceledNavigationResolution){const de=this.currentPageId-this.browserPageId;0!==de?this.location.historyGo(de):this.currentUrlTree===A.finalUrl&&0===de&&(this.resetState(A),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(A),this.resetUrlToCurrentUrlTree())}resetState(A){var N;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(N=A.finalUrl)&&void 0!==N?N:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(A,N){return"computed"===this.canceledNavigationResolution?{navigationId:A,\u0275routerPageId:N}:{navigationId:A}}}return(y=b).\u0275fac=(()=>{let P;return function(N){return(P||(P=u.otF(y)))(N||y)}})(),y.\u0275prov=u.wxM({token:y,factory:y.\u0275fac,providedIn:"root"}),b})();var vr=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(vr||{});function Yr(y,b){y.events.pipe((0,oe.I)(P=>P instanceof bt||P instanceof gn||P instanceof ui||P instanceof Un),(0,Oe.k)(P=>P instanceof bt||P instanceof Un?vr.COMPLETE:P instanceof gn&&(P.code===Wt.Redirect||P.code===Wt.SupersededByNewNavigation)?vr.REDIRECTING:vr.FAILED),(0,oe.I)(P=>P!==vr.REDIRECTING),(0,ae.U)(1)).subscribe(()=>{b()})}function ur(y){throw y}const Ns={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ti=(()=>{var y;class b{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var A,N;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,u.uUt)(u.oPY),this.stateManager=(0,u.uUt)(Er),this.options=(0,u.uUt)(ha,{optional:!0})||{},this.pendingTasks=(0,u.uUt)(u.g9Y),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,u.uUt)(xe),this.urlSerializer=(0,u.uUt)(Ln),this.location=(0,u.uUt)(Ve.oB),this.urlHandlingStrategy=(0,u.uUt)(ko),this._events=new Ke.E,this.errorHandler=this.options.errorHandler||ur,this.navigated=!1,this.routeReuseStrategy=(0,u.uUt)(zt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(A=null===(N=(0,u.uUt)(Ys,{optional:!0}))||void 0===N?void 0:N.flat())&&void 0!==A?A:[],this.componentInputBindingEnabled=!!(0,u.uUt)(Io,{optional:!0}),this.eventsSubscription=new rt.wH,this.isNgZoneEnabled=(0,u.uUt)(u.WW2)instanceof u.WW2&&u.WW2.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:H=>{this.console.warn(H)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const A=this.navigationTransitions.events.subscribe(N=>{try{const H=this.navigationTransitions.currentTransition,de=this.navigationTransitions.currentNavigation;if(null!==H&&null!==de)if(this.stateManager.handleRouterEvent(N,de),N instanceof gn&&N.code!==Wt.Redirect&&N.code!==Wt.SupersededByNewNavigation)this.navigated=!0;else if(N instanceof bt)this.navigated=!0;else if(N instanceof pn){const ht=this.urlHandlingStrategy.merge(N.url,H.currentRawUrl),xt={info:H.extras.info,skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||St(H.source)};this.scheduleNavigation(ht,me,null,xt,{resolve:H.resolve,reject:H.reject,promise:H.promise})}(function io(y){return!(y instanceof rn||y instanceof pn)})(N)&&this._events.next(N)}catch(H){this.navigationTransitions.transitionAbortSubject.next(H)}});this.eventsSubscription.add(A)}resetRootComponentType(A){this.routerState.root.component=A,this.navigationTransitions.rootComponentType=A}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),me,this.stateManager.restoredState())}setUpLocationChangeListener(){var A;null!==(A=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==A||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((N,H)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(N,"popstate",H)},0)}))}navigateToSyncWithBrowser(A,N,H){const de={replaceUrl:!0},ht=null!=H&&H.navigationId?H:null;if(H){const Ye={...H};delete Ye.navigationId,delete Ye.\u0275routerPageId,0!==Object.keys(Ye).length&&(de.state=Ye)}const xt=this.parseUrl(A);this.scheduleNavigation(xt,N,ht,de)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(A){this.config=A.map(_i),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(A,N={}){const{relativeTo:H,queryParams:de,fragment:ht,queryParamsHandling:xt,preserveFragment:Ye}=N,En=Ye?this.currentUrlTree.fragment:ht;let Li,yn=null;switch(xt){case"merge":yn={...this.currentUrlTree.queryParams,...de};break;case"preserve":yn=this.currentUrlTree.queryParams;break;default:yn=de||null}null!==yn&&(yn=this.removeEmptyProps(yn));try{Li=ft(H?H.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof A[0]||!A[0].startsWith("/"))&&(A=[]),Li=this.currentUrlTree.root}return ct(Li,A,yn,null!=En?En:null)}navigateByUrl(A,N={skipLocationChange:!1}){const H=rr(A)?A:this.parseUrl(A),de=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(de,me,null,N)}navigate(A,N={skipLocationChange:!1}){return function xi(y){for(let b=0;b<y.length;b++)if(null==y[b])throw new u.OBp(4008,!1)}(A),this.navigateByUrl(this.createUrlTree(A,N),N)}serializeUrl(A){return this.urlSerializer.serialize(A)}parseUrl(A){try{return this.urlSerializer.parse(A)}catch{return this.urlSerializer.parse("/")}}isActive(A,N){let H;if(H=!0===N?{...Ns}:!1===N?{...Lo}:N,rr(A))return cn(this.currentUrlTree,A,H);const de=this.parseUrl(A);return cn(this.currentUrlTree,de,H)}removeEmptyProps(A){return Object.entries(A).reduce((N,[H,de])=>(null!=de&&(N[H]=de),N),{})}scheduleNavigation(A,N,H,de,ht){if(this.disposed)return Promise.resolve(!1);let xt,Ye,En;ht?(xt=ht.resolve,Ye=ht.reject,En=ht.promise):En=new Promise((Li,Jn)=>{xt=Li,Ye=Jn});const yn=this.pendingTasks.add();return Yr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(yn))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:A,extras:de,resolve:xt,reject:Ye,promise:En,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),En.catch(Li=>Promise.reject(Li))}}return(y=b).\u0275fac=function(A){return new(A||y)},y.\u0275prov=u.wxM({token:y,factory:y.\u0275fac,providedIn:"root"}),b})(),sr=(()=>{var y;class b{constructor(A,N,H,de,ht,xt){var Ye;this.router=A,this.route=N,this.tabIndexAttribute=H,this.renderer=de,this.el=ht,this.locationStrategy=xt,this.href=null,this.commands=null,this.onChanges=new Ke.E,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const En=null===(Ye=ht.nativeElement.tagName)||void 0===Ye?void 0:Ye.toLowerCase();this.isAnchorElement="a"===En||"area"===En,this.isAnchorElement?this.subscription=A.events.subscribe(yn=>{yn instanceof bt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(A){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",A)}ngOnChanges(A){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(A){null!=A?(this.commands=Array.isArray(A)?A:[A],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(A,N,H,de,ht){const xt=this.urlTree;return!!(null===xt||this.isAnchorElement&&(0!==A||N||H||de||ht||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(xt,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var A;null===(A=this.subscription)||void 0===A||A.unsubscribe()}updateHref(){var A;const N=this.urlTree;this.href=null!==N&&this.locationStrategy?null===(A=this.locationStrategy)||void 0===A?void 0:A.prepareExternalUrl(this.router.serializeUrl(N)):null;const H=null===this.href?null:(0,u.YFg)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",H)}applyAttributeValue(A,N){const H=this.renderer,de=this.el.nativeElement;null!==N?H.setAttribute(de,A,N):H.removeAttribute(de,A)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(y=b).\u0275fac=function(A){return new(A||y)(u.GI1(Ti),u.GI1(wr),u.gJ8("tabindex"),u.GI1(u.q87),u.GI1(u.GMv),u.GI1(Ve.Qd))},y.\u0275dir=u.Sc5({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(A,N){1&A&&u.qCj("click",function(de){return N.onClick(de.button,de.ctrlKey,de.shiftKey,de.altKey,de.metaKey)}),2&A&&u.e48("target",N.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[u.Wk5.HasDecoratorInputTransform,"preserveFragment","preserveFragment",u.cZD],skipLocationChange:[u.Wk5.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",u.cZD],replaceUrl:[u.Wk5.HasDecoratorInputTransform,"replaceUrl","replaceUrl",u.cZD],routerLink:"routerLink"},standalone:!0,features:[u.QJr,u.SYr]}),b})();class Os{}let gs=(()=>{var y;class b{preload(A,N){return N().pipe(kt(()=>(0,pe.of)(null)))}}return(y=b).\u0275fac=function(A){return new(A||y)},y.\u0275prov=u.wxM({token:y,factory:y.\u0275fac,providedIn:"root"}),b})(),Nl=(()=>{var y;class b{constructor(A,N,H,de,ht){this.router=A,this.injector=H,this.preloadingStrategy=de,this.loader=ht}setUpPreloading(){this.subscription=this.router.events.pipe((0,oe.I)(A=>A instanceof bt),ot(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(A,N){const H=[];for(const Ye of N){var de,ht;Ye.providers&&!Ye._injector&&(Ye._injector=(0,u.SIz)(Ye.providers,A,`Route: ${Ye.path}`));const En=null!==(de=Ye._injector)&&void 0!==de?de:A,yn=null!==(ht=Ye._loadedInjector)&&void 0!==ht?ht:En;var xt;(Ye.loadChildren&&!Ye._loadedRoutes&&void 0===Ye.canLoad||Ye.loadComponent&&!Ye._loadedComponent)&&H.push(this.preloadConfig(En,Ye)),(Ye.children||Ye._loadedRoutes)&&H.push(this.processRoutes(yn,null!==(xt=Ye.children)&&void 0!==xt?xt:Ye._loadedRoutes))}return(0,be.Q)(H).pipe((0,tn.u)())}preloadConfig(A,N){return this.preloadingStrategy.preload(N,()=>{let H;H=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(A,N):(0,pe.of)(null);const de=H.pipe((0,Se.O)(ht=>{var xt;return null===ht?(0,pe.of)(void 0):(N._loadedRoutes=ht.routes,N._loadedInjector=ht.injector,this.processRoutes(null!==(xt=ht.injector)&&void 0!==xt?xt:A,ht.routes))}));if(N.loadComponent&&!N._loadedComponent){const ht=this.loader.loadComponent(N);return(0,be.Q)([de,ht]).pipe((0,tn.u)())}return de})}}return(y=b).\u0275fac=function(A){return new(A||y)(u.CoB(Ti),u.CoB(u.ESV),u.CoB(u.SIe),u.CoB(Os),u.CoB(Oa))},y.\u0275prov=u.wxM({token:y,factory:y.\u0275fac,providedIn:"root"}),b})();const Xs=new u.UbH("");let Fo=(()=>{var y;class b{constructor(A,N,H,de,ht={}){this.urlSerializer=A,this.transitions=N,this.viewportScroller=H,this.zone=de,this.options=ht,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ht.scrollPositionRestoration||(ht.scrollPositionRestoration="disabled"),ht.anchorScrolling||(ht.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(A=>{A instanceof st?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=A.navigationTrigger,this.restoredId=A.restoredState?A.restoredState.navigationId:0):A instanceof bt?(this.lastId=A.id,this.scheduleScrollEvent(A,this.urlSerializer.parse(A.urlAfterRedirects).fragment)):A instanceof Un&&A.code===un.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(A,this.urlSerializer.parse(A.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(A=>{A instanceof Ht&&(A.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(A.position):A.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(A.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(A,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ht(A,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){var A,N;null===(A=this.routerEventsSubscription)||void 0===A||A.unsubscribe(),null===(N=this.scrollEventsSubscription)||void 0===N||N.unsubscribe()}}return(y=b).\u0275fac=function(A){u.KEo()},y.\u0275prov=u.wxM({token:y,factory:y.\u0275fac}),b})();function Bi(y,b){return{\u0275kind:y,\u0275providers:b}}function ad(){const y=(0,u.uUt)(u.zZn);return b=>{var P,A;const N=y.get(u.Swk);if(b!==N.components[0])return;const H=y.get(Ti),de=y.get(Zs);1===y.get(du)&&H.initialNavigation(),null===(P=y.get(ks,null,u._6O.Optional))||void 0===P||P.setUpPreloading(),null===(A=y.get(Xs,null,u._6O.Optional))||void 0===A||A.init(),H.resetRootComponentType(N.componentTypes[0]),de.closed||(de.next(),de.complete(),de.unsubscribe())}}const Zs=new u.UbH("",{factory:()=>new Ke.E}),du=new u.UbH("",{providedIn:"root",factory:()=>1}),ks=new u.UbH("");function Ko(y){return Bi(0,[{provide:ks,useExisting:Nl},{provide:Os,useExisting:y}])}function cc(y){return Bi(9,[{provide:V,useValue:L},{provide:ye,useValue:{skipNextTransition:!(null==y||!y.skipInitialTransition),...y}}])}const Ri=new u.UbH("ROUTER_FORROOT_GUARD"),Uo=[Ve.oB,{provide:Ln,useClass:$r},Ti,qr,{provide:wr,useFactory:function fa(y){return y.routerState.root},deps:[Ti]},Oa,[]];let hu=(()=>{var y;class b{constructor(A){}static forRoot(A,N){return{ngModule:b,providers:[Uo,[],{provide:Ys,multi:!0,useValue:A},{provide:Ri,useFactory:vn,deps:[[Ti,new u.T7N,new u.Qfh]]},{provide:ha,useValue:N||{}},null!=N&&N.useHash?{provide:Ve.Qd,useClass:Ve.MP}:{provide:Ve.Qd,useClass:Ve.uC},{provide:Xs,useFactory:()=>{const y=(0,u.uUt)(Ve.YZ),b=(0,u.uUt)(u.WW2),P=(0,u.uUt)(ha),A=(0,u.uUt)(xe),N=(0,u.uUt)(Ln);return P.scrollOffset&&y.setOffset(P.scrollOffset),new Fo(N,A,y,b,P)}},null!=N&&N.preloadingStrategy?Ko(N.preloadingStrategy).\u0275providers:[],null!=N&&N.initialNavigation?At(N):[],null!=N&&N.bindToComponentInputs?Bi(8,[mo,{provide:Io,useExisting:mo}]).\u0275providers:[],null!=N&&N.enableViewTransitions?cc().\u0275providers:[],[{provide:Ut,useFactory:ad},{provide:u.qid,multi:!0,useExisting:Ut}]]}}static forChild(A){return{ngModule:b,providers:[{provide:Ys,multi:!0,useValue:A}]}}}return(y=b).\u0275fac=function(A){return new(A||y)(u.CoB(Ri,8))},y.\u0275mod=u.a4G({type:y}),y.\u0275inj=u.s3X({}),b})();function vn(y){return"guarded"}function At(y){return["disabled"===y.initialNavigation?Bi(3,[{provide:u.kZF,multi:!0,useFactory:()=>{const b=(0,u.uUt)(Ti);return()=>{b.setUpLocationChangeListener()}}},{provide:du,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?Bi(2,[{provide:du,useValue:0},{provide:u.kZF,multi:!0,deps:[u.zZn],useFactory:b=>{const P=b.get(Ve.mQ,Promise.resolve());return()=>P.then(()=>new Promise(A=>{const N=b.get(Ti),H=b.get(Zs);Yr(N,()=>{A(!0)}),b.get(xe).afterPreactivation=()=>(A(!0),H.closed?(0,pe.of)(void 0):H),N.initialNavigation()}))}}]).\u0275providers:[]]}const Ut=new u.UbH("")},8368:(on,it,k)=>{"use strict";k.d(it,{c:()=>Ae});var u=k(7144),z=k(4920),K=k(9360),le=k(5976);class be{constructor(Pe,Me){this._delegate=Pe,this.firebase=Me,(0,K._addComponent)(Pe,new z.Yl("app-compat",()=>this,"PUBLIC")),this.container=Pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this._delegate.automaticDataCollectionEnabled=Pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Pe=>{this._delegate.checkDestroyed(),Pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,K.deleteApp)(this._delegate)))}_getService(Pe,Me=K._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const vt=this._delegate.container.getProvider(Pe);return!vt.isInitialized()&&"EXPLICIT"===(null===(Be=vt.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&vt.initialize(),vt.getImmediate({identifier:Me})}_removeServiceInstance(Pe,Me=K._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Pe).clearInstance(Me)}_addComponent(Pe){(0,K._addComponent)(this._delegate,Pe)}_addOrOverwriteComponent(Pe){(0,K._addOrOverwriteComponent)(this._delegate,Pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new u.UR("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ge=function ze(){const rt=function We(rt){const Pe={},Me={__esModule:!0,initializeApp:function Ke(ae,X={}){const oe=K.initializeApp(ae,X);if((0,u.Y7)(Pe,oe.name))return Pe[oe.name];const Se=new rt(oe,Me);return Pe[oe.name]=Se,Se},app:vt,registerVersion:K.registerVersion,setLogLevel:K.setLogLevel,onLog:K.onLog,apps:null,SDK_VERSION:K.SDK_VERSION,INTERNAL:{registerComponent:function Oe(ae){const X=ae.name,oe=X.replace("-compat","");if(K._registerComponent(ae)&&"PUBLIC"===ae.type){const Se=(je=vt())=>{if("function"!=typeof je[oe])throw ce.create("invalid-app-argument",{appName:X});return je[oe]()};void 0!==ae.serviceProps&&(0,u.Ww)(Se,ae.serviceProps),Me[oe]=Se,rt.prototype[oe]=function(...je){return this._getService.bind(this,X).apply(this,ae.multipleInstances?je:[])}}return"PUBLIC"===ae.type?Me[oe]:null},removeApp:function Be(ae){delete Pe[ae]},useAsService:function Qe(ae,X){return"serverAuth"===X?null:X},modularAPIs:K}};function vt(ae){if(!(0,u.Y7)(Pe,ae=ae||K._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:ae});return Pe[ae]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function Ve(){return Object.keys(Pe).map(ae=>Pe[ae])}}),vt.App=rt,Me}(be);return rt.INTERNAL=Object.assign(Object.assign({},rt.INTERNAL),{createFirebaseNamespace:ze,extendNamespace:function Pe(Me){(0,u.Ww)(rt,Me)},createSubscribe:u.my,ErrorFactory:u.UR,deepExtend:u.Ww}),rt}(),ue=new le.YJ("@firebase/app-compat");if((0,u.uH)()&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const rt=self.firebase.SDK_VERSION;rt&&rt.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=ge;!function ke(rt){(0,K.registerVersion)("@firebase/app-compat","0.2.27",rt)}()},9360:(on,it,k)=>{"use strict";k.r(it),k.d(it,{FirebaseError:()=>le.kx,SDK_VERSION:()=>$r,_DEFAULT_ENTRY_NAME:()=>or,_addComponent:()=>mr,_addOrOverwriteComponent:()=>fi,_apps:()=>Nn,_clearComponents:()=>Dn,_components:()=>Vn,_getProvider:()=>On,_registerComponent:()=>Ur,_removeServiceInstance:()=>kr,deleteApp:()=>Ar,getApp:()=>Sr,getApps:()=>ei,initializeApp:()=>zr,onLog:()=>It,registerVersion:()=>ti,setLogLevel:()=>et});var u=k(1528),z=k(4920),K=k(5976),le=k(7144);const be=(ft,ct)=>ct.some(Pt=>ft instanceof Pt);let pe,ce;const ge=new WeakMap,ue=new WeakMap,Re=new WeakMap,Fe=new WeakMap,ke=new WeakMap;let Pe={get(ft,ct,Pt){if(ft instanceof IDBTransaction){if("done"===ct)return ue.get(ft);if("objectStoreNames"===ct)return ft.objectStoreNames||Re.get(ft);if("store"===ct)return Pt.objectStoreNames[1]?void 0:Pt.objectStore(Pt.objectStoreNames[0])}return Ke(ft[ct])},set:(ft,ct,Pt)=>(ft[ct]=Pt,!0),has:(ft,ct)=>ft instanceof IDBTransaction&&("done"===ct||"store"===ct)||ct in ft};function vt(ft){return"function"==typeof ft?function Be(ft){return ft!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ze(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ft)?function(...ct){return ft.apply(Ve(this),ct),Ke(ge.get(this))}:function(...ct){return Ke(ft.apply(Ve(this),ct))}:function(ct,...Pt){const nn=ft.call(Ve(this),ct,...Pt);return Re.set(nn,ct.sort?ct.sort():[ct]),Ke(nn)}}(ft):(ft instanceof IDBTransaction&&function rt(ft){if(ue.has(ft))return;const ct=new Promise((Pt,nn)=>{const bn=()=>{ft.removeEventListener("complete",xn),ft.removeEventListener("error",zn),ft.removeEventListener("abort",zn)},xn=()=>{Pt(),bn()},zn=()=>{nn(ft.error||new DOMException("AbortError","AbortError")),bn()};ft.addEventListener("complete",xn),ft.addEventListener("error",zn),ft.addEventListener("abort",zn)});ue.set(ft,ct)}(ft),be(ft,function We(){return pe||(pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ft,Pe):ft)}function Ke(ft){if(ft instanceof IDBRequest)return function Ae(ft){const ct=new Promise((Pt,nn)=>{const bn=()=>{ft.removeEventListener("success",xn),ft.removeEventListener("error",zn)},xn=()=>{Pt(Ke(ft.result)),bn()},zn=()=>{nn(ft.error),bn()};ft.addEventListener("success",xn),ft.addEventListener("error",zn)});return ct.then(Pt=>{Pt instanceof IDBCursor&&ge.set(Pt,ft)}).catch(()=>{}),ke.set(ct,ft),ct}(ft);if(Fe.has(ft))return Fe.get(ft);const ct=vt(ft);return ct!==ft&&(Fe.set(ft,ct),ke.set(ct,ft)),ct}const Ve=ft=>ke.get(ft),ae=["get","getKey","getAll","getAllKeys","count"],X=["put","add","delete","clear"],oe=new Map;function Se(ft,ct){if(!(ft instanceof IDBDatabase)||ct in ft||"string"!=typeof ct)return;if(oe.get(ct))return oe.get(ct);const Pt=ct.replace(/FromIndex$/,""),nn=ct!==Pt,bn=X.includes(Pt);if(!(Pt in(nn?IDBIndex:IDBObjectStore).prototype)||!bn&&!ae.includes(Pt))return;const xn=function(){var zn=(0,u.c)(function*(Cr,...ir){const cr=this.transaction(Cr,bn?"readwrite":"readonly");let bi=cr.store;return nn&&(bi=bi.index(ir.shift())),(yield Promise.all([bi[Pt](...ir),bn&&cr.done]))[0]});return function(ir){return zn.apply(this,arguments)}}();return oe.set(ct,xn),xn}!function Me(ft){Pe=ft(Pe)}(ft=>({...ft,get:(ct,Pt,nn)=>Se(ct,Pt)||ft.get(ct,Pt,nn),has:(ct,Pt)=>!!Se(ct,Pt)||ft.has(ct,Pt)}));class je{constructor(ct){this.container=ct}getPlatformInfoString(){return this.container.getProviders().map(Pt=>{if(function ot(ft){const ct=ft.getComponent();return"VERSION"===(null==ct?void 0:ct.type)}(Pt)){const nn=Pt.getImmediate();return`${nn.library}/${nn.version}`}return null}).filter(Pt=>Pt).join(" ")}}const ut="@firebase/app",fn=new K.YJ("@firebase/app"),or="[DEFAULT]",ar={[ut]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Nn=new Map,Vn=new Map;function mr(ft,ct){try{ft.container.addComponent(ct)}catch(Pt){fn.debug(`Component ${ct.name} failed to register with FirebaseApp ${ft.name}`,Pt)}}function fi(ft,ct){ft.container.addOrOverwriteComponent(ct)}function Ur(ft){const ct=ft.name;if(Vn.has(ct))return fn.debug(`There were multiple attempts to register component ${ct}.`),!1;Vn.set(ct,ft);for(const Pt of Nn.values())mr(Pt,ft);return!0}function On(ft,ct){const Pt=ft.container.getProvider("heartbeat").getImmediate({optional:!0});return Pt&&Pt.triggerHeartbeat(),ft.container.getProvider(ct)}function kr(ft,ct,Pt=or){On(ft,ct).clearInstance(Pt)}function Dn(){Vn.clear()}const Br=new le.UR("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ln{constructor(ct,Pt,nn){this._isDeleted=!1,this._options=Object.assign({},ct),this._config=Object.assign({},Pt),this._name=Pt.name,this._automaticDataCollectionEnabled=Pt.automaticDataCollectionEnabled,this._container=nn,this.container.addComponent(new z.Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ct){this.checkDestroyed(),this._automaticDataCollectionEnabled=ct}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ct){this._isDeleted=ct}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}const $r="10.8.0";function zr(ft,ct={}){let Pt=ft;"object"!=typeof ct&&(ct={name:ct});const nn=Object.assign({name:or,automaticDataCollectionEnabled:!1},ct),bn=nn.name;if("string"!=typeof bn||!bn)throw Br.create("bad-app-name",{appName:String(bn)});if(Pt||(Pt=(0,le.Yd)()),!Pt)throw Br.create("no-options");const xn=Nn.get(bn);if(xn){if((0,le.IN)(Pt,xn.options)&&(0,le.IN)(nn,xn.config))return xn;throw Br.create("duplicate-app",{appName:bn})}const zn=new z.op(bn);for(const ir of Vn.values())zn.addComponent(ir);const Cr=new Ln(Pt,nn,zn);return Nn.set(bn,Cr),Cr}function Sr(ft=or){const ct=Nn.get(ft);if(!ct&&ft===or&&(0,le.Yd)())return zr();if(!ct)throw Br.create("no-app",{appName:ft});return ct}function ei(){return Array.from(Nn.values())}function Ar(ft){return oi.apply(this,arguments)}function oi(){return(oi=(0,u.c)(function*(ft){const ct=ft.name;Nn.has(ct)&&(Nn.delete(ct),yield Promise.all(ft.container.getProviders().map(Pt=>Pt.delete())),ft.isDeleted=!0)})).apply(this,arguments)}function ti(ft,ct,Pt){var nn;let bn=null!==(nn=ar[ft])&&void 0!==nn?nn:ft;Pt&&(bn+=`-${Pt}`);const xn=bn.match(/\s|\//),zn=ct.match(/\s|\//);if(xn||zn){const Cr=[`Unable to register library "${bn}" with version "${ct}":`];return xn&&Cr.push(`library name "${bn}" contains illegal characters (whitespace or "/")`),xn&&zn&&Cr.push("and"),zn&&Cr.push(`version name "${ct}" contains illegal characters (whitespace or "/")`),void fn.warn(Cr.join(" "))}Ur(new z.Yl(`${bn}-version`,()=>({library:bn,version:ct}),"VERSION"))}function It(ft,ct){if(null!==ft&&"function"!=typeof ft)throw Br.create("invalid-log-argument");(0,K.S2)(ft,ct)}function et(ft){(0,K.QN)(ft)}const Dt="firebase-heartbeat-database",Xe=1,te="firebase-heartbeat-store";let se=null;function Ce(){return se||(se=function Oe(ft,ct,{blocked:Pt,upgrade:nn,blocking:bn,terminated:xn}={}){const zn=indexedDB.open(ft,ct),Cr=Ke(zn);return nn&&zn.addEventListener("upgradeneeded",ir=>{nn(Ke(zn.result),ir.oldVersion,ir.newVersion,Ke(zn.transaction),ir)}),Pt&&zn.addEventListener("blocked",ir=>Pt(ir.oldVersion,ir.newVersion,ir)),Cr.then(ir=>{xn&&ir.addEventListener("close",()=>xn()),bn&&ir.addEventListener("versionchange",cr=>bn(cr.oldVersion,cr.newVersion,cr))}).catch(()=>{}),Cr}(Dt,Xe,{upgrade:(ft,ct)=>{if(0===ct)try{ft.createObjectStore(te)}catch(Pt){console.warn(Pt)}}}).catch(ft=>{throw Br.create("idb-open",{originalErrorMessage:ft.message})})),se}function Je(){return(Je=(0,u.c)(function*(ft){try{const Pt=(yield Ce()).transaction(te),nn=yield Pt.objectStore(te).get(Pn(ft));return yield Pt.done,nn}catch(ct){if(ct instanceof le.kx)fn.warn(ct.message);else{const Pt=Br.create("idb-get",{originalErrorMessage:null==ct?void 0:ct.message});fn.warn(Pt.message)}}})).apply(this,arguments)}function Kt(ft,ct){return dn.apply(this,arguments)}function dn(){return(dn=(0,u.c)(function*(ft,ct){try{const nn=(yield Ce()).transaction(te,"readwrite");yield nn.objectStore(te).put(ct,Pn(ft)),yield nn.done}catch(Pt){if(Pt instanceof le.kx)fn.warn(Pt.message);else{const nn=Br.create("idb-set",{originalErrorMessage:null==Pt?void 0:Pt.message});fn.warn(nn.message)}}})).apply(this,arguments)}function Pn(ft){return`${ft.name}!${ft.options.appId}`}class Rr{constructor(ct){this.container=ct,this._heartbeatsCache=null;const Pt=this.container.getProvider("app").getImmediate();this._storage=new ji(Pt),this._heartbeatsCachePromise=this._storage.read().then(nn=>(this._heartbeatsCache=nn,nn))}triggerHeartbeat(){var ct=this;return(0,u.c)(function*(){var Pt,nn;const xn=ct.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),zn=wn();if((null!=(null===(Pt=ct._heartbeatsCache)||void 0===Pt?void 0:Pt.heartbeats)||(ct._heartbeatsCache=yield ct._heartbeatsCachePromise,null!=(null===(nn=ct._heartbeatsCache)||void 0===nn?void 0:nn.heartbeats)))&&ct._heartbeatsCache.lastSentHeartbeatDate!==zn&&!ct._heartbeatsCache.heartbeats.some(Cr=>Cr.date===zn))return ct._heartbeatsCache.heartbeats.push({date:zn,agent:xn}),ct._heartbeatsCache.heartbeats=ct._heartbeatsCache.heartbeats.filter(Cr=>{const ir=new Date(Cr.date).valueOf();return Date.now()-ir<=2592e6}),ct._storage.overwrite(ct._heartbeatsCache)})()}getHeartbeatsHeader(){var ct=this;return(0,u.c)(function*(){var Pt;if(null===ct._heartbeatsCache&&(yield ct._heartbeatsCachePromise),null==(null===(Pt=ct._heartbeatsCache)||void 0===Pt?void 0:Pt.heartbeats)||0===ct._heartbeatsCache.heartbeats.length)return"";const nn=wn(),{heartbeatsToSend:bn,unsentEntries:xn}=function Gr(ft,ct=1024){const Pt=[];let nn=ft.slice();for(const bn of ft){const xn=Pt.find(zn=>zn.agent===bn.agent);if(xn){if(xn.dates.push(bn.date),rr(Pt)>ct){xn.dates.pop();break}}else if(Pt.push({agent:bn.agent,dates:[bn.date]}),rr(Pt)>ct){Pt.pop();break}nn=nn.slice(1)}return{heartbeatsToSend:Pt,unsentEntries:nn}}(ct._heartbeatsCache.heartbeats),zn=(0,le.Wg)(JSON.stringify({version:2,heartbeats:bn}));return ct._heartbeatsCache.lastSentHeartbeatDate=nn,xn.length>0?(ct._heartbeatsCache.heartbeats=xn,yield ct._storage.overwrite(ct._heartbeatsCache)):(ct._heartbeatsCache.heartbeats=[],ct._storage.overwrite(ct._heartbeatsCache)),zn})()}}function wn(){return(new Date).toISOString().substring(0,10)}class ji{constructor(ct){this.app=ct,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.c)(function*(){return!!(0,le.yy)()&&(0,le.A3)().then(()=>!0).catch(()=>!1)})()}read(){var ct=this;return(0,u.c)(function*(){if(yield ct._canUseIndexedDBPromise){const nn=yield function $e(ft){return Je.apply(this,arguments)}(ct.app);return null!=nn&&nn.heartbeats?nn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ct){var Pt=this;return(0,u.c)(function*(){var nn;if(yield Pt._canUseIndexedDBPromise){const xn=yield Pt.read();return Kt(Pt.app,{lastSentHeartbeatDate:null!==(nn=ct.lastSentHeartbeatDate)&&void 0!==nn?nn:xn.lastSentHeartbeatDate,heartbeats:ct.heartbeats})}})()}add(ct){var Pt=this;return(0,u.c)(function*(){var nn;if(yield Pt._canUseIndexedDBPromise){const xn=yield Pt.read();return Kt(Pt.app,{lastSentHeartbeatDate:null!==(nn=ct.lastSentHeartbeatDate)&&void 0!==nn?nn:xn.lastSentHeartbeatDate,heartbeats:[...xn.heartbeats,...ct.heartbeats]})}})()}}function rr(ft){return(0,le.Wg)(JSON.stringify({version:2,heartbeats:ft})).length}!function Zn(ft){Ur(new z.Yl("platform-logger",ct=>new je(ct),"PRIVATE")),Ur(new z.Yl("heartbeat",ct=>new Rr(ct),"PRIVATE")),ti(ut,"0.9.27",ft),ti(ut,"0.9.27","esm2017"),ti("fire-js","")}("")},4920:(on,it,k)=>{"use strict";k.d(it,{Yl:()=>K,op:()=>We});var u=k(1528),z=k(7144);class K{constructor(ge,ue,Re){this.name=ge,this.instanceFactory=ue,this.type=Re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ge){return this.instantiationMode=ge,this}setMultipleInstances(ge){return this.multipleInstances=ge,this}setServiceProps(ge){return this.serviceProps=ge,this}setInstanceCreatedCallback(ge){return this.onInstanceCreated=ge,this}}const le="[DEFAULT]";class be{constructor(ge,ue){this.name=ge,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ge){const ue=this.normalizeInstanceIdentifier(ge);if(!this.instancesDeferred.has(ue)){const Re=new z.o9;if(this.instancesDeferred.set(ue,Re),this.isInitialized(ue)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:ue});Fe&&Re.resolve(Fe)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(ge){var ue;const Re=this.normalizeInstanceIdentifier(null==ge?void 0:ge.identifier),Fe=null!==(ue=null==ge?void 0:ge.optional)&&void 0!==ue&&ue;if(!this.isInitialized(Re)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Re})}catch(ke){if(Fe)return null;throw ke}}getComponent(){return this.component}setComponent(ge){if(ge.name!==this.name)throw Error(`Mismatching Component ${ge.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ge,this.shouldAutoInitialize()){if(function ce(ze){return"EAGER"===ze.instantiationMode}(ge))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[ue,Re]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(ue);try{const ke=this.getOrInitializeService({instanceIdentifier:Fe});Re.resolve(ke)}catch{}}}}clearInstance(ge=le){this.instancesDeferred.delete(ge),this.instancesOptions.delete(ge),this.instances.delete(ge)}delete(){var ge=this;return(0,u.c)(function*(){const ue=Array.from(ge.instances.values());yield Promise.all([...ue.filter(Re=>"INTERNAL"in Re).map(Re=>Re.INTERNAL.delete()),...ue.filter(Re=>"_delete"in Re).map(Re=>Re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ge=le){return this.instances.has(ge)}getOptions(ge=le){return this.instancesOptions.get(ge)||{}}initialize(ge={}){const{options:ue={}}=ge,Re=this.normalizeInstanceIdentifier(ge.instanceIdentifier);if(this.isInitialized(Re))throw Error(`${this.name}(${Re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:Re,options:ue});for(const[ke,Ae]of this.instancesDeferred.entries())Re===this.normalizeInstanceIdentifier(ke)&&Ae.resolve(Fe);return Fe}onInit(ge,ue){var Re;const Fe=this.normalizeInstanceIdentifier(ue),ke=null!==(Re=this.onInitCallbacks.get(Fe))&&void 0!==Re?Re:new Set;ke.add(ge),this.onInitCallbacks.set(Fe,ke);const Ae=this.instances.get(Fe);return Ae&&ge(Ae,Fe),()=>{ke.delete(ge)}}invokeOnInitCallbacks(ge,ue){const Re=this.onInitCallbacks.get(ue);if(Re)for(const Fe of Re)try{Fe(ge,ue)}catch{}}getOrInitializeService({instanceIdentifier:ge,options:ue={}}){let Re=this.instances.get(ge);if(!Re&&this.component&&(Re=this.component.instanceFactory(this.container,{instanceIdentifier:(ze=ge,ze===le?void 0:ze),options:ue}),this.instances.set(ge,Re),this.instancesOptions.set(ge,ue),this.invokeOnInitCallbacks(Re,ge),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ge,Re)}catch{}var ze;return Re||null}normalizeInstanceIdentifier(ge=le){return this.component?this.component.multipleInstances?ge:le:ge}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class We{constructor(ge){this.name=ge,this.providers=new Map}addComponent(ge){const ue=this.getProvider(ge.name);if(ue.isComponentSet())throw new Error(`Component ${ge.name} has already been registered with ${this.name}`);ue.setComponent(ge)}addOrOverwriteComponent(ge){this.getProvider(ge.name).isComponentSet()&&this.providers.delete(ge.name),this.addComponent(ge)}getProvider(ge){if(this.providers.has(ge))return this.providers.get(ge);const ue=new be(ge,this);return this.providers.set(ge,ue),ue}getProviders(){return Array.from(this.providers.values())}}},5976:(on,it,k)=>{"use strict";k.d(it,{Ge:()=>z,QN:()=>We,S2:()=>ze,YJ:()=>ce});const u=[];var z=function(ge){return ge[ge.DEBUG=0]="DEBUG",ge[ge.VERBOSE=1]="VERBOSE",ge[ge.INFO=2]="INFO",ge[ge.WARN=3]="WARN",ge[ge.ERROR=4]="ERROR",ge[ge.SILENT=5]="SILENT",ge}(z||{});const K={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},le=z.INFO,be={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},pe=(ge,ue,...Re)=>{if(ue<ge.logLevel)return;const Fe=(new Date).toISOString(),ke=be[ue];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[ke](`[${Fe}]  ${ge.name}:`,...Re)};class ce{constructor(ue){this.name=ue,this._logLevel=le,this._logHandler=pe,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in z))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?K[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...ue),this._logHandler(this,z.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...ue),this._logHandler(this,z.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,z.INFO,...ue),this._logHandler(this,z.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,z.WARN,...ue),this._logHandler(this,z.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...ue),this._logHandler(this,z.ERROR,...ue)}}function We(ge){u.forEach(ue=>{ue.setLogLevel(ge)})}function ze(ge,ue){for(const Re of u){let Fe=null;ue&&ue.level&&(Fe=K[ue.level]),Re.userLogHandler=null===ge?null:(ke,Ae,...rt)=>{const Pe=rt.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch{return null}}).filter(Me=>Me).join(" ");Ae>=(null!=Fe?Fe:ke.logLevel)&&ge({level:z[Ae].toLowerCase(),message:Pe,args:rt,type:ke.name})}}}},304:(on,it,k)=>{"use strict";k.d(it,{kh:()=>Ur,_U:()=>Nn,m2:()=>Vn,Im:()=>nn,Qz:()=>Xe,Ej:()=>ir,sW:()=>It,Cg:()=>Gr,CE:()=>cr,um:()=>lr,wX:()=>Fn,gk:()=>Dr,g5:()=>bn,GY:()=>xn,uU:()=>Vi,Al:()=>ft,cl:()=>bi,ag:()=>Mr});var u=k(1528),z=k(4496),K=k(4196),le=k(1368);class be{constructor(){this.m=new Map}reset(me){this.m=new Map(Object.entries(me))}get(me,q){const he=this.m.get(me);return void 0!==he?he:q}getBoolean(me,q=!1){const he=this.m.get(me);return void 0===he?q:"string"==typeof he?"true"===he:!!he}getNumber(me,q){const he=parseFloat(this.m.get(me));return isNaN(he)?void 0!==q?q:NaN:he}set(me,q){this.m.set(me,q)}}const pe=new be,Fe=_e=>Ae(_e),Ae=(_e=window)=>{if(typeof _e>"u")return[];_e.Ionic=_e.Ionic||{};let me=_e.Ionic.platforms;return null==me&&(me=_e.Ionic.platforms=rt(_e),me.forEach(q=>_e.document.documentElement.classList.add(`plt-${q}`))),me},rt=_e=>{const me=pe.get("platform");return Object.keys(jn).filter(q=>{const he=null==me?void 0:me[q];return"function"==typeof he?he(_e):jn[q](_e)})},Me=_e=>!!(kt(_e,/iPad/i)||kt(_e,/Macintosh/i)&&ae(_e)),Ke=_e=>kt(_e,/android|sink/i),ae=_e=>fn(_e,"(any-pointer:coarse)"),oe=_e=>Se(_e)||je(_e),Se=_e=>!!(_e.cordova||_e.phonegap||_e.PhoneGap),je=_e=>{const me=_e.Capacitor;return!(null==me||!me.isNative)},kt=(_e,me)=>me.test(_e.navigator.userAgent),fn=(_e,me)=>{var q;return null===(q=_e.matchMedia)||void 0===q?void 0:q.call(_e,me).matches},jn={ipad:Me,iphone:_e=>kt(_e,/iPhone/i),ios:_e=>kt(_e,/iPhone|iPod/i)||Me(_e),android:Ke,phablet:_e=>{const me=_e.innerWidth,q=_e.innerHeight,he=Math.min(me,q),st=Math.max(me,q);return he>390&&he<520&&st>620&&st<800},tablet:_e=>{const me=_e.innerWidth,q=_e.innerHeight,he=Math.min(me,q),st=Math.max(me,q);return Me(_e)||(_e=>Ke(_e)&&!kt(_e,/mobile/i))(_e)||he>460&&he<820&&st>780&&st<1400},cordova:Se,capacitor:je,electron:_e=>kt(_e,/electron/i),pwa:_e=>{var me;return!!(null!==(me=_e.matchMedia)&&void 0!==me&&me.call(_e,"(display-mode: standalone)").matches||_e.navigator.standalone)},mobile:ae,mobileweb:_e=>ae(_e)&&!oe(_e),desktop:_e=>!ae(_e),hybrid:oe};var we=k(1896),Ne=k(9248),nt=k(5657),Ie=k(800),Lt=k(6700),tn=k(6040),Zt=k(2700),Rt=k(1316),_n=k(6684),kn=k(7368),Hn=k(4e3),Le=k(4716);const _t=["tabsInner"];let Vt=(()=>{class _e{constructor(q,he){this.doc=q,this.backButton=new nt.E,this.keyboardDidShow=new nt.E,this.keyboardDidHide=new nt.E,this.pause=new nt.E,this.resume=new nt.E,this.resize=new nt.E,he.run(()=>{var st;let bt;this.win=q.defaultView,this.backButton.subscribeWithPriority=function(Wt,un){return this.subscribe(gn=>gn.register(Wt,Un=>he.run(()=>un(Un))))},Mt(this.pause,q,"pause",he),Mt(this.resume,q,"resume",he),Mt(this.backButton,q,"ionBackButton",he),Mt(this.resize,this.win,"resize",he),Mt(this.keyboardDidShow,this.win,"ionKeyboardDidShow",he),Mt(this.keyboardDidHide,this.win,"ionKeyboardDidHide",he),this._readyPromise=new Promise(Wt=>{bt=Wt}),null!==(st=this.win)&&void 0!==st&&st.cordova?q.addEventListener("deviceready",()=>{bt("cordova")},{once:!0}):bt("dom")})}is(q){return((_e,me)=>("string"==typeof _e&&(me=_e,_e=void 0),Fe(_e).includes(me)))(this.win,q)}platforms(){return Fe(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(q){return an(this.win.location.href,q)}isLandscape(){return!this.isPortrait()}isPortrait(){var q,he;return null===(q=(he=this.win).matchMedia)||void 0===q?void 0:q.call(he,"(orientation: portrait)").matches}testUserAgent(q){const he=this.win.navigator;return!!(null!=he&&he.userAgent&&he.userAgent.indexOf(q)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return _e.\u0275fac=function(q){return new(q||_e)(z.CoB(le.Ud),z.CoB(z.WW2))},_e.\u0275prov=z.wxM({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();const an=(_e,me)=>{me=me.replace(/[[\]\\]/g,"\\$&");const he=new RegExp("[\\?&]"+me+"=([^&#]*)").exec(_e);return he?decodeURIComponent(he[1].replace(/\+/g," ")):null},Mt=(_e,me,q,he)=>{me&&me.addEventListener(q,st=>{he.run(()=>{_e.next(null!=st?st.detail:void 0)})})};let Fn=(()=>{class _e{constructor(q,he,st,bt){this.location=he,this.serializer=st,this.router=bt,this.direction=or,this.animated=ar,this.guessDirection="forward",this.lastNavId=-1,bt&&bt.events.subscribe(Wt=>{if(Wt instanceof K.Qx){const un=Wt.restoredState?Wt.restoredState.navigationId:Wt.id;this.guessDirection=un<this.lastNavId?"back":"forward",this.guessAnimation=Wt.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Wt.id:un}}),q.backButton.subscribeWithPriority(0,Wt=>{this.pop(),Wt()})}navigateForward(q,he={}){return this.setDirection("forward",he.animated,he.animationDirection,he.animation),this.navigate(q,he)}navigateBack(q,he={}){return this.setDirection("back",he.animated,he.animationDirection,he.animation),this.navigate(q,he)}navigateRoot(q,he={}){return this.setDirection("root",he.animated,he.animationDirection,he.animation),this.navigate(q,he)}back(q={animated:!0,animationDirection:"back"}){return this.setDirection("back",q.animated,q.animationDirection,q.animation),this.location.back()}pop(){var q=this;return(0,u.c)(function*(){let he=q.topOutlet;for(;he;){if(yield he.pop())return!0;he=he.parentOutlet}return!1})()}setDirection(q,he,st,bt){this.direction=q,this.animated=cn(q,he,st),this.animationBuilder=bt}setTopOutlet(q){this.topOutlet=q}consumeTransition(){let he,q="root";const st=this.animationBuilder;return"auto"===this.direction?(q=this.guessDirection,he=this.guessAnimation):(he=this.animated,q=this.direction),this.direction=or,this.animated=ar,this.animationBuilder=void 0,{direction:q,animation:he,animationBuilder:st}}navigate(q,he){if(Array.isArray(q))return this.router.navigate(q,he);{const st=this.serializer.parse(q.toString());return void 0!==he.queryParams&&(st.queryParams={...he.queryParams}),void 0!==he.fragment&&(st.fragment=he.fragment),this.router.navigateByUrl(st,he)}}}return _e.\u0275fac=function(q){return new(q||_e)(z.CoB(Vt),z.CoB(le.oB),z.CoB(K.qd),z.CoB(K.E5,8))},_e.\u0275prov=z.wxM({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();const cn=(_e,me,q)=>{if(!1!==me){if(void 0!==q)return q;if("forward"===_e||"back"===_e)return _e;if("root"===_e&&!0===me)return"forward"}},or="auto",ar=void 0;let Nn=(()=>{class _e{get(q,he){const st=mr();return st?st.get(q,he):null}getBoolean(q,he){const st=mr();return!!st&&st.getBoolean(q,he)}getNumber(q,he){const st=mr();return st?st.getNumber(q,he):0}}return _e.\u0275fac=function(q){return new(q||_e)},_e.\u0275prov=z.wxM({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();const Vn=new z.UbH("USERCONFIG"),mr=()=>{if(typeof window<"u"){const _e=window.Ionic;if(null!=_e&&_e.config)return _e.config}return null};class fi{constructor(me={}){this.data=me}get(me){return this.data[me]}}let Ur=(()=>{class _e{constructor(){this.zone=(0,z.uUt)(z.WW2),this.applicationRef=(0,z.uUt)(z.Swk)}create(q,he,st){return new On(q,he,this.applicationRef,this.zone,st)}}return _e.\u0275fac=function(q){return new(q||_e)},_e.\u0275prov=z.wxM({token:_e,factory:_e.\u0275fac}),_e})();class On{constructor(me,q,he,st,bt){this.environmentInjector=me,this.injector=q,this.applicationRef=he,this.zone=st,this.elementReferenceKey=bt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(me,q,he,st){return this.zone.run(()=>new Promise(bt=>{const Wt={...he};void 0!==this.elementReferenceKey&&(Wt[this.elementReferenceKey]=me),bt(kr(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,me,q,Wt,st,this.elementReferenceKey))}))}removeViewFromDom(me,q){return this.zone.run(()=>new Promise(he=>{const st=this.elRefMap.get(q);if(st){st.destroy(),this.elRefMap.delete(q);const bt=this.elEventsMap.get(q);bt&&(bt(),this.elEventsMap.delete(q))}he()}))}}const kr=(_e,me,q,he,st,bt,Wt,un,gn,Un,ui)=>{const pt=z.zZn.create({providers:Ln(gn),parent:q}),j=(0,z.kdu)(un,{environmentInjector:me,elementInjector:pt}),J=j.instance,Ue=j.location.nativeElement;if(gn&&(ui&&void 0!==J[ui]&&console.error(`[Ionic Error]: ${ui} is a reserved property when using ${Wt.tagName.toLowerCase()}. Rename or remove the "${ui}" property from ${un.name}.`),Object.assign(J,gn)),Un)for(const dt of Un)Ue.classList.add(dt);const He=Tn(_e,J,Ue);return Wt.appendChild(Ue),he.attachView(j.hostView),st.set(Ue,j),bt.set(Ue,He),Ue},Dn=[we.L,we.a,we.b,we.c,we.d],Tn=(_e,me,q)=>_e.run(()=>{const he=Dn.filter(st=>"function"==typeof me[st]).map(st=>{const bt=Wt=>me[st](Wt.detail);return q.addEventListener(st,bt),()=>q.removeEventListener(st,bt)});return()=>he.forEach(st=>st())}),Br=new z.UbH("NavParamsToken"),Ln=_e=>[{provide:Br,useValue:_e},{provide:fi,useFactory:$r,deps:[Br]}],$r=_e=>new fi(_e),zr=(_e,me)=>{const q=_e.prototype;me.forEach(he=>{Object.defineProperty(q,he,{get(){return this.el[he]},set(st){this.z.runOutsideAngular(()=>this.el[he]=st)}})})},Sr=(_e,me)=>{const q=_e.prototype;me.forEach(he=>{q[he]=function(){const st=arguments;return this.z.runOutsideAngular(()=>this.el[he].apply(this.el,st))}})},ei=(_e,me,q)=>{q.forEach(he=>_e[he]=(0,Ie.w)(me,he))};function Ar(_e){return function(q){const{defineCustomElementFn:he,inputs:st,methods:bt}=_e;return void 0!==he&&he(),st&&zr(q,st),bt&&Sr(q,bt),q}}const oi=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],ti=["present","dismiss","onDidDismiss","onWillDismiss"];let It=(()=>{let _e=class{constructor(q,he,st){this.z=st,this.isCmpOpen=!1,this.el=he.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,q.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,q.detectChanges()}),ei(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return _e.\u0275fac=function(q){return new(q||_e)(z.GI1(z.kD9),z.GI1(z.GMv),z.GI1(z.WW2))},_e.\u0275dir=z.Sc5({type:_e,selectors:[["ion-popover"]],contentQueries:function(q,he,st){if(1&q&&z.szK(st,z.Yw2,5),2&q){let bt;z.wto(bt=z.Gqi())&&(he.template=bt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}}),_e=(0,Rt.UN)([Ar({inputs:oi,methods:ti})],_e),_e})();const et=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Dt=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Xe=(()=>{let _e=class{constructor(q,he,st){this.z=st,this.isCmpOpen=!1,this.el=he.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,q.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,q.detectChanges()}),ei(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return _e.\u0275fac=function(q){return new(q||_e)(z.GI1(z.kD9),z.GI1(z.GMv),z.GI1(z.WW2))},_e.\u0275dir=z.Sc5({type:_e,selectors:[["ion-modal"]],contentQueries:function(q,he,st){if(1&q&&z.szK(st,z.Yw2,5),2&q){let bt;z.wto(bt=z.Gqi())&&(he.template=bt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}}),_e=(0,Rt.UN)([Ar({inputs:et,methods:Dt})],_e),_e})();const se=(_e,me)=>((_e=_e.filter(q=>q.stackId!==me.stackId)).push(me),_e),Je=(_e,me)=>{const q=_e.createUrlTree(["."],{relativeTo:me});return _e.serializeUrl(q)},Kt=(_e,me)=>!me||_e.stackId!==me.stackId,dn=(_e,me)=>{if(!_e)return;const q=Pn(me);for(let he=0;he<q.length;he++){if(he>=_e.length)return q[he];if(q[he]!==_e[he])return}},Pn=_e=>_e.split("/").map(me=>me.trim()).filter(me=>""!==me),_r=_e=>{_e&&(_e.ref.destroy(),_e.unlistenEvents())};class nr{constructor(me,q,he,st,bt,Wt){this.containerEl=q,this.router=he,this.navCtrl=st,this.zone=bt,this.location=Wt,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==me?Pn(me):void 0}createView(me,q){var he;const st=Je(this.router,q),bt=null==me||null===(he=me.location)||void 0===he?void 0:he.nativeElement,Wt=Tn(this.zone,me.instance,bt);return{id:this.nextId++,stackId:dn(this.tabsPrefix,st),unlistenEvents:Wt,element:bt,ref:me,url:st}}getExistingView(me){const q=Je(this.router,me),he=this.views.find(st=>st.url===q);return he&&he.ref.changeDetectorRef.reattach(),he}setActive(me){var q,he;const st=this.navCtrl.consumeTransition();let{direction:bt,animation:Wt,animationBuilder:un}=st;const gn=this.activeView,Un=Kt(me,gn);Un&&(bt="back",Wt=void 0);const ui=this.views.slice();let pt;const j=this.router;j.getCurrentNavigation?pt=j.getCurrentNavigation():null!==(q=j.navigations)&&void 0!==q&&q.value&&(pt=j.navigations.value),null!==(he=pt)&&void 0!==he&&null!==(he=he.extras)&&void 0!==he&&he.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const J=this.views.includes(me),Ue=this.insertView(me,bt);J||me.ref.changeDetectorRef.detectChanges();const He=me.animationBuilder;return void 0===un&&"back"===bt&&!Un&&void 0!==He&&(un=He),gn&&(gn.animationBuilder=un),this.zone.runOutsideAngular(()=>this.wait(()=>(gn&&gn.ref.changeDetectorRef.detach(),me.ref.changeDetectorRef.reattach(),this.transition(me,gn,Wt,this.canGoBack(1),!1,un).then(()=>Rr(me,Ue,ui,this.location,this.zone)).then(()=>({enteringView:me,direction:bt,animation:Wt,tabSwitch:Un})))))}canGoBack(me,q=this.getActiveStackId()){return this.getStack(q).length>me}pop(me,q=this.getActiveStackId()){return this.zone.run(()=>{const he=this.getStack(q);if(he.length<=me)return Promise.resolve(!1);const st=he[he.length-me-1];let bt=st.url;const Wt=st.savedData;if(Wt){var un;const Un=Wt.get("primary");null!=Un&&null!==(un=Un.route)&&void 0!==un&&null!==(un=un._routerState)&&void 0!==un&&un.snapshot.url&&(bt=Un.route._routerState.snapshot.url)}const{animationBuilder:gn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(bt,{...st.savedExtras,animation:gn}).then(()=>!0)})}startBackTransition(){const me=this.activeView;if(me){const q=this.getStack(me.stackId),he=q[q.length-2],st=he.animationBuilder;return this.wait(()=>this.transition(he,me,"back",this.canGoBack(2),!0,st))}return Promise.resolve()}endBackTransition(me){me?(this.skipTransition=!0,this.pop(1)):this.activeView&&wn(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(me){const q=this.getStack(me);return q.length>0?q[q.length-1]:void 0}getRootUrl(me){const q=this.getStack(me);return q.length>0?q[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(_r),this.activeView=void 0,this.views=[]}getStack(me){return this.views.filter(q=>q.stackId===me)}insertView(me,q){return this.activeView=me,this.views=((_e,me,q)=>"root"===q?se(_e,me):"forward"===q?((_e,me)=>(_e.indexOf(me)>=0?_e=_e.filter(he=>he.stackId!==me.stackId||he.id<=me.id):_e.push(me),_e))(_e,me):((_e,me)=>_e.indexOf(me)>=0?_e.filter(he=>he.stackId!==me.stackId||he.id<=me.id):se(_e,me))(_e,me))(this.views,me,q),this.views.slice()}transition(me,q,he,st,bt,Wt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(q===me)return Promise.resolve(!1);const un=me?me.element:void 0,gn=q?q.element:void 0,Un=this.containerEl;return un&&un!==gn&&(un.classList.add("ion-page"),un.classList.add("ion-page-invisible"),un.parentElement!==Un&&Un.appendChild(un),Un.commit)?Un.commit(un,gn,{duration:void 0===he?0:void 0,direction:he,showGoBack:st,progressAnimation:bt,animationBuilder:Wt}):Promise.resolve(!1)}wait(me){var q=this;return(0,u.c)(function*(){void 0!==q.runningTask&&(yield q.runningTask,q.runningTask=void 0);const he=q.runningTask=me();return he.finally(()=>q.runningTask=void 0),he})()}}const Rr=(_e,me,q,he,st)=>"function"==typeof requestAnimationFrame?new Promise(bt=>{requestAnimationFrame(()=>{wn(_e,me,q,he,st),bt()})}):Promise.resolve(),wn=(_e,me,q,he,st)=>{st.run(()=>q.filter(bt=>!me.includes(bt)).forEach(_r)),me.forEach(bt=>{const un=he.path().split("?")[0].split("#")[0];if(bt!==_e&&bt.url!==un){const gn=bt.element;gn.setAttribute("aria-hidden","true"),gn.classList.add("ion-page-hidden"),bt.ref.changeDetectorRef.detach()}})};let Gr=(()=>{class _e{constructor(q,he,st,bt,Wt,un,gn,Un){this.parentOutlet=Un,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Lt.g(null),this.activated=null,this._activatedRoute=null,this.name=K.gf,this.stackWillChange=new z._w7,this.stackDidChange=new z._w7,this.activateEvents=new z._w7,this.deactivateEvents=new z._w7,this.parentContexts=(0,z.uUt)(K.O4),this.location=(0,z.uUt)(z.y8U),this.environmentInjector=(0,z.uUt)(z.SIe),this.inputBinder=(0,z.uUt)(rr,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,z.uUt)(Nn),this.navCtrl=(0,z.uUt)(Fn),this.nativeEl=bt.nativeElement,this.name=q||K.gf,this.tabsPrefix="true"===he?Je(Wt,gn):void 0,this.stackCtrl=new nr(this.tabsPrefix,this.nativeEl,Wt,this.navCtrl,un,st),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(q){this.nativeEl.animation=q}set animated(q){this.nativeEl.animated=q}set swipeGesture(q){this._swipeGesture=q,this.nativeEl.swipeHandler=q?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:he=>this.stackCtrl.endBackTransition(he)}:void 0}ngOnDestroy(){var q;this.stackCtrl.destroy(),null===(q=this.inputBinder)||void 0===q||q.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const q=this.getContext();null!=q&&q.route&&this.activateWith(q.route,q.injector)}new Promise(q=>(0,Ne.c)(this.nativeEl,q)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(q,he){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const he=this.getContext();this.activatedView.savedData=new Map(he.children.contexts);const st=this.activatedView.savedData.get("primary");if(st&&he.route&&(st.route={...he.route}),this.activatedView.savedExtras={},he.route){const bt=he.route.snapshot;this.activatedView.savedExtras.queryParams=bt.queryParams,this.activatedView.savedExtras.fragment=bt.fragment}}const q=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(q)}}activateWith(q,he){var st;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=q;let bt,Wt=this.stackCtrl.getExistingView(q);if(Wt){bt=this.activated=Wt.ref;const Un=Wt.savedData;Un&&(this.getContext().children.contexts=Un),this.updateActivatedRouteProxy(bt.instance,q)}else{var un;const Un=q._futureSnapshot,ui=this.parentContexts.getOrCreateContext(this.name).children,pt=new Lt.g(null),j=this.createActivatedRouteProxy(pt,q),J=new ji(j,ui,this.location.injector),Ue=null!==(un=Un.routeConfig.component)&&void 0!==un?un:Un.component;bt=this.activated=this.location.createComponent(Ue,{index:this.location.length,injector:J,environmentInjector:null!=he?he:this.environmentInjector}),pt.next(bt.instance),Wt=this.stackCtrl.createView(this.activated,q),this.proxyMap.set(bt.instance,j),this.currentActivatedRoute$.next({component:bt.instance,activatedRoute:q})}null===(st=this.inputBinder)||void 0===st||st.bindActivatedRouteToOutletComponent(this),this.activatedView=Wt,this.navCtrl.setTopOutlet(this);const gn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Wt,tabSwitch:Kt(Wt,gn)}),this.stackCtrl.setActive(Wt).then(Un=>{this.activateEvents.emit(bt.instance),this.stackDidChange.emit(Un)})}canGoBack(q=1,he){return this.stackCtrl.canGoBack(q,he)}pop(q=1,he){return this.stackCtrl.pop(q,he)}getLastUrl(q){const he=this.stackCtrl.getLastUrl(q);return he?he.url:void 0}getLastRouteView(q){return this.stackCtrl.getLastUrl(q)}getRootView(q){return this.stackCtrl.getRootUrl(q)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(q,he){const st=new K.gV;return st._futureSnapshot=he._futureSnapshot,st._routerState=he._routerState,st.snapshot=he.snapshot,st.outlet=he.outlet,st.component=he.component,st._paramMap=this.proxyObservable(q,"paramMap"),st._queryParamMap=this.proxyObservable(q,"queryParamMap"),st.url=this.proxyObservable(q,"url"),st.params=this.proxyObservable(q,"params"),st.queryParams=this.proxyObservable(q,"queryParams"),st.fragment=this.proxyObservable(q,"fragment"),st.data=this.proxyObservable(q,"data"),st}proxyObservable(q,he){return q.pipe((0,_n.I)(st=>!!st),(0,kn.G)(st=>this.currentActivatedRoute$.pipe((0,_n.I)(bt=>null!==bt&&bt.component===st),(0,kn.G)(bt=>bt&&bt.activatedRoute[he]),(0,Hn.a)())))}updateActivatedRouteProxy(q,he){const st=this.proxyMap.get(q);if(!st)throw new Error("Could not find activated route proxy for view");st._futureSnapshot=he._futureSnapshot,st._routerState=he._routerState,st.snapshot=he.snapshot,st.outlet=he.outlet,st.component=he.component,this.currentActivatedRoute$.next({component:q,activatedRoute:he})}}return _e.\u0275fac=function(q){return new(q||_e)(z.gJ8("name"),z.gJ8("tabs"),z.GI1(le.oB),z.GI1(z.GMv),z.GI1(K.E5),z.GI1(z.WW2),z.GI1(K.gV),z.GI1(_e,12))},_e.\u0275dir=z.Sc5({type:_e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),_e})();class ji{constructor(me,q,he){this.route=me,this.childContexts=q,this.parent=he}get(me,q){return me===K.gV?this.route:me===K.O4?this.childContexts:this.parent.get(me,q)}}const rr=new z.UbH("");let Zn=(()=>{class _e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(q){this.unsubscribeFromRouteData(q),this.subscribeToRouteData(q)}unsubscribeFromRouteData(q){var he;null===(he=this.outletDataSubscriptions.get(q))||void 0===he||he.unsubscribe(),this.outletDataSubscriptions.delete(q)}subscribeToRouteData(q){const{activatedRoute:he}=q,st=(0,tn.E)([he.queryParams,he.params,he.data]).pipe((0,kn.G)(([bt,Wt,un],gn)=>(un={...bt,...Wt,...un},0===gn?(0,Zt.of)(un):Promise.resolve(un)))).subscribe(bt=>{if(!q.isActivated||!q.activatedComponentRef||q.activatedRoute!==he||null===he.component)return void this.unsubscribeFromRouteData(q);const Wt=(0,z.o9M)(he.component);if(Wt)for(const{templateName:un}of Wt.inputs)q.activatedComponentRef.setInput(un,bt[un]);else this.unsubscribeFromRouteData(q)});this.outletDataSubscriptions.set(q,st)}}return _e.\u0275fac=function(q){return new(q||_e)},_e.\u0275prov=z.wxM({token:_e,factory:_e.\u0275fac}),_e})();const ft=()=>({provide:rr,useFactory:ct,deps:[K.E5]});function ct(_e){return null!=_e&&_e.componentInputBindingEnabled?new Zn:null}const Pt=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let nn=(()=>{let _e=class{constructor(q,he,st,bt,Wt,un){this.routerOutlet=q,this.navCtrl=he,this.config=st,this.r=bt,this.z=Wt,un.detach(),this.el=this.r.nativeElement}onClick(q){var he;const st=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(he=this.routerOutlet)&&void 0!==he&&he.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),q.preventDefault()):null!=st&&(this.navCtrl.navigateBack(st,{animation:this.routerAnimation}),q.preventDefault())}};return _e.\u0275fac=function(q){return new(q||_e)(z.GI1(Gr,8),z.GI1(Fn),z.GI1(Nn),z.GI1(z.GMv),z.GI1(z.WW2),z.GI1(z.kD9))},_e.\u0275dir=z.Sc5({type:_e,hostBindings:function(q,he){1&q&&z.qCj("click",function(bt){return he.onClick(bt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),_e=(0,Rt.UN)([Ar({inputs:Pt})],_e),_e})(),bn=(()=>{class _e{constructor(q,he,st,bt,Wt){this.locationStrategy=q,this.navCtrl=he,this.elementRef=st,this.router=bt,this.routerLink=Wt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var q;if(null!==(q=this.routerLink)&&void 0!==q&&q.urlTree){const he=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=he}}onClick(q){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),q.preventDefault()}}return _e.\u0275fac=function(q){return new(q||_e)(z.GI1(le.Qd),z.GI1(Fn),z.GI1(z.GMv),z.GI1(K.E5),z.GI1(K.ER,8))},_e.\u0275dir=z.Sc5({type:_e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(q,he){1&q&&z.qCj("click",function(bt){return he.onClick(bt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[z.SYr]}),_e})(),xn=(()=>{class _e{constructor(q,he,st,bt,Wt){this.locationStrategy=q,this.navCtrl=he,this.elementRef=st,this.router=bt,this.routerLink=Wt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var q;if(null!==(q=this.routerLink)&&void 0!==q&&q.urlTree){const he=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=he}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return _e.\u0275fac=function(q){return new(q||_e)(z.GI1(le.Qd),z.GI1(Fn),z.GI1(z.GMv),z.GI1(K.E5),z.GI1(K.ER,8))},_e.\u0275dir=z.Sc5({type:_e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(q,he){1&q&&z.qCj("click",function(){return he.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[z.SYr]}),_e})();const zn=["animated","animation","root","rootParams","swipeGesture"],Cr=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let ir=(()=>{let _e=class{constructor(q,he,st,bt,Wt,un){this.z=Wt,un.detach(),this.el=q.nativeElement,q.nativeElement.delegate=bt.create(he,st),ei(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return _e.\u0275fac=function(q){return new(q||_e)(z.GI1(z.GMv),z.GI1(z.SIe),z.GI1(z.zZn),z.GI1(Ur),z.GI1(z.WW2),z.GI1(z.kD9))},_e.\u0275dir=z.Sc5({type:_e,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),_e=(0,Rt.UN)([Ar({inputs:zn,methods:Cr})],_e),_e})(),cr=(()=>{class _e{constructor(q){this.navCtrl=q,this.ionTabsWillChange=new z._w7,this.ionTabsDidChange=new z._w7,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:q,tabSwitch:he}){const st=q.stackId;he&&void 0!==st&&this.ionTabsWillChange.emit({tab:st})}onStackDidChange({enteringView:q,tabSwitch:he}){const st=q.stackId;he&&void 0!==st&&(this.tabBar&&(this.tabBar.selectedTab=st),this.ionTabsDidChange.emit({tab:st}))}select(q){const he="string"==typeof q,st=he?q:q.detail.tab,bt=this.outlet.getActiveStackId()===st,Wt=`${this.outlet.tabsPrefix}/${st}`;if(he||q.stopPropagation(),bt){const un=this.outlet.getActiveStackId(),gn=this.outlet.getLastRouteView(un);if((null==gn?void 0:gn.url)===Wt)return;const Un=this.outlet.getRootView(st);return this.navCtrl.navigateRoot(Wt,{...Un&&Wt===Un.url&&Un.savedExtras,animated:!0,animationDirection:"back"})}{const un=this.outlet.getLastRouteView(st);return this.navCtrl.navigateRoot((null==un?void 0:un.url)||Wt,{...null==un?void 0:un.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(q=>{const he=q.el.getAttribute("slot");he!==this.tabBarSlot&&(this.tabBarSlot=he,this.relocateTabBar())})}relocateTabBar(){const q=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(q):this.tabsInner.nativeElement.after(q)}}return _e.\u0275fac=function(q){return new(q||_e)(z.GI1(Fn))},_e.\u0275dir=z.Sc5({type:_e,selectors:[["ion-tabs"]],viewQuery:function(q,he){if(1&q&&z.CC$(_t,7,z.GMv),2&q){let st;z.wto(st=z.Gqi())&&(he.tabsInner=st.first)}},hostBindings:function(q,he){1&q&&z.qCj("ionTabButtonClick",function(bt){return he.select(bt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),_e})();const bi=_e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(_e):"function"==typeof requestAnimationFrame?requestAnimationFrame(_e):setTimeout(_e);let Vi=(()=>{class _e{constructor(q,he){this.injector=q,this.elementRef=he,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(q){this.elementRef.nativeElement.value=this.lastValue=q,Mr(this.elementRef)}handleValueChange(q,he){q===this.elementRef.nativeElement&&(he!==this.lastValue&&(this.lastValue=he,this.onChange(he)),Mr(this.elementRef))}_handleBlurEvent(q){q===this.elementRef.nativeElement&&(this.onTouched(),Mr(this.elementRef))}registerOnChange(q){this.onChange=q}registerOnTouched(q){this.onTouched=q}setDisabledState(q){this.elementRef.nativeElement.disabled=q}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let q;try{q=this.injector.get(Le.eq)}catch{}if(!q)return;q.statusChanges&&(this.statusChanges=q.statusChanges.subscribe(()=>Mr(this.elementRef)));const he=q.control;he&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(bt=>{if(typeof he[bt]<"u"){const Wt=he[bt].bind(he);he[bt]=(...un)=>{Wt(...un),Mr(this.elementRef)}}})}}return _e.\u0275fac=function(q){return new(q||_e)(z.GI1(z.zZn),z.GI1(z.GMv))},_e.\u0275dir=z.Sc5({type:_e,hostBindings:function(q,he){1&q&&z.qCj("ionBlur",function(bt){return he._handleBlurEvent(bt.target)})}}),_e})();const Mr=_e=>{bi(()=>{const me=_e.nativeElement,q=null!=me.value&&me.value.toString().length>0,he=Oi(me);Ai(me,he);const st=me.closest("ion-item");st&&Ai(st,q?[...he,"item-has-value"]:he)})},Oi=_e=>{const me=_e.classList,q=[];for(let he=0;he<me.length;he++){const st=me.item(he);null!==st&&Nr(st,"ng-")&&q.push(`ion-${st.substring(3)}`)}return q},Ai=(_e,me)=>{const q=_e.classList;q.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),q.add(...me)},Nr=(_e,me)=>_e.substring(0,me.length)===me;class lr{shouldDetach(me){return!1}shouldAttach(me){return!1}store(me,q){}retrieve(me){return null}shouldReuseRoute(me,q){if(me.routeConfig!==q.routeConfig)return!1;const he=me.params,st=q.params,bt=Object.keys(he),Wt=Object.keys(st);if(bt.length!==Wt.length)return!1;for(const un of bt)if(st[un]!==he[un])return!1;return!0}}class Dr{constructor(me){this.ctrl=me}create(me){return this.ctrl.create(me||{})}dismiss(me,q,he){return this.ctrl.dismiss(me,q,he)}getTop(){return this.ctrl.getTop()}}},2112:(on,it,k)=>{"use strict";k.d(it,{qk:()=>_n,sn:()=>jt,GS:()=>qt,KC:()=>Vt,Gg:()=>an,YY:()=>Mt,MN:()=>Fn,I7:()=>cn,_i:()=>Vn,wB:()=>Br,Ko:()=>Ln,A5:()=>ei,Yb:()=>Ar,QR:()=>Xe,OC:()=>te,Cg:()=>q,tM:()=>lr,Md:()=>me,wZ:()=>qr,Ch:()=>fn,qG:()=>De});var u=k(4496),z=k(4716),K=k(304),le=k(1316),be=k(800),pe=k(1368),ce=k(4196),Fe=(k(388),k(6256),k(8512),k(6556),k(2528),k(8523)),ke=k(9637),rt=(k(3452),k(3816)),Me=(k(4829),k(2992));k(6560),k(2784);var Oe=k(1528);const Qe=Fe.i,ae=function(){var T=(0,Oe.c)(function*(re,x){if(!(typeof window>"u"))return yield Qe(),(0,Me.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"],"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),x)});return function(x,ne){return T.apply(this,arguments)}}(),X=["*"];let fn=(()=>{class T extends K.uU{constructor(x,ne){super(x,ne)}handleInputEvent(x){this.handleValueChange(x,x.value)}registerOnChange(x){super.registerOnChange(ne=>{x(""===ne?null:parseFloat(ne))})}}return T.\u0275fac=function(x){return new(x||T)(u.GI1(u.zZn),u.GI1(u.GMv))},T.\u0275dir=u.Sc5({type:T,selectors:[["ion-input","type","number"]],hostBindings:function(x,ne){1&x&&u.qCj("ionInput",function(Yt){return ne.handleInputEvent(Yt.target)})},features:[u.M5G([{provide:z.Y6,useExisting:T,multi:!0}]),u.eg9]}),T})(),De=(()=>{class T extends K.uU{constructor(x,ne){super(x,ne)}_handleInputEvent(x){this.handleValueChange(x,x.value)}}return T.\u0275fac=function(x){return new(x||T)(u.GI1(u.zZn),u.GI1(u.GMv))},T.\u0275dir=u.Sc5({type:T,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(x,ne){1&x&&u.qCj("ionInput",function(Yt){return ne._handleInputEvent(Yt.target)})},features:[u.M5G([{provide:z.Y6,useExisting:T,multi:!0}]),u.eg9]}),T})();const fe=(T,re)=>{const x=T.prototype;re.forEach(ne=>{Object.defineProperty(x,ne,{get(){return this.el[ne]},set(Ee){this.z.runOutsideAngular(()=>this.el[ne]=Ee)},configurable:!0})})},we=(T,re)=>{const x=T.prototype;re.forEach(ne=>{x[ne]=function(){const Ee=arguments;return this.z.runOutsideAngular(()=>this.el[ne].apply(this.el,Ee))}})},Ne=(T,re,x)=>{x.forEach(ne=>T[ne]=(0,be.w)(re,ne))};function Ie(T){return function(x){const{defineCustomElementFn:ne,inputs:Ee,methods:Yt}=T;return void 0!==ne&&ne(),Ee&&fe(x,Ee),Yt&&we(x,Yt),x}}let _n=(()=>{let T=class{constructor(x,ne,Ee){this.z=Ee,x.detach(),this.el=ne.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(u.GI1(u.kD9),u.GI1(u.GMv),u.GI1(u.WW2))},T.\u0275cmp=u.In1({type:T,selectors:[["ion-app"]],ngContentSelectors:X,decls:1,vars:0,template:function(x,ne){1&x&&(u.kPM(),u._Xx(0))},encapsulation:2,changeDetection:0}),T=(0,le.UN)([Ie({})],T),T})(),jt=(()=>{let T=class{constructor(x,ne,Ee){this.z=Ee,x.detach(),this.el=ne.nativeElement,Ne(this,this.el,["ionFocus","ionBlur"])}};return T.\u0275fac=function(x){return new(x||T)(u.GI1(u.kD9),u.GI1(u.GMv),u.GI1(u.WW2))},T.\u0275cmp=u.In1({type:T,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:X,decls:1,vars:0,template:function(x,ne){1&x&&(u.kPM(),u._Xx(0))},encapsulation:2,changeDetection:0}),T=(0,le.UN)([Ie({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],T),T})(),qt=(()=>{let T=class{constructor(x,ne,Ee){this.z=Ee,x.detach(),this.el=ne.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(u.GI1(u.kD9),u.GI1(u.GMv),u.GI1(u.WW2))},T.\u0275cmp=u.In1({type:T,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:X,decls:1,vars:0,template:function(x,ne){1&x&&(u.kPM(),u._Xx(0))},encapsulation:2,changeDetection:0}),T=(0,le.UN)([Ie({inputs:["collapse"]})],T),T})(),Vt=(()=>{let T=class{constructor(x,ne,Ee){this.z=Ee,x.detach(),this.el=ne.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(u.GI1(u.kD9),u.GI1(u.GMv),u.GI1(u.WW2))},T.\u0275cmp=u.In1({type:T,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:X,decls:1,vars:0,template:function(x,ne){1&x&&(u.kPM(),u._Xx(0))},encapsulation:2,changeDetection:0}),T=(0,le.UN)([Ie({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],T),T})(),an=(()=>{let T=class{constructor(x,ne,Ee){this.z=Ee,x.detach(),this.el=ne.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(u.GI1(u.kD9),u.GI1(u.GMv),u.GI1(u.WW2))},T.\u0275cmp=u.In1({type:T,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:X,decls:1,vars:0,template:function(x,ne){1&x&&(u.kPM(),u._Xx(0))},encapsulation:2,changeDetection:0}),T=(0,le.UN)([Ie({inputs:["mode"]})],T),T})(),Mt=(()=>{let T=class{constructor(x,ne,Ee){this.z=Ee,x.detach(),this.el=ne.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(u.GI1(u.kD9),u.GI1(u.GMv),u.GI1(u.WW2))},T.\u0275cmp=u.In1({type:T,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:X,decls:1,vars:0,template:function(x,ne){1&x&&(u.kPM(),u._Xx(0))},encapsulation:2,changeDetection:0}),T=(0,le.UN)([Ie({inputs:["color","mode","translucent"]})],T),T})(),Fn=(()=>{let T=class{constructor(x,ne,Ee){this.z=Ee,x.detach(),this.el=ne.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(u.GI1(u.kD9),u.GI1(u.GMv),u.GI1(u.WW2))},T.\u0275cmp=u.In1({type:T,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:X,decls:1,vars:0,template:function(x,ne){1&x&&(u.kPM(),u._Xx(0))},encapsulation:2,changeDetection:0}),T=(0,le.UN)([Ie({inputs:["color","mode"]})],T),T})(),cn=(()=>{let T=class{constructor(x,ne,Ee){this.z=Ee,x.detach(),this.el=ne.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(u.GI1(u.kD9),u.GI1(u.GMv),u.GI1(u.WW2))},T.\u0275cmp=u.In1({type:T,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:X,decls:1,vars:0,template:function(x,ne){1&x&&(u.kPM(),u._Xx(0))},encapsulation:2,changeDetection:0}),T=(0,le.UN)([Ie({inputs:["color","mode"]})],T),T})(),Vn=(()=>{let T=class{constructor(x,ne,Ee){this.z=Ee,x.detach(),this.el=ne.nativeElement,Ne(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return T.\u0275fac=function(x){return new(x||T)(u.GI1(u.kD9),u.GI1(u.GMv),u.GI1(u.WW2))},T.\u0275cmp=u.In1({type:T,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:X,decls:1,vars:0,template:function(x,ne){1&x&&(u.kPM(),u._Xx(0))},encapsulation:2,changeDetection:0}),T=(0,le.UN)([Ie({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],T),T})(),Br=(()=>{let T=class{constructor(x,ne,Ee){this.z=Ee,x.detach(),this.el=ne.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(u.GI1(u.kD9),u.GI1(u.GMv),u.GI1(u.WW2))},T.\u0275cmp=u.In1({type:T,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:X,decls:1,vars:0,template:function(x,ne){1&x&&(u.kPM(),u._Xx(0))},encapsulation:2,changeDetection:0}),T=(0,le.UN)([Ie({inputs:["collapse","mode","translucent"]})],T),T})(),Ln=(()=>{let T=class{constructor(x,ne,Ee){this.z=Ee,x.detach(),this.el=ne.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(u.GI1(u.kD9),u.GI1(u.GMv),u.GI1(u.WW2))},T.\u0275cmp=u.In1({type:T,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:X,decls:1,vars:0,template:function(x,ne){1&x&&(u.kPM(),u._Xx(0))},encapsulation:2,changeDetection:0}),T=(0,le.UN)([Ie({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],T),T})(),ei=(()=>{let T=class{constructor(x,ne,Ee){this.z=Ee,x.detach(),this.el=ne.nativeElement,Ne(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return T.\u0275fac=function(x){return new(x||T)(u.GI1(u.kD9),u.GI1(u.GMv),u.GI1(u.WW2))},T.\u0275cmp=u.In1({type:T,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:X,decls:1,vars:0,template:function(x,ne){1&x&&(u.kPM(),u._Xx(0))},encapsulation:2,changeDetection:0}),T=(0,le.UN)([Ie({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],T),T})(),Ar=(()=>{let T=class{constructor(x,ne,Ee){this.z=Ee,x.detach(),this.el=ne.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(u.GI1(u.kD9),u.GI1(u.GMv),u.GI1(u.WW2))},T.\u0275cmp=u.In1({type:T,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:X,decls:1,vars:0,template:function(x,ne){1&x&&(u.kPM(),u._Xx(0))},encapsulation:2,changeDetection:0}),T=(0,le.UN)([Ie({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],T),T})(),Xe=(()=>{let T=class{constructor(x,ne,Ee){this.z=Ee,x.detach(),this.el=ne.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(u.GI1(u.kD9),u.GI1(u.GMv),u.GI1(u.WW2))},T.\u0275cmp=u.In1({type:T,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:X,decls:1,vars:0,template:function(x,ne){1&x&&(u.kPM(),u._Xx(0))},encapsulation:2,changeDetection:0}),T=(0,le.UN)([Ie({inputs:["color","mode","position"]})],T),T})(),te=(()=>{let T=class{constructor(x,ne,Ee){this.z=Ee,x.detach(),this.el=ne.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(u.GI1(u.kD9),u.GI1(u.GMv),u.GI1(u.WW2))},T.\u0275cmp=u.In1({type:T,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:X,decls:1,vars:0,template:function(x,ne){1&x&&(u.kPM(),u._Xx(0))},encapsulation:2,changeDetection:0}),T=(0,le.UN)([Ie({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],T),T})(),lr=(()=>{let T=class{constructor(x,ne,Ee){this.z=Ee,x.detach(),this.el=ne.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(u.GI1(u.kD9),u.GI1(u.GMv),u.GI1(u.WW2))},T.\u0275cmp=u.In1({type:T,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:X,decls:1,vars:0,template:function(x,ne){1&x&&(u.kPM(),u._Xx(0))},encapsulation:2,changeDetection:0}),T=(0,le.UN)([Ie({inputs:["color","size"]})],T),T})(),me=(()=>{let T=class{constructor(x,ne,Ee){this.z=Ee,x.detach(),this.el=ne.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(u.GI1(u.kD9),u.GI1(u.GMv),u.GI1(u.WW2))},T.\u0275cmp=u.In1({type:T,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:X,decls:1,vars:0,template:function(x,ne){1&x&&(u.kPM(),u._Xx(0))},encapsulation:2,changeDetection:0}),T=(0,le.UN)([Ie({inputs:["color","mode"]})],T),T})(),q=(()=>{class T extends K.Cg{constructor(x,ne,Ee,Yt,dr,si,wr,Mi){super(x,ne,Ee,Yt,dr,si,wr,Mi),this.parentOutlet=Mi}}return T.\u0275fac=function(x){return new(x||T)(u.gJ8("name"),u.gJ8("tabs"),u.GI1(pe.oB),u.GI1(u.GMv),u.GI1(ce.E5),u.GI1(u.WW2),u.GI1(ce.gV),u.GI1(T,12))},T.\u0275dir=u.Sc5({type:T,selectors:[["ion-router-outlet"]],features:[u.eg9]}),T})();const ui={provide:z.WM,useExisting:(0,u.wd)(()=>pt),multi:!0};let pt=(()=>{class T extends z._t{}return T.\u0275fac=(()=>{let re;return function(ne){return(re||(re=u.otF(T)))(ne||T)}})(),T.\u0275dir=u.Sc5({type:T,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(x,ne){2&x&&u.e48("max",ne._enabled?ne.max:null)},features:[u.M5G([ui]),u.eg9]}),T})();const j={provide:z.WM,useExisting:(0,u.wd)(()=>J),multi:!0};let J=(()=>{class T extends z.Gu{}return T.\u0275fac=(()=>{let re;return function(ne){return(re||(re=u.otF(T)))(ne||T)}})(),T.\u0275dir=u.Sc5({type:T,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(x,ne){2&x&&u.e48("min",ne._enabled?ne.min:null)},features:[u.M5G([j]),u.eg9]}),T})(),$t=(()=>{class T extends K.gk{constructor(){super(rt.m),this.angularDelegate=(0,u.uUt)(K.kh),this.injector=(0,u.uUt)(u.zZn),this.environmentInjector=(0,u.uUt)(u.SIe)}create(x){return super.create({...x,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return T.\u0275fac=function(x){return new(x||T)},T.\u0275prov=u.wxM({token:T,factory:T.\u0275fac}),T})();class Ht extends K.gk{constructor(){super(rt.c),this.angularDelegate=(0,u.uUt)(K.kh),this.injector=(0,u.uUt)(u.zZn),this.environmentInjector=(0,u.uUt)(u.SIe)}create(re){return super.create({...re,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const pn=(T,re,x)=>()=>{const ne=re.defaultView;if(ne&&typeof window<"u"){(0,ke.s)({...T,_zoneGate:Yt=>x.run(Yt)});const Ee="__zone_symbol__addEventListener"in re.body?"__zone_symbol__addEventListener":"addEventListener";return function Ve(){var T=[];if(typeof window<"u"){var re=window;(!re.customElements||re.Element&&(!re.Element.prototype.closest||!re.Element.prototype.matches||!re.Element.prototype.remove||!re.Element.prototype.getRootNode))&&T.push(k.e(4448).then(k.t.bind(k,812,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||re.NodeList&&!re.NodeList.prototype.forEach||!re.fetch||!function(){try{var ne=new URL("b","http://a");return ne.pathname="c%20d","http://a/c%20d"===ne.href&&ne.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&T.push(k.e(488).then(k.t.bind(k,6304,23)))}return Promise.all(T)}().then(()=>ae(ne,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:K.cl,jmp:Yt=>x.runOutsideAngular(Yt),ael(Yt,dr,si,wr){Yt[Ee](dr,si,wr)},rel(Yt,dr,si,wr){Yt.removeEventListener(dr,si,wr)}}))}};let qr=(()=>{class T{static forRoot(x){return{ngModule:T,providers:[{provide:K.m2,useValue:x},{provide:u.kZF,useFactory:pn,multi:!0,deps:[K.m2,pe.Ud,u.WW2]},(0,K.Al)()]}}}return T.\u0275fac=function(x){return new(x||T)},T.\u0275mod=u.a4G({type:T}),T.\u0275inj=u.s3X({providers:[K.kh,$t,Ht],imports:[pe.MD]}),T})()},9252:(on,it,k)=>{"use strict";k.d(it,{c:()=>u.c});var u=k(8368);u.c.registerVersion("firebase","10.8.0","app-compat")},864:(on,it,k)=>{"use strict";k.r(it);var u=k(1528),z=k(8368),K=k(7144),le=k(9360),be=k(5976),pe=k(1316),ce=k(4920);const ze={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ae=function Fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},rt=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Pe=new K.UR("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Be=new be.YJ("@firebase/auth");function Ke(v,...f){Be.logLevel<=be.Ge.ERROR&&Be.error(`Auth (${le.SDK_VERSION}): ${v}`,...f)}function Ve(v,...f){throw X(v,...f)}function Oe(v,...f){return X(v,...f)}function Qe(v,f,g){const I=Object.assign(Object.assign({},rt()),{[f]:g});return new K.UR("auth","Firebase",I).create(f,{appName:v.name})}function ae(v,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Ve(v,"argument-error"),Qe(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function X(v,...f){if("string"!=typeof v){const g=f[0],I=[...f.slice(1)];return I[0]&&(I[0].appName=v.name),v._errorFactory.create(g,...I)}return Pe.create(v,...f)}function oe(v,f,...g){if(!v)throw X(f,...g)}function Se(v){const f="INTERNAL ASSERTION FAILED: "+v;throw Ke(f),new Error(f)}function je(v,f){v||Se(f)}function ot(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function ut(){return"http:"===kt()||"https:"===kt()}function kt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class at{constructor(f,g){this.shortDelay=f,this.longDelay=g,je(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,K.AV)()||(0,K.AL)()}get(){return function fn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ut()||(0,K.Cc)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function De(v,f){je(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class fe{static initialize(f,g,I){this.fetchImpl=f,g&&(this.headersImpl=g),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const we={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ne=new at(3e4,6e4);function nt(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function Ie(v,f,g,I){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,u.c)(function*(v,f,g,I,U={}){return tn(v,U,(0,u.c)(function*(){let ee={},Ge={};I&&("GET"===f?Ge=I:ee={body:JSON.stringify(I)});const mt=(0,K.ik)(Object.assign({key:v.config.apiKey},Ge)).slice(1),Ft=yield v._getAdditionalHeaders();return Ft["Content-Type"]="application/json",v.languageCode&&(Ft["X-Firebase-Locale"]=v.languageCode),fe.fetch()(kn(v,v.config.apiHost,g,mt),Object.assign({method:f,headers:Ft,referrerPolicy:"no-referrer"},ee))}))})).apply(this,arguments)}function tn(v,f,g){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,u.c)(function*(v,f,g){v._canInitEmulator=!1;const I=Object.assign(Object.assign({},we),f);try{const U=new Le(v),ee=yield Promise.race([g(),U.promise]);U.clearNetworkTimeout();const Ge=yield ee.json();if("needConfirmation"in Ge)throw _t(v,"account-exists-with-different-credential",Ge);if(ee.ok&&!("errorMessage"in Ge))return Ge;{const mt=ee.ok?Ge.errorMessage:Ge.error.message,[Ft,In]=mt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ft)throw _t(v,"credential-already-in-use",Ge);if("EMAIL_EXISTS"===Ft)throw _t(v,"email-already-in-use",Ge);if("USER_DISABLED"===Ft)throw _t(v,"user-disabled",Ge);const Sn=I[Ft]||Ft.toLowerCase().replace(/[_\s]+/g,"-");if(In)throw Qe(v,Sn,In);Ve(v,Sn)}}catch(U){if(U instanceof K.kx)throw U;Ve(v,"network-request-failed",{message:String(U)})}})).apply(this,arguments)}function Rt(v,f,g,I){return _n.apply(this,arguments)}function _n(){return(_n=(0,u.c)(function*(v,f,g,I,U={}){const ee=yield Ie(v,f,g,I,U);return"mfaPendingCredential"in ee&&Ve(v,"multi-factor-auth-required",{_serverResponse:ee}),ee})).apply(this,arguments)}function kn(v,f,g,I){const U=`${f}${g}?${I}`;return v.config.emulator?De(v.config,U):`${v.config.apiScheme}://${U}`}function Hn(v){switch(v){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Le{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,I)=>{this.timer=setTimeout(()=>I(Oe(this.auth,"network-request-failed")),Ne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _t(v,f,g){const I={appName:v.name};g.email&&(I.email=g.email),g.phoneNumber&&(I.phoneNumber=g.phoneNumber);const U=Oe(v,f,I);return U.customData._tokenResponse=g,U}function yt(v){return void 0!==v&&void 0!==v.getResponse}function jt(v){return void 0!==v&&void 0!==v.enterprise}class qt{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const g of this.recaptchaEnforcementState)if(g.provider&&g.provider===f)return Hn(g.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function an(){return(an=(0,u.c)(function*(v){return(yield Ie(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Mt(v,f){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,u.c)(function*(v,f){return Ie(v,"GET","/v2/recaptchaConfig",nt(v,f))})).apply(this,arguments)}function or(){return(or=(0,u.c)(function*(v,f){return Ie(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Nn(){return(Nn=(0,u.c)(function*(v,f){return Ie(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function mr(){return(mr=(0,u.c)(function*(v,f){return Ie(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function fi(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function kr(){return(kr=(0,u.c)(function*(v,f=!1){const g=(0,K.Yj)(v),I=yield g.getIdToken(f),U=Tn(I);oe(U&&U.exp&&U.auth_time&&U.iat,g.auth,"internal-error");const ee="object"==typeof U.firebase?U.firebase:void 0,Ge=null==ee?void 0:ee.sign_in_provider;return{claims:U,token:I,authTime:fi(Dn(U.auth_time)),issuedAtTime:fi(Dn(U.iat)),expirationTime:fi(Dn(U.exp)),signInProvider:Ge||null,signInSecondFactor:(null==ee?void 0:ee.sign_in_second_factor)||null}})).apply(this,arguments)}function Dn(v){return 1e3*Number(v)}function Tn(v){const[f,g,I]=v.split(".");if(void 0===f||void 0===g||void 0===I)return Ke("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,K.WW)(g);return U?JSON.parse(U):(Ke("Failed to decode base64 JWT payload"),null)}catch(U){return Ke("Caught error parsing JWT payload as JSON",null==U?void 0:U.toString()),null}}function Ln(v,f){return $r.apply(this,arguments)}function $r(){return($r=(0,u.c)(function*(v,f,g=!1){if(g)return f;try{return yield f}catch(I){throw I instanceof K.kx&&function zr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(I)&&v.auth.currentUser===v&&(yield v.auth.signOut()),I}})).apply(this,arguments)}class Sr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const U=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const I=this.getInterval(f);this.timerId=setTimeout((0,u.c)(function*(){yield g.iteration()}),I)}iteration(){var f=this;return(0,u.c)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===(null==g?void 0:g.code)&&f.schedule(!0))}f.schedule()})()}}class ei{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=fi(this.lastLoginAt),this.creationTime=fi(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ar(v){return oi.apply(this,arguments)}function oi(){return oi=(0,u.c)(function*(v){var f;const g=v.auth,I=yield v.getIdToken(),U=yield Ln(v,function Vn(v,f){return mr.apply(this,arguments)}(g,{idToken:I}));oe(null==U?void 0:U.users.length,g,"internal-error");const ee=U.users[0];v._notifyReloadListener(ee);const Ge=null!==(f=ee.providerUserInfo)&&void 0!==f&&f.length?function Dt(v){return v.map(f=>{var{providerId:g}=f,I=(0,pe.sX)(f,["providerId"]);return{providerId:g,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(ee.providerUserInfo):[],mt=function et(v,f){return[...v.filter(I=>!f.some(U=>U.providerId===I.providerId)),...f]}(v.providerData,Ge),Sn=!!v.isAnonymous&&!(v.email&&ee.passwordHash||null!=mt&&mt.length),Bn={uid:ee.localId,displayName:ee.displayName||null,photoURL:ee.photoUrl||null,email:ee.email||null,emailVerified:ee.emailVerified||!1,phoneNumber:ee.phoneNumber||null,tenantId:ee.tenantId||null,providerData:mt,metadata:new ei(ee.createdAt,ee.lastLoginAt),isAnonymous:Sn};Object.assign(v,Bn)}),oi.apply(this,arguments)}function It(){return(It=(0,u.c)(function*(v){const f=(0,K.Yj)(v);yield Ar(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function te(){return(te=(0,u.c)(function*(v,f){const g=yield tn(v,{},(0,u.c)(function*(){const I=(0,K.ik)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:U,apiKey:ee}=v.config,Ge=kn(v,U,"/v1/token",`key=${ee}`),mt=yield v._getAdditionalHeaders();return mt["Content-Type"]="application/x-www-form-urlencoded",fe.fetch()(Ge,{method:"POST",headers:mt,body:I})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function Ce(){return(Ce=(0,u.c)(function*(v,f){return Ie(v,"POST","/v2/accounts:revokeToken",nt(v,f))})).apply(this,arguments)}class $e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){oe(f.idToken,"internal-error"),oe(typeof f.idToken<"u","internal-error"),oe(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Br(v){const f=Tn(v);return oe(f,"internal-error"),oe(typeof f.exp<"u","internal-error"),oe(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var I=this;return(0,u.c)(function*(){return oe(!I.accessToken||I.refreshToken,f,"user-token-expired"),g||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(f,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var I=this;return(0,u.c)(function*(){const{accessToken:U,refreshToken:ee,expiresIn:Ge}=yield function Xe(v,f){return te.apply(this,arguments)}(f,g);I.updateTokensAndExpiration(U,ee,Number(Ge))})()}updateTokensAndExpiration(f,g,I){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(f,g){const{refreshToken:I,accessToken:U,expirationTime:ee}=g,Ge=new $e;return I&&(oe("string"==typeof I,"internal-error",{appName:f}),Ge.refreshToken=I),U&&(oe("string"==typeof U,"internal-error",{appName:f}),Ge.accessToken=U),ee&&(oe("number"==typeof ee,"internal-error",{appName:f}),Ge.expirationTime=ee),Ge}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new $e,this.toJSON())}_performRefresh(){return Se("not implemented")}}function Je(v,f){oe("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class Kt{constructor(f){var{uid:g,auth:I,stsTokenManager:U}=f,ee=(0,pe.sX)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=I,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=ee.displayName||null,this.email=ee.email||null,this.emailVerified=ee.emailVerified||!1,this.phoneNumber=ee.phoneNumber||null,this.photoURL=ee.photoURL||null,this.isAnonymous=ee.isAnonymous||!1,this.tenantId=ee.tenantId||null,this.providerData=ee.providerData?[...ee.providerData]:[],this.metadata=new ei(ee.createdAt||void 0,ee.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,u.c)(function*(){const I=yield Ln(g,g.stsTokenManager.getToken(g.auth,f));return oe(I,g.auth,"internal-error"),g.accessToken!==I&&(g.accessToken=I,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),I})()}getIdTokenResult(f){return function On(v){return kr.apply(this,arguments)}(this,f)}reload(){return function ti(v){return It.apply(this,arguments)}(this)}_assign(f){this!==f&&(oe(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new Kt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var I=this;return(0,u.c)(function*(){let U=!1;f.idToken&&f.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(f),U=!0),g&&(yield Ar(I)),yield I.auth._persistUserIfCurrent(I),U&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var f=this;return(0,u.c)(function*(){const g=yield f.getIdToken();return yield Ln(f,function cn(v,f){return or.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var I,U,ee,Ge,mt,Ft,In,Sn;const Bn=null!==(I=g.displayName)&&void 0!==I?I:void 0,$i=null!==(U=g.email)&&void 0!==U?U:void 0,vi=null!==(ee=g.phoneNumber)&&void 0!==ee?ee:void 0,xr=null!==(Ge=g.photoURL)&&void 0!==Ge?Ge:void 0,vl=null!==(mt=g.tenantId)&&void 0!==mt?mt:void 0,eo=null!==(Ft=g._redirectEventId)&&void 0!==Ft?Ft:void 0,Ac=null!==(In=g.createdAt)&&void 0!==In?In:void 0,Pd=null!==(Sn=g.lastLoginAt)&&void 0!==Sn?Sn:void 0,{uid:Sc,emailVerified:Th,isAnonymous:xd,providerData:Xl,stsTokenManager:Lu}=g;oe(Sc&&Lu,f,"internal-error");const Fu=$e.fromJSON(this.name,Lu);oe("string"==typeof Sc,f,"internal-error"),Je(Bn,f.name),Je($i,f.name),oe("boolean"==typeof Th,f,"internal-error"),oe("boolean"==typeof xd,f,"internal-error"),Je(vi,f.name),Je(xr,f.name),Je(vl,f.name),Je(eo,f.name),Je(Ac,f.name),Je(Pd,f.name);const Ya=new Kt({uid:Sc,auth:f,email:$i,emailVerified:Th,displayName:Bn,isAnonymous:xd,photoURL:xr,phoneNumber:vi,tenantId:vl,stsTokenManager:Fu,createdAt:Ac,lastLoginAt:Pd});return Xl&&Array.isArray(Xl)&&(Ya.providerData=Xl.map(Zl=>Object.assign({},Zl))),eo&&(Ya._redirectEventId=eo),Ya}static _fromIdTokenResponse(f,g,I=!1){return(0,u.c)(function*(){const U=new $e;U.updateFromServerResponse(g);const ee=new Kt({uid:g.localId,auth:f,stsTokenManager:U,isAnonymous:I});return yield Ar(ee),ee})()}}const dn=new Map;function Pn(v){je(v instanceof Function,"Expected a class definition");let f=dn.get(v);return f?(je(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,dn.set(v,f),f)}const nr=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.c)(function*(){return!0})()}_set(g,I){var U=this;return(0,u.c)(function*(){U.storage[g]=I})()}_get(g){var I=this;return(0,u.c)(function*(){const U=I.storage[g];return void 0===U?null:U})()}_remove(g){var I=this;return(0,u.c)(function*(){delete I.storage[g]})()}_addListener(g,I){}_removeListener(g,I){}}return v.type="NONE",v})();function Rr(v,f,g){return`firebase:${v}:${f}:${g}`}class wn{constructor(f,g,I){this.persistence=f,this.auth=g,this.userKey=I;const{config:U,name:ee}=this.auth;this.fullUserKey=Rr(this.userKey,U.apiKey,ee),this.fullPersistenceKey=Rr("persistence",U.apiKey,ee),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,u.c)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?Kt._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,u.c)(function*(){if(g.persistence===f)return;const I=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,I?g.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,I="authUser"){return(0,u.c)(function*(){if(!g.length)return new wn(Pn(nr),f,I);const U=(yield Promise.all(g.map(function(){var In=(0,u.c)(function*(Sn){if(yield Sn._isAvailable())return Sn});return function(Sn){return In.apply(this,arguments)}}()))).filter(In=>In);let ee=U[0]||Pn(nr);const Ge=Rr(I,f.config.apiKey,f.name);let mt=null;for(const In of g)try{const Sn=yield In._get(Ge);if(Sn){const Bn=Kt._fromJSON(f,Sn);In!==ee&&(mt=Bn),ee=In;break}}catch{}const Ft=U.filter(In=>In._shouldAllowMigration);return ee._shouldAllowMigration&&Ft.length?(ee=Ft[0],mt&&(yield ee._set(Ge,mt.toJSON())),yield Promise.all(g.map(function(){var In=(0,u.c)(function*(Sn){if(Sn!==ee)try{yield Sn._remove(Ge)}catch{}});return function(Sn){return In.apply(this,arguments)}}())),new wn(ee,f,I)):new wn(ee,f,I)})()}}function Gr(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(ft(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ji(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Pt(f))return"Blackberry";if(nn(f))return"Webos";if(rr(f))return"Safari";if((f.includes("chrome/")||Zn(f))&&!f.includes("edge/"))return"Chrome";if(ct(f))return"Android";{const I=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function ji(v=(0,K.Su)()){return/firefox\//i.test(v)}function rr(v=(0,K.Su)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Zn(v=(0,K.Su)()){return/crios\//i.test(v)}function ft(v=(0,K.Su)()){return/iemobile/i.test(v)}function ct(v=(0,K.Su)()){return/android/i.test(v)}function Pt(v=(0,K.Su)()){return/blackberry/i.test(v)}function nn(v=(0,K.Su)()){return/webos/i.test(v)}function bn(v=(0,K.Su)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function ir(v=(0,K.Su)()){return bn(v)||ct(v)||nn(v)||Pt(v)||/windows phone/i.test(v)||ft(v)}function bi(v,f=[]){let g;switch(v){case"Browser":g=Gr((0,K.Su)());break;case"Worker":g=`${Gr((0,K.Su)())}-${v}`;break;default:g=v}const I=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${le.SDK_VERSION}/${I}`}class Vi{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const I=ee=>new Promise((Ge,mt)=>{try{Ge(f(ee))}catch(Ft){mt(Ft)}});I.onAbort=g,this.queue.push(I);const U=this.queue.length-1;return()=>{this.queue[U]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,u.c)(function*(){if(g.auth.currentUser===f)return;const I=[];try{for(const U of g.queue)yield U(f),U.onAbort&&I.push(U.onAbort)}catch(U){I.reverse();for(const ee of I)try{ee()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null==U?void 0:U.message})}})()}}function Oi(){return(Oi=(0,u.c)(function*(v,f={}){return Ie(v,"GET","/v2/passwordPolicy",nt(v,f))})).apply(this,arguments)}class Nr{constructor(f){var g,I,U,ee;const Ge=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(g=Ge.minPasswordLength)&&void 0!==g?g:6,Ge.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ge.maxPasswordLength),void 0!==Ge.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ge.containsLowercaseCharacter),void 0!==Ge.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ge.containsUppercaseCharacter),void 0!==Ge.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ge.containsNumericCharacter),void 0!==Ge.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ge.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(U=null===(I=f.allowedNonAlphanumericCharacters)||void 0===I?void 0:I.join(""))&&void 0!==U?U:"",this.forceUpgradeOnSignin=null!==(ee=f.forceUpgradeOnSignin)&&void 0!==ee&&ee,this.schemaVersion=f.schemaVersion}validatePassword(f){var g,I,U,ee,Ge,mt;const Ft={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,Ft),this.validatePasswordCharacterOptions(f,Ft),Ft.isValid&&(Ft.isValid=null===(g=Ft.meetsMinPasswordLength)||void 0===g||g),Ft.isValid&&(Ft.isValid=null===(I=Ft.meetsMaxPasswordLength)||void 0===I||I),Ft.isValid&&(Ft.isValid=null===(U=Ft.containsLowercaseLetter)||void 0===U||U),Ft.isValid&&(Ft.isValid=null===(ee=Ft.containsUppercaseLetter)||void 0===ee||ee),Ft.isValid&&(Ft.isValid=null===(Ge=Ft.containsNumericCharacter)||void 0===Ge||Ge),Ft.isValid&&(Ft.isValid=null===(mt=Ft.containsNonAlphanumericCharacter)||void 0===mt||mt),Ft}validatePasswordLengthOptions(f,g){const I=this.customStrengthOptions.minPasswordLength,U=this.customStrengthOptions.maxPasswordLength;I&&(g.meetsMinPasswordLength=f.length>=I),U&&(g.meetsMaxPasswordLength=f.length<=U)}validatePasswordCharacterOptions(f,g){let I;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let U=0;U<f.length;U++)I=f.charAt(U),this.updatePasswordCharacterOptionsStatuses(g,I>="a"&&I<="z",I>="A"&&I<="Z",I>="0"&&I<="9",this.allowedNonAlphanumericCharacters.includes(I))}updatePasswordCharacterOptionsStatuses(f,g,I,U,ee){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=I)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=U)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=ee))}}class lr{constructor(f,g,I,U){this.app=f,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=I,this.config=U,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _e(this),this.idTokenSubscription=new _e(this),this.beforeStateQueue=new Vi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=U.sdkClientVersion}_initializeWithPersistence(f,g){var I=this;return g&&(this._popupRedirectResolver=Pn(g)),this._initializationPromise=this.queue((0,u.c)(function*(){var U,ee;if(!I._deleted&&(I.persistenceManager=yield wn.create(I,f),!I._deleted)){if(null!==(U=I._popupRedirectResolver)&&void 0!==U&&U._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(g),I.lastNotifiedUid=(null===(ee=I.currentUser)||void 0===ee?void 0:ee.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,u.c)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,u.c)(function*(){var I;const U=yield g.assertedPersistence.getCurrentUser();let ee=U,Ge=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const mt=null===(I=g.redirectUser)||void 0===I?void 0:I._redirectEventId,Ft=null==ee?void 0:ee._redirectEventId,In=yield g.tryRedirectSignIn(f);(!mt||mt===Ft)&&null!=In&&In.user&&(ee=In.user,Ge=!0)}if(!ee)return g.directlySetCurrentUser(null);if(!ee._redirectEventId){if(Ge)try{yield g.beforeStateQueue.runMiddleware(ee)}catch(mt){ee=U,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(mt))}return ee?g.reloadAndSetCurrentUserOrClear(ee):g.directlySetCurrentUser(null)}return oe(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===ee._redirectEventId?g.directlySetCurrentUser(ee):g.reloadAndSetCurrentUserOrClear(ee)})()}tryRedirectSignIn(f){var g=this;return(0,u.c)(function*(){let I=null;try{I=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,u.c)(function*(){try{yield Ar(f)}catch(I){if("auth/network-request-failed"!==(null==I?void 0:I.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function jn(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,u.c)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,u.c)(function*(){const I=f?(0,K.Yj)(f):null;return I&&oe(I.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(I&&I._clone(g))})()}_updateCurrentUser(f,g=!1){var I=this;return(0,u.c)(function*(){if(!I._deleted)return f&&oe(I.tenantId===f.tenantId,I,"tenant-id-mismatch"),g||(yield I.beforeStateQueue.runMiddleware(f)),I.queue((0,u.c)(function*(){yield I.directlySetCurrentUser(f),I.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,u.c)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,u.c)(function*(){yield g.assertedPersistence.setPersistence(Pn(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var g=this;return(0,u.c)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const I=g._getPasswordPolicyInternal();return I.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):I.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,u.c)(function*(){const g=yield function Mr(v){return Oi.apply(this,arguments)}(f),I=new Nr(g);null===f.tenantId?f._projectPasswordPolicy=I:f._tenantPasswordPolicies[f.tenantId]=I})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new K.UR("auth","Firebase",f())}onAuthStateChanged(f,g,I){return this.registerStateListener(this.authStateSubscription,f,g,I)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,I){return this.registerStateListener(this.idTokenSubscription,f,g,I)}authStateReady(){return new Promise((f,g)=>{if(this.currentUser)f();else{const I=this.onAuthStateChanged(()=>{I(),f()},g)}})}revokeAccessToken(f){var g=this;return(0,u.c)(function*(){if(g.currentUser){const I=yield g.currentUser.getIdToken(),U={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:I};null!=g.tenantId&&(U.tenantId=g.tenantId),yield function se(v,f){return Ce.apply(this,arguments)}(g,U)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var I=this;return(0,u.c)(function*(){const U=yield I.getOrInitRedirectPersistenceManager(g);return null===f?U.removeCurrentUser():U.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,u.c)(function*(){if(!g.redirectPersistenceManager){const I=f&&Pn(f)||g._popupRedirectResolver;oe(I,g,"argument-error"),g.redirectPersistenceManager=yield wn.create(g,[Pn(I._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,u.c)(function*(){var I,U;return g._isInitialized&&(yield g.queue((0,u.c)(function*(){}))),(null===(I=g._currentUser)||void 0===I?void 0:I._redirectEventId)===f?g._currentUser:(null===(U=g.redirectUser)||void 0===U?void 0:U._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,u.c)(function*(){if(f===g.currentUser)return g.queue((0,u.c)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,I,U){if(this._deleted)return()=>{};const ee="function"==typeof g?g:g.next.bind(g);let Ge=!1;const mt=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(mt,this,"internal-error"),mt.then(()=>{Ge||ee(this.currentUser)}),"function"==typeof g){const Ft=f.addObserver(g,I,U);return()=>{Ge=!0,Ft()}}{const Ft=f.addObserver(g);return()=>{Ge=!0,Ft()}}}directlySetCurrentUser(f){var g=this;return(0,u.c)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=bi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,u.c)(function*(){var g;const I={"X-Client-Version":f.clientVersion};f.app.options.appId&&(I["X-Firebase-gmpid"]=f.app.options.appId);const U=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();U&&(I["X-Firebase-Client"]=U);const ee=yield f._getAppCheckToken();return ee&&(I["X-Firebase-AppCheck"]=ee),I})()}_getAppCheckToken(){var f=this;return(0,u.c)(function*(){var g;const I=yield null===(g=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return null!=I&&I.error&&function vt(v,...f){Be.logLevel<=be.Ge.WARN&&Be.warn(`Auth (${le.SDK_VERSION}): ${v}`,...f)}(`Error while retrieving App Check token: ${I.error}`),null==I?void 0:I.token})()}}function Dr(v){return(0,K.Yj)(v)}class _e{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,K.my)(g=>this.observer=g)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let me={loadJS:()=>(0,u.c)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function he(v){return me.loadJS(v)}function un(v){return`__${v}${Math.floor(1e6*Math.random())}`}class ui{constructor(f){this.type="recaptcha-enterprise",this.auth=Dr(f)}verify(f="verify",g=!1){var I=this;return(0,u.c)(function*(){function ee(){return ee=(0,u.c)(function*(mt){if(!g){if(null==mt.tenantId&&null!=mt._agentRecaptchaConfig)return mt._agentRecaptchaConfig.siteKey;if(null!=mt.tenantId&&void 0!==mt._tenantRecaptchaConfigs[mt.tenantId])return mt._tenantRecaptchaConfigs[mt.tenantId].siteKey}return new Promise(function(){var Ft=(0,u.c)(function*(In,Sn){Mt(mt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Bn=>{if(void 0!==Bn.recaptchaKey){const $i=new qt(Bn);return null==mt.tenantId?mt._agentRecaptchaConfig=$i:mt._tenantRecaptchaConfigs[mt.tenantId]=$i,In($i.siteKey)}Sn(new Error("recaptcha Enterprise site key undefined"))}).catch(Bn=>{Sn(Bn)})});return function(In,Sn){return Ft.apply(this,arguments)}}())}),ee.apply(this,arguments)}function Ge(mt,Ft,In){const Sn=window.grecaptcha;jt(Sn)?Sn.enterprise.ready(()=>{Sn.enterprise.execute(mt,{action:f}).then(Bn=>{Ft(Bn)}).catch(()=>{Ft("NO_RECAPTCHA")})}):In(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((mt,Ft)=>{(function U(mt){return ee.apply(this,arguments)})(I.auth).then(In=>{if(!g&&jt(window.grecaptcha))Ge(In,mt,Ft);else{if(typeof window>"u")return void Ft(new Error("RecaptchaVerifier is only supported in browser"));let Sn=function bt(){return me.recaptchaEnterpriseScript}();0!==Sn.length&&(Sn+=In),he(Sn).then(()=>{Ge(In,mt,Ft)}).catch(Bn=>{Ft(Bn)})}}).catch(In=>{Ft(In)})})})()}}function pt(v,f,g){return j.apply(this,arguments)}function j(){return(j=(0,u.c)(function*(v,f,g,I=!1){const U=new ui(v);let ee;try{ee=yield U.verify(g)}catch{ee=yield U.verify(g,!0)}const Ge=Object.assign({},f);return Object.assign(Ge,I?{captchaResp:ee}:{captchaResponse:ee}),Object.assign(Ge,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ge,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ge})).apply(this,arguments)}function J(v,f,g,I){return Ue.apply(this,arguments)}function Ue(){return Ue=(0,u.c)(function*(v,f,g,I){var U;if(null!==(U=v._getRecaptchaConfig())&&void 0!==U&&U.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ee=yield pt(v,f,g,"getOobCode"===g);return I(v,ee)}return I(v,f).catch(function(){var ee=(0,u.c)(function*(Ge){if("auth/missing-recaptcha-token"===Ge.code){console.log(`${g} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const mt=yield pt(v,f,g,"getOobCode"===g);return I(v,mt)}return Promise.reject(Ge)});return function(Ge){return ee.apply(this,arguments)}}())}),Ue.apply(this,arguments)}function $t(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function Ht(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class pn{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return Se("not implemented")}_getIdTokenResponse(f){return Se("not implemented")}_linkToIdToken(f,g){return Se("not implemented")}_getReauthenticationResolver(f){return Se("not implemented")}}function qn(v,f){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,u.c)(function*(v,f){return Ie(v,"POST","/v1/accounts:resetPassword",nt(v,f))})).apply(this,arguments)}function T(){return(T=(0,u.c)(function*(v,f){return Ie(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function re(v,f){return x.apply(this,arguments)}function x(){return(x=(0,u.c)(function*(v,f){return Ie(v,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function Ee(){return(Ee=(0,u.c)(function*(v,f){return Ie(v,"POST","/v1/accounts:update",nt(v,f))})).apply(this,arguments)}function Yt(v,f){return dr.apply(this,arguments)}function dr(){return(dr=(0,u.c)(function*(v,f){return Rt(v,"POST","/v1/accounts:signInWithPassword",nt(v,f))})).apply(this,arguments)}function si(v,f){return wr.apply(this,arguments)}function wr(){return(wr=(0,u.c)(function*(v,f){return Ie(v,"POST","/v1/accounts:sendOobCode",nt(v,f))})).apply(this,arguments)}function Hi(){return(Hi=(0,u.c)(function*(v,f){return si(v,f)})).apply(this,arguments)}function jr(v,f){return ci.apply(this,arguments)}function ci(){return(ci=(0,u.c)(function*(v,f){return si(v,f)})).apply(this,arguments)}function to(v,f){return An.apply(this,arguments)}function An(){return(An=(0,u.c)(function*(v,f){return si(v,f)})).apply(this,arguments)}function _o(){return(_o=(0,u.c)(function*(v,f){return si(v,f)})).apply(this,arguments)}function ai(){return(ai=(0,u.c)(function*(v,f){return Rt(v,"POST","/v1/accounts:signInWithEmailLink",nt(v,f))})).apply(this,arguments)}function mo(){return(mo=(0,u.c)(function*(v,f){return Rt(v,"POST","/v1/accounts:signInWithEmailLink",nt(v,f))})).apply(this,arguments)}class Wi extends pn{constructor(f,g,I,U=null){super("password",I),this._email=f,this._password=g,this._tenantId=U}static _fromEmailAndPassword(f,g){return new Wi(f,g,"password")}static _fromEmailAndCode(f,g,I=null){return new Wi(f,g,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(null!=g&&g.email&&null!=g&&g.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,u.c)(function*(){switch(g.signInMethod){case"password":return J(f,{returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Yt);case"emailLink":return function yo(v,f){return ai.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Ve(f,"internal-error")}})()}_linkToIdToken(f,g){var I=this;return(0,u.c)(function*(){switch(I.signInMethod){case"password":return J(f,{idToken:g,returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",re);case"emailLink":return function Io(v,f){return mo.apply(this,arguments)}(f,{idToken:g,email:I._email,oobCode:I._password});default:Ve(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Ci(v,f){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,u.c)(function*(v,f){return Rt(v,"POST","/v1/accounts:signInWithIdp",nt(v,f))})).apply(this,arguments)}class zi extends pn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new zi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Ve("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:U}=g,ee=(0,pe.sX)(g,["providerId","signInMethod"]);if(!I||!U)return null;const Ge=new zi(I,U);return Ge.idToken=ee.idToken||void 0,Ge.accessToken=ee.accessToken||void 0,Ge.secret=ee.secret,Ge.nonce=ee.nonce,Ge.pendingToken=ee.pendingToken||null,Ge}_getIdTokenResponse(f){return Ci(f,this.buildRequest())}_linkToIdToken(f,g){const I=this.buildRequest();return I.idToken=g,Ci(f,I)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Ci(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,K.ik)(g)}return f}}function Yn(){return(Yn=(0,u.c)(function*(v,f){return Ie(v,"POST","/v1/accounts:sendVerificationCode",nt(v,f))})).apply(this,arguments)}function Ro(){return(Ro=(0,u.c)(function*(v,f){return Rt(v,"POST","/v1/accounts:signInWithPhoneNumber",nt(v,f))})).apply(this,arguments)}function Mo(){return(Mo=(0,u.c)(function*(v,f){const g=yield Rt(v,"POST","/v1/accounts:signInWithPhoneNumber",nt(v,f));if(g.temporaryProof)throw _t(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const jo={USER_NOT_FOUND:"user-not-found"};function Co(){return(Co=(0,u.c)(function*(v,f){return Rt(v,"POST","/v1/accounts:signInWithPhoneNumber",nt(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),jo)})).apply(this,arguments)}class Di extends pn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Di({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Di({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function ds(v,f){return Ro.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Ui(v,f){return Mo.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Pi(v,f){return Co.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:I,verificationCode:U}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:I,code:U}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:I,phoneNumber:U,temporaryProof:ee}=f;return I||g||U||ee?new Di({verificationId:g,verificationCode:I,phoneNumber:U,temporaryProof:ee}):null}}class Yi{constructor(f){var g,I,U,ee,Ge,mt;const Ft=(0,K.aw)((0,K.kF)(f)),In=null!==(g=Ft.apiKey)&&void 0!==g?g:null,Sn=null!==(I=Ft.oobCode)&&void 0!==I?I:null,Bn=function Si(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=Ft.mode)&&void 0!==U?U:null);oe(In&&Sn&&Bn,"argument-error"),this.apiKey=In,this.operation=Bn,this.code=Sn,this.continueUrl=null!==(ee=Ft.continueUrl)&&void 0!==ee?ee:null,this.languageCode=null!==(Ge=Ft.languageCode)&&void 0!==Ge?Ge:null,this.tenantId=null!==(mt=Ft.tenantId)&&void 0!==mt?mt:null}static parseLink(f){const g=function Do(v){const f=(0,K.aw)((0,K.kF)(v)).link,g=f?(0,K.aw)((0,K.kF)(f)).deep_link_id:null,I=(0,K.aw)((0,K.kF)(v)).deep_link_id;return(I?(0,K.aw)((0,K.kF)(I)).link:null)||I||g||f||v}(f);try{return new Yi(g)}catch{return null}}}let _i=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,I){return Wi._fromEmailAndPassword(g,I)}static credentialWithLink(g,I){const U=Yi.parseLink(I);return oe(U,"argument-error"),Wi._fromEmailAndCode(g,U.code,U.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class li{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Po extends li{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class wo extends Po{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return oe("providerId"in g&&"signInMethod"in g,"argument-error"),zi._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return oe(f.idToken||f.accessToken,"argument-error"),zi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return wo.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return wo.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:I,oauthTokenSecret:U,pendingToken:ee,nonce:Ge,providerId:mt}=f;if(!I&&!U&&!g&&!ee||!mt)return null;try{return new wo(mt)._credential({idToken:g,accessToken:I,nonce:Ge,pendingToken:ee})}catch{return null}}}let Gs=(()=>{class v extends Po{constructor(){super("facebook.com")}static credential(g){return zi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),js=(()=>{class v extends Po{constructor(){super("google.com"),this.addScope("profile")}static credential(g,I){return zi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:I})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:I,oauthAccessToken:U}=g;if(!I&&!U)return null;try{return v.credential(I,U)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Ms=(()=>{class v extends Po{constructor(){super("github.com")}static credential(g){return zi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class no extends pn{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Ci(f,this.buildRequest())}_linkToIdToken(f,g){const I=this.buildRequest();return I.idToken=g,Ci(f,I)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Ci(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:U,pendingToken:ee}=g;return I&&U&&ee&&I===U?new no(I,ee):null}static _create(f,g){return new no(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ho extends li{constructor(f){oe(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Ho.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Ho.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=no.fromJSON(f);return oe(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:I}=f;if(!g||!I)return null;try{return no._create(I,g)}catch{return null}}}let xo=(()=>{class v extends Po{constructor(){super("twitter.com")}static credential(g,I){return zi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:I})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:I,oauthTokenSecret:U}=g;if(!I||!U)return null;try{return v.credential(I,U)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Ds(v,f){return di.apply(this,arguments)}function di(){return(di=(0,u.c)(function*(v,f){return Rt(v,"POST","/v1/accounts:signUp",nt(v,f))})).apply(this,arguments)}class ho{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,I,U=!1){return(0,u.c)(function*(){const ee=yield Kt._fromIdTokenResponse(f,I,U),Ge=Wo(I);return new ho({user:ee,providerId:Ge,_tokenResponse:I,operationType:g})})()}static _forOperation(f,g,I){return(0,u.c)(function*(){yield f._updateTokensIfNecessary(I,!0);const U=Wo(I);return new ho({user:f,providerId:U,_tokenResponse:I,operationType:g})})()}}function Wo(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function xa(){return(xa=(0,u.c)(function*(v){var f;const g=Dr(v);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new ho({user:g.currentUser,providerId:null,operationType:"signIn"});const I=yield Ds(g,{returnSecureToken:!0}),U=yield ho._fromIdTokenResponse(g,"signIn",I,!0);return yield g._updateCurrentUser(U.user),U})).apply(this,arguments)}class Ws extends K.kx{constructor(f,g,I,U){var ee;super(g.code,g.message),this.operationType=I,this.user=U,Object.setPrototypeOf(this,Ws.prototype),this.customData={appName:f.name,tenantId:null!==(ee=f.tenantId)&&void 0!==ee?ee:void 0,_serverResponse:g.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(f,g,I,U){return new Ws(f,g,I,U)}}function G(v,f,g,I){return("reauthenticate"===f?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(ee=>{throw"auth/multi-factor-auth-required"===ee.code?Ws._fromErrorAndOperation(v,ee,f,I):ee})}function B(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function E(){return E=(0,u.c)(function*(v,f){const g=(0,K.Yj)(v);yield Y(!0,g,f);const{providerUserInfo:I}=yield function ar(v,f){return Nn.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),U=B(I||[]);return g.providerData=g.providerData.filter(ee=>U.has(ee.providerId)),U.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),E.apply(this,arguments)}function F(v,f){return R.apply(this,arguments)}function R(){return(R=(0,u.c)(function*(v,f,g=!1){const I=yield Ln(v,f._linkToIdToken(v.auth,yield v.getIdToken()),g);return ho._forOperation(v,"link",I)})).apply(this,arguments)}function Y(v,f,g){return gt.apply(this,arguments)}function gt(){return(gt=(0,u.c)(function*(v,f,g){yield Ar(f);const U=!1===v?"provider-already-linked":"no-such-provider";oe(B(f.providerData).has(g)===v,f.auth,U)})).apply(this,arguments)}function Tt(v,f){return mn.apply(this,arguments)}function mn(){return(mn=(0,u.c)(function*(v,f,g=!1){const{auth:I}=v,U="reauthenticate";try{const ee=yield Ln(v,G(I,U,f,v),g);oe(ee.idToken,I,"internal-error");const Ge=Tn(ee.idToken);oe(Ge,I,"internal-error");const{sub:mt}=Ge;return oe(v.uid===mt,I,"user-mismatch"),ho._forOperation(v,U,ee)}catch(ee){throw"auth/user-not-found"===(null==ee?void 0:ee.code)&&Ve(I,"user-mismatch"),ee}})).apply(this,arguments)}function Xn(v,f){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,u.c)(function*(v,f,g=!1){const I="signIn",U=yield G(v,I,f),ee=yield ho._fromIdTokenResponse(v,I,U);return g||(yield v._updateCurrentUser(ee.user)),ee})).apply(this,arguments)}function Wn(v,f){return ni.apply(this,arguments)}function ni(){return(ni=(0,u.c)(function*(v,f){return Xn(Dr(v),f)})).apply(this,arguments)}function Xr(v,f){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,u.c)(function*(v,f){const g=(0,K.Yj)(v);return yield Y(!1,g,f.providerId),F(g,f)})).apply(this,arguments)}function yi(v,f){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,u.c)(function*(v,f){return Tt((0,K.Yj)(v),f)})).apply(this,arguments)}function Hr(){return(Hr=(0,u.c)(function*(v,f){return Rt(v,"POST","/v1/accounts:signInWithCustomToken",nt(v,f))})).apply(this,arguments)}function Jo(){return Jo=(0,u.c)(function*(v,f){const g=Dr(v),I=yield function Xi(v,f){return Hr.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),U=yield ho._fromIdTokenResponse(g,"signIn",I);return yield g._updateCurrentUser(U.user),U}),Jo.apply(this,arguments)}class zo{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Zi._fromServerResponse(f,g):"totpInfo"in g?ro._fromServerResponse(f,g):Ve(f,"internal-error")}}class Zi extends zo{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Zi(g)}}class ro extends zo{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new ro(g)}}function No(v,f,g){var I;oe((null===(I=g.url)||void 0===I?void 0:I.length)>0,v,"invalid-continue-uri"),oe(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(oe(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(oe(g.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function ca(v){return fs.apply(this,arguments)}function fs(){return(fs=(0,u.c)(function*(v){const f=Dr(v);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function es(){return(es=(0,u.c)(function*(v,f,g){const I=Dr(v),U={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};g&&No(I,U,g),yield J(I,U,"getOobCode",jr)})).apply(this,arguments)}function tl(){return tl=(0,u.c)(function*(v,f,g){yield qn((0,K.Yj)(v),{oobCode:f,newPassword:g}).catch(function(){var I=(0,u.c)(function*(U){throw"auth/password-does-not-meet-requirements"===U.code&&ca(v),U});return function(U){return I.apply(this,arguments)}}())}),tl.apply(this,arguments)}function er(){return er=(0,u.c)(function*(v,f){yield function ne(v,f){return Ee.apply(this,arguments)}((0,K.Yj)(v),{oobCode:f})}),er.apply(this,arguments)}function da(v,f){return sc.apply(this,arguments)}function sc(){return(sc=(0,u.c)(function*(v,f){const g=(0,K.Yj)(v),I=yield qn(g,{oobCode:f}),U=I.requestType;switch(oe(U,g,"internal-error"),U){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(I.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(I.mfaInfo,g,"internal-error");default:oe(I.email,g,"internal-error")}let ee=null;return I.mfaInfo&&(ee=zo._fromServerResponse(Dr(g),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:ee},operation:U}})).apply(this,arguments)}function Rl(){return(Rl=(0,u.c)(function*(v,f){const{data:g}=yield da((0,K.Yj)(v),f);return g.email})).apply(this,arguments)}function nl(){return(nl=(0,u.c)(function*(v,f,g){const I=Dr(v),Ge=yield J(I,{returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ds).catch(Ft=>{throw"auth/password-does-not-meet-requirements"===Ft.code&&ca(v),Ft}),mt=yield ho._fromIdTokenResponse(I,"signIn",Ge);return yield I._updateCurrentUser(mt.user),mt})).apply(this,arguments)}function qo(){return(qo=(0,u.c)(function*(v,f,g){const I=Dr(v),U={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function ee(Ge,mt){oe(mt.handleCodeInApp,I,"argument-error"),mt&&No(I,Ge,mt)})(U,g),yield J(I,U,"getOobCode",to)})).apply(this,arguments)}function Pl(){return(Pl=(0,u.c)(function*(v,f,g){const I=(0,K.Yj)(v),U=_i.credentialWithLink(f,g||ot());return oe(U._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Wn(I,U)})).apply(this,arguments)}function yr(){return(yr=(0,u.c)(function*(v,f){return Ie(v,"POST","/v1/accounts:createAuthUri",nt(v,f))})).apply(this,arguments)}function qs(){return qs=(0,u.c)(function*(v,f){const I={identifier:f,continueUri:ut()?ot():"http://localhost"},{signinMethods:U}=yield function Nt(v,f){return yr.apply(this,arguments)}((0,K.Yj)(v),I);return U||[]}),qs.apply(this,arguments)}function rl(){return rl=(0,u.c)(function*(v,f){const g=(0,K.Yj)(v),U={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&No(g.auth,U,f);const{email:ee}=yield function Mi(v,f){return Hi.apply(this,arguments)}(g.auth,U);ee!==v.email&&(yield v.reload())}),rl.apply(this,arguments)}function Oo(){return Oo=(0,u.c)(function*(v,f,g){const I=(0,K.Yj)(v),ee={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};g&&No(I.auth,ee,g);const{email:Ge}=yield function go(v,f){return _o.apply(this,arguments)}(I.auth,ee);Ge!==v.email&&(yield v.reload())}),Oo.apply(this,arguments)}function xs(){return(xs=(0,u.c)(function*(v,f){return Ie(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ys(){return Ys=(0,u.c)(function*(v,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const I=(0,K.Yj)(v),ee={idToken:yield I.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},Ge=yield Ln(I,function il(v,f){return xs.apply(this,arguments)}(I.auth,ee));I.displayName=Ge.displayName||null,I.photoURL=Ge.photoUrl||null;const mt=I.providerData.find(({providerId:Ft})=>"password"===Ft);mt&&(mt.displayName=I.displayName,mt.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Ge)}),Ys.apply(this,arguments)}function To(v,f,g){return Qs.apply(this,arguments)}function Qs(){return Qs=(0,u.c)(function*(v,f,g){const{auth:I}=v,ee={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(ee.email=f),g&&(ee.password=g);const Ge=yield Ln(v,function qr(v,f){return T.apply(this,arguments)}(I,ee));yield v._updateTokensIfNecessary(Ge,!0)}),Qs.apply(this,arguments)}class C{constructor(f,g,I={}){this.isNewUser=f,this.providerId=g,this.profile=I}}class V extends C{constructor(f,g,I,U){super(f,g,I),this.username=U}}class ye extends C{constructor(f,g){super(f,"facebook.com",g)}}class L extends V{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class ie extends C{constructor(f,g){super(f,"google.com",g)}}class xe extends V{constructor(f,g,I){super(f,"twitter.com",g,I)}}function St(v){const{user:f,_tokenResponse:g}=v;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function ko(v){var f,g;if(!v)return null;const{providerId:I}=v,U=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},ee=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!I&&null!=v&&v.idToken){const Ge=null===(g=null===(f=Tn(v.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(Ge)return new C(ee,"anonymous"!==Ge&&"custom"!==Ge?Ge:null)}if(!I)return null;switch(I){case"facebook.com":return new ye(ee,U);case"github.com":return new L(ee,U);case"google.com":return new ie(ee,U);case"twitter.com":return new xe(ee,U,v.screenName||null);case"custom":case"anonymous":return new C(ee,null);default:return new C(ee,I,U)}}(g)}class sr{constructor(f,g,I){this.type=f,this.credential=g,this.user=I}static _fromIdtoken(f,g){return new sr("enroll",f,g)}static _fromMfaPendingCredential(f){return new sr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,I;if(null!=f&&f.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return sr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(I=f.multiFactorSession)&&void 0!==I&&I.idToken)return sr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class ps{constructor(f,g,I){this.session=f,this.hints=g,this.signInResolver=I}static _fromError(f,g){const I=Dr(f),U=g.customData._serverResponse,ee=(U.mfaInfo||[]).map(mt=>zo._fromServerResponse(I,mt));oe(U.mfaPendingCredential,I,"internal-error");const Ge=sr._fromMfaPendingCredential(U.mfaPendingCredential);return new ps(Ge,ee,function(){var mt=(0,u.c)(function*(Ft){const In=yield Ft._process(I,Ge);delete U.mfaInfo,delete U.mfaPendingCredential;const Sn=Object.assign(Object.assign({},U),{idToken:In.idToken,refreshToken:In.refreshToken});switch(g.operationType){case"signIn":const Bn=yield ho._fromIdTokenResponse(I,g.operationType,Sn);return yield I._updateCurrentUser(Bn.user),Bn;case"reauthenticate":return oe(g.user,I,"internal-error"),ho._forOperation(g.user,g.operationType,Sn);default:Ve(I,"internal-error")}});return function(Ft){return mt.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,u.c)(function*(){return g.signInResolver(f)})()}}class Fo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(I=>zo._fromServerResponse(f.auth,I)))})}static _fromUser(f){return new Fo(f)}getSession(){var f=this;return(0,u.c)(function*(){return sr._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,g){var I=this;return(0,u.c)(function*(){const U=f,ee=yield I.getSession(),Ge=yield Ln(I.user,U._process(I.user.auth,ee,g));return yield I.user._updateTokensIfNecessary(Ge),I.user.reload()})()}unenroll(f){var g=this;return(0,u.c)(function*(){const I="string"==typeof f?f:f.uid,U=yield g.user.getIdToken();try{const ee=yield Ln(g.user,function Xs(v,f){return Ie(v,"POST","/v2/accounts/mfaEnrollment:withdraw",nt(v,f))}(g.user.auth,{idToken:U,mfaEnrollmentId:I}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Ge})=>Ge!==I),yield g.user._updateTokensIfNecessary(ee),yield g.user.reload()}catch(ee){throw ee}})()}}const Ol=new WeakMap,Bi="__sak";class uc{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Bi,"1"),this.storage.removeItem(Bi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Zs=(()=>{class v extends uc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,I)=>this.onStorageEvent(g,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Rf(){const v=(0,K.Su)();return rr(v)||bn(v)}()&&function cr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ir(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const I of Object.keys(this.listeners)){const U=this.storage.getItem(I),ee=this.localCache[I];U!==ee&&g(I,ee,U)}}onStorageEvent(g,I=!1){if(!g.key)return void this.forAllChangedKeys((mt,Ft,In)=>{this.notifyListeners(mt,In)});const U=g.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const mt=this.storage.getItem(U);if(g.newValue!==mt)null!==g.newValue?this.storage.setItem(U,g.newValue):this.storage.removeItem(U);else if(this.localCache[U]===g.newValue&&!I)return}const ee=()=>{const mt=this.storage.getItem(U);!I&&this.localCache[U]===mt||this.notifyListeners(U,mt)},Ge=this.storage.getItem(U);!function Cr(){return(0,K.Uv)()&&10===document.documentMode}()||Ge===g.newValue||g.newValue===g.oldValue?ee():setTimeout(ee,10)}notifyListeners(g,I){this.localCache[g]=I;const U=this.listeners[g];if(U)for(const ee of Array.from(U))ee(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,I,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:I,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(I)}_removeListener(g,I){this.listeners[g]&&(this.listeners[g].delete(I),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,I){var U=()=>super._set,ee=this;return(0,u.c)(function*(){yield U().call(ee,g,I),ee.localCache[g]=JSON.stringify(I)})()}_get(g){var I=()=>super._get,U=this;return(0,u.c)(function*(){const ee=yield I().call(U,g);return U.localCache[g]=JSON.stringify(ee),ee})()}_remove(g){var I=()=>super._remove,U=this;return(0,u.c)(function*(){yield I().call(U,g),delete U.localCache[g]})()}}return v.type="LOCAL",v})(),ts=(()=>{class v extends uc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,I){}_removeListener(g,I){}}return v.type="SESSION",v})();let uh=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const I=this.receivers.find(ee=>ee.isListeningto(g));if(I)return I;const U=new v(g);return this.receivers.push(U),U}isListeningto(g){return this.eventTarget===g}handleEvent(g){var I=this;return(0,u.c)(function*(){const U=g,{eventId:ee,eventType:Ge,data:mt}=U.data,Ft=I.handlersMap[Ge];if(null==Ft||!Ft.size)return;U.ports[0].postMessage({status:"ack",eventId:ee,eventType:Ge});const In=Array.from(Ft).map(function(){var Bn=(0,u.c)(function*($i){return $i(U.origin,mt)});return function($i){return Bn.apply(this,arguments)}}()),Sn=yield function Mf(v){return Promise.all(v.map(function(){var f=(0,u.c)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(I){return{fulfilled:!1,reason:I}}});return function(g){return f.apply(this,arguments)}}()))}(In);U.ports[0].postMessage({status:"done",eventId:ee,eventType:Ge,response:Sn})})()}_subscribe(g,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(I)}_unsubscribe(g,I){this.handlersMap[g]&&I&&this.handlersMap[g].delete(I),(!I||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function ks(v="",f=10){let g="";for(let I=0;I<f;I++)g+=Math.floor(10*Math.random());return v+g}class Ko{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,I=50){var U=this;return(0,u.c)(function*(){const ee=typeof MessageChannel<"u"?new MessageChannel:null;if(!ee)throw new Error("connection_unavailable");let Ge,mt;return new Promise((Ft,In)=>{const Sn=ks("",20);ee.port1.start();const Bn=setTimeout(()=>{In(new Error("unsupported_event"))},I);mt={messageChannel:ee,onMessage($i){const vi=$i;if(vi.data.eventId===Sn)switch(vi.data.status){case"ack":clearTimeout(Bn),Ge=setTimeout(()=>{In(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ge),Ft(vi.data.response);break;default:clearTimeout(Bn),clearTimeout(Ge),In(new Error("invalid_response"))}}},U.handlers.add(mt),ee.port1.addEventListener("message",mt.onMessage),U.target.postMessage({eventType:f,eventId:Sn,data:g},[ee.port2])}).finally(()=>{mt&&U.removeMessageHandler(mt)})})()}}function Fr(){return window}function pa(){return typeof Fr().WorkerGlobalScope<"u"&&"function"==typeof Fr().importScripts}function cc(){return(cc=(0,u.c)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Uo="firebaseLocalStorageDb",Rn="firebaseLocalStorage",$n="fbase_key";class ga{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function vn(v,f){return v.transaction([Rn],f?"readwrite":"readonly").objectStore(Rn)}function Ut(){const v=indexedDB.open(Uo,1);return new Promise((f,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const I=v.result;try{I.createObjectStore(Rn,{keyPath:$n})}catch(U){g(U)}}),v.addEventListener("success",(0,u.c)(function*(){const I=v.result;I.objectStoreNames.contains(Rn)?f(I):(I.close(),yield function At(){const v=indexedDB.deleteDatabase(Uo);return new ga(v).toPromise()}(),f(yield Ut()))}))})}function Ir(v,f,g){return ld.apply(this,arguments)}function ld(){return(ld=(0,u.c)(function*(v,f,g){const I=vn(v,!0).put({[$n]:f,value:g});return new ga(I).toPromise()})).apply(this,arguments)}function Ll(){return(Ll=(0,u.c)(function*(v,f){const g=vn(v,!1).get(f),I=yield new ga(g).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function ch(v,f){const g=vn(v,!0).delete(f);return new ga(g).toPromise()}const b=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.c)(function*(){return g.db||(g.db=yield Ut()),g.db})()}_withRetries(g){var I=this;return(0,u.c)(function*(){let U=0;for(;;)try{const ee=yield I._openDb();return yield g(ee)}catch(ee){if(U++>3)throw ee;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.c)(function*(){return pa()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.c)(function*(){g.receiver=uh._getInstance(function Ri(){return pa()?self:null}()),g.receiver._subscribe("keyChanged",function(){var I=(0,u.c)(function*(U,ee){return{keyProcessed:(yield g._poll()).includes(ee.key)}});return function(U,ee){return I.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var I=(0,u.c)(function*(U,ee){return["keyChanged"]});return function(U,ee){return I.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.c)(function*(){var I,U;if(g.activeServiceWorker=yield function ka(){return cc.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Ko(g.activeServiceWorker);const ee=yield g.sender._send("ping",{},800);ee&&null!==(I=ee[0])&&void 0!==I&&I.fulfilled&&null!==(U=ee[0])&&void 0!==U&&U.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var I=this;return(0,u.c)(function*(){if(I.sender&&I.activeServiceWorker&&function Xt(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:g},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.c)(function*(){try{if(!indexedDB)return!1;const g=yield Ut();return yield Ir(g,Bi,"1"),yield ch(g,Bi),!0}catch{}return!1})()}_withPendingWrite(g){var I=this;return(0,u.c)(function*(){I.pendingWrites++;try{yield g()}finally{I.pendingWrites--}})()}_set(g,I){var U=this;return(0,u.c)(function*(){return U._withPendingWrite((0,u.c)(function*(){return yield U._withRetries(ee=>Ir(ee,g,I)),U.localCache[g]=I,U.notifyServiceWorker(g)}))})()}_get(g){var I=this;return(0,u.c)(function*(){const U=yield I._withRetries(ee=>function dc(v,f){return Ll.apply(this,arguments)}(ee,g));return I.localCache[g]=U,U})()}_remove(g){var I=this;return(0,u.c)(function*(){return I._withPendingWrite((0,u.c)(function*(){return yield I._withRetries(U=>ch(U,g)),delete I.localCache[g],I.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.c)(function*(){const I=yield g._withRetries(Ge=>{const mt=vn(Ge,!1).getAll();return new ga(mt).toPromise()});if(!I)return[];if(0!==g.pendingWrites)return[];const U=[],ee=new Set;if(0!==I.length)for(const{fbase_key:Ge,value:mt}of I)ee.add(Ge),JSON.stringify(g.localCache[Ge])!==JSON.stringify(mt)&&(g.notifyListeners(Ge,mt),U.push(Ge));for(const Ge of Object.keys(g.localCache))g.localCache[Ge]&&!ee.has(Ge)&&(g.notifyListeners(Ge,null),U.push(Ge));return U})()}notifyListeners(g,I){this.localCache[g]=I;const U=this.listeners[g];if(U)for(const ee of Array.from(U))ee(I)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.c)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(I)}_removeListener(g,I){this.listeners[g]&&(this.listeners[g].delete(I),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),ht=1e12;class xt{constructor(f){this.auth=f,this.counter=ht,this._widgets=new Map}render(f,g){const I=this.counter;return this._widgets.set(I,new Ye(f,this.auth.name,g||{})),this.counter++,I}reset(f){var g;const I=f||ht;null===(g=this._widgets.get(I))||void 0===g||g.delete(),this._widgets.delete(I)}getResponse(f){var g;return(null===(g=this._widgets.get(f||ht))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,u.c)(function*(){var I;return null===(I=g._widgets.get(f||ht))||void 0===I||I.execute(),""})()}}class Ye{constructor(f,g,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const U="string"==typeof f?document.getElementById(f):f;oe(U,"argument-error",{appName:g}),this.container=U,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function En(v){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<v;I++)f.push(g.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const yn=un("rcb"),Li=new at(3e4,6e4);class Jn{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Fr().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return oe(function ln(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),f,"argument-error"),this.shouldResolveImmediately(g)&&yt(Fr().grecaptcha)?Promise.resolve(Fr().grecaptcha):new Promise((I,U)=>{const ee=Fr().setTimeout(()=>{U(Oe(f,"network-request-failed"))},Li.get());Fr()[yn]=()=>{Fr().clearTimeout(ee),delete Fr()[yn];const mt=Fr().grecaptcha;if(!mt||!yt(mt))return void U(Oe(f,"internal-error"));const Ft=mt.render;mt.render=(In,Sn)=>{const Bn=Ft(In,Sn);return this.counter++,Bn},this.hostLanguage=g,I(mt)},he(`${function st(){return me.recaptchaV2Script}()}?${(0,K.ik)({onload:yn,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(ee),U(Oe(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=Fr().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ms{load(f){return(0,u.c)(function*(){return new xt(f)})()}clearedOneInstance(){}}const ws="recaptcha",Kn={theme:"light",type:"image"};class ma{constructor(f,g,I=Object.assign({},Kn)){this.parameters=I,this.type=ws,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dr(f),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const U="string"==typeof g?document.getElementById(g):g;oe(U,this.auth,"argument-error"),this.container=U,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ms:new Jn,this.validateStartingState()}verify(){var f=this;return(0,u.c)(function*(){f.assertNotDestroyed();const g=yield f.render(),I=f.getAssertedRecaptcha();return I.getResponse(g)||new Promise(ee=>{const Ge=mt=>{mt&&(f.tokenChangeListeners.delete(Ge),ee(mt))};f.tokenChangeListeners.add(Ge),f.isInvisible&&I.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(I=>I(g)),"function"==typeof f)f(g);else if("string"==typeof f){const I=Fr()[f];"function"==typeof I&&I(g)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,u.c)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const I=document.createElement("div");g.appendChild(I),g=I}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,u.c)(function*(){oe(ut()&&!pa(),f.auth,"internal-error"),yield function ns(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Vt(v){return an.apply(this,arguments)}(f.auth);oe(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Fl{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Di._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function fu(){return(fu=(0,u.c)(function*(v,f,g){const I=Dr(v),U=yield ud(I,f,(0,K.Yj)(g));return new Fl(U,ee=>Wn(I,ee))})).apply(this,arguments)}function Bo(){return(Bo=(0,u.c)(function*(v,f,g){const I=(0,K.Yj)(v);yield Y(!1,I,"phone");const U=yield ud(I.auth,f,(0,K.Yj)(g));return new Fl(U,ee=>Xr(I,ee))})).apply(this,arguments)}function hh(){return(hh=(0,u.c)(function*(v,f,g){const I=(0,K.Yj)(v),U=yield ud(I.auth,f,(0,K.Yj)(g));return new Fl(U,ee=>yi(I,ee))})).apply(this,arguments)}function ud(v,f,g){return La.apply(this,arguments)}function La(){return La=(0,u.c)(function*(v,f,g){var I;const U=yield g.verify();try{let ee;if(oe("string"==typeof U,v,"argument-error"),oe(g.type===ws,v,"argument-error"),ee="string"==typeof f?{phoneNumber:f}:f,"session"in ee){const Ge=ee.session;if("phoneNumber"in ee)return oe("enroll"===Ge.type,v,"internal-error"),(yield function Os(v,f){return Ie(v,"POST","/v2/accounts/mfaEnrollment:start",nt(v,f))}(v,{idToken:Ge.credential,phoneEnrollmentInfo:{phoneNumber:ee.phoneNumber,recaptchaToken:U}})).phoneSessionInfo.sessionInfo;{oe("signin"===Ge.type,v,"internal-error");const mt=(null===(I=ee.multiFactorHint)||void 0===I?void 0:I.uid)||ee.multiFactorUid;return oe(mt,v,"missing-multi-factor-info"),(yield function P(v,f){return Ie(v,"POST","/v2/accounts/mfaSignIn:start",nt(v,f))}(v,{mfaPendingCredential:Ge.credential,mfaEnrollmentId:mt,phoneSignInInfo:{recaptchaToken:U}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ge}=yield function co(v,f){return Yn.apply(this,arguments)}(v,{phoneNumber:ee.phoneNumber,recaptchaToken:U});return Ge}}finally{g._reset()}}),La.apply(this,arguments)}function tt(){return(tt=(0,u.c)(function*(v,f){yield F((0,K.Yj)(v),f)})).apply(this,arguments)}let Wr=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=Dr(g)}verifyPhoneNumber(g,I){return ud(this.auth,g,(0,K.Yj)(I))}static credential(g,I){return Di._fromVerification(g,I)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:I,temporaryProof:U}=g;return I&&U?Di._fromTokenResponse(I,U):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function $o(v,f){return f?Pn(f):(oe(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class fh extends pn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Ci(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Ci(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Ci(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function fc(v){return Xn(v.auth,new fh(v),v.bypassAuthState)}function Vl(v){const{auth:f,user:g}=v;return oe(g,f,"internal-error"),Tt(g,new fh(v),v.bypassAuthState)}function Tg(v){return Js.apply(this,arguments)}function Js(){return(Js=(0,u.c)(function*(v){const{auth:f,user:g}=v;return oe(g,f,"internal-error"),F(g,new fh(v),v.bypassAuthState)})).apply(this,arguments)}class pc{constructor(f,g,I,U,ee=!1){this.auth=f,this.resolver=I,this.user=U,this.bypassAuthState=ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,u.c)(function*(I,U){f.pendingPromise={resolve:I,reject:U};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(ee){f.reject(ee)}});return function(I,U){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,u.c)(function*(){const{urlResponse:I,sessionId:U,postBody:ee,tenantId:Ge,error:mt,type:Ft}=f;if(mt)return void g.reject(mt);const In={auth:g.auth,requestUri:I,sessionId:U,tenantId:Ge||void 0,postBody:ee||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ft)(In))}catch(Sn){g.reject(Sn)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return fc;case"linkViaPopup":case"linkViaRedirect":return Tg;case"reauthViaPopup":case"reauthViaRedirect":return Vl;default:Ve(this.auth,"internal-error")}}resolve(f){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cd=new at(2e3,1e4);function dd(){return(dd=(0,u.c)(function*(v,f,g){const I=Dr(v);ae(v,f,li);const U=$o(I,g);return new oo(I,"signInViaPopup",f,U).executeNotNull()})).apply(this,arguments)}function pu(){return(pu=(0,u.c)(function*(v,f,g){const I=(0,K.Yj)(v);ae(I.auth,f,li);const U=$o(I.auth,g);return new oo(I.auth,"reauthViaPopup",f,U,I).executeNotNull()})).apply(this,arguments)}function gu(){return(gu=(0,u.c)(function*(v,f,g){const I=(0,K.Yj)(v);ae(I.auth,f,li);const U=$o(I.auth,g);return new oo(I.auth,"linkViaPopup",f,U,I).executeNotNull()})).apply(this,arguments)}let oo=(()=>{class v extends pc{constructor(g,I,U,ee,Ge){super(g,I,ee,Ge),this.provider=U,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.c)(function*(){const I=yield g.execute();return oe(I,g.auth,"internal-error"),I})()}onExecution(){var g=this;return(0,u.c)(function*(){je(1===g.filter.length,"Popup operations only handle one event");const I=ks();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],I),g.authWindow.associatedEvent=I,g.resolver._originValidation(g.auth).catch(U=>{g.reject(U)}),g.resolver._isIframeWebStorageSupported(g.auth,U=>{U||g.reject(Oe(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var I,U;this.pollId=null!==(U=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==U&&U.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,cd.get())};g()}}return v.currentPopupAction=null,v})();const bg="pendingRedirect",mu=new Map;class va extends pc{constructor(f,g,I=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,I),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,u.c)(function*(){let I=mu.get(g.auth._key());if(!I){try{const ee=(yield function ph(v,f){return ea.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;I=()=>Promise.resolve(ee)}catch(U){I=()=>Promise.reject(U)}mu.set(g.auth._key(),I)}return g.bypassAuthState||mu.set(g.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,I=this;return(0,u.c)(function*(){if("signInViaRedirect"===f.type)return g().call(I,f);if("unknown"!==f.type){if(f.eventId){const U=yield I.auth._redirectUserForId(f.eventId);if(U)return I.user=U,g().call(I,f);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,u.c)(function*(){})()}cleanUp(){}}function ea(){return(ea=(0,u.c)(function*(v,f){const g=Zr(f),I=gh(v);if(!(yield I._isAvailable()))return!1;const U="true"===(yield I._get(g));return yield I._remove(g),U})).apply(this,arguments)}function hd(v,f){return _a.apply(this,arguments)}function _a(){return(_a=(0,u.c)(function*(v,f){return gh(v)._set(Zr(f),"true")})).apply(this,arguments)}function Ao(v,f){mu.set(v._key(),f)}function gh(v){return Pn(v._redirectPersistence)}function Zr(v){return Rr(bg,v.config.apiKey,v.name)}function fd(v,f,g){return function mh(v,f,g){return Ul.apply(this,arguments)}(v,f,g)}function Ul(){return(Ul=(0,u.c)(function*(v,f,g){const I=Dr(v);ae(v,f,li),yield I._initializationPromise;const U=$o(I,g);return yield hd(U,I),U._openRedirect(I,f,"signInViaRedirect")})).apply(this,arguments)}function Sg(v,f,g){return function Rg(v,f,g){return vh.apply(this,arguments)}(v,f,g)}function vh(){return(vh=(0,u.c)(function*(v,f,g){const I=(0,K.Yj)(v);ae(I.auth,f,li),yield I.auth._initializationPromise;const U=$o(I.auth,g);yield hd(U,I.auth);const ee=yield Iu(I);return U._openRedirect(I.auth,f,"reauthViaRedirect",ee)})).apply(this,arguments)}function Pv(v,f,g){return function xv(v,f,g){return vu.apply(this,arguments)}(v,f,g)}function vu(){return(vu=(0,u.c)(function*(v,f,g){const I=(0,K.Yj)(v);ae(I.auth,f,li),yield I.auth._initializationPromise;const U=$o(I.auth,g);yield Y(!1,I,f.providerId),yield hd(U,I.auth);const ee=yield Iu(I);return U._openRedirect(I.auth,f,"linkViaRedirect",ee)})).apply(this,arguments)}function _u(){return(_u=(0,u.c)(function*(v,f){return yield Dr(v)._initializationPromise,yu(v,f,!1)})).apply(this,arguments)}function yu(v,f){return Va.apply(this,arguments)}function Va(){return(Va=(0,u.c)(function*(v,f,g=!1){const I=Dr(v),U=$o(I,f),Ge=yield new va(I,U,g).execute();return Ge&&!g&&(delete Ge.user._redirectEventId,yield I._persistUserIfCurrent(Ge.user),yield I._setRedirectUser(null,f)),Ge})).apply(this,arguments)}function Iu(v){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,u.c)(function*(v){const f=ks(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class qi{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(f,I)&&(g=!0,this.sendToConsumer(f,I),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function gc(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ta(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var I;if(f.error&&!ta(f)){const U=(null===(I=f.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";g.onError(Oe(this.auth,U))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const I=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&I}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(al(f))}saveEventToCache(f){this.cachedEventUids.add(al(f)),this.lastProcessedEventTime=Date.now()}}function al(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function ta({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===(null==f?void 0:f.code)}function mi(v){return mc.apply(this,arguments)}function mc(){return(mc=(0,u.c)(function*(v,f={}){return Ie(v,"GET","/v1/projects",f)})).apply(this,arguments)}const vo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pi=/^https?/;function Ua(){return(Ua=(0,u.c)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield mi(v);for(const g of f)try{if(_s(g))return}catch{}Ve(v,"unauthorized-domain")})).apply(this,arguments)}function _s(v){const f=ot(),{protocol:g,hostname:I}=new URL(f);if(v.startsWith("chrome-extension://")){const Ge=new URL(v);return""===Ge.hostname&&""===I?"chrome-extension:"===g&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&Ge.hostname===I}if(!pi.test(g))return!1;if(vo.test(v))return I===v;const U=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(I)}const kf=new at(3e4,6e4);function pd(){const v=Fr().___jsl;if(null!=v&&v.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let gd=null;const Ni=new at(5e3,15e3),ya="__/auth/iframe",Cu="emulator/auth/iframe",vc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},md=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nv(v){const f=v.config;oe(f.authDomain,v,"auth-domain-config-required");const g=f.emulator?De(f,Cu):`https://${v.config.authDomain}/${ya}`,I={apiKey:f.apiKey,appName:v.name,v:le.SDK_VERSION},U=md.get(v.config.apiHost);U&&(I.eid=U);const ee=v._getFrameworks();return ee.length&&(I.fw=ee.join(",")),`${g}?${(0,K.ik)(I).slice(1)}`}function Ia(){return Ia=(0,u.c)(function*(v){const f=yield function ll(v){return gd=gd||function po(v){return new Promise((f,g)=>{var I,U,ee;function Ge(){pd(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{pd(),g(Oe(v,"network-request-failed"))},timeout:kf.get()})}if(null!==(U=null===(I=Fr().gapi)||void 0===I?void 0:I.iframes)&&void 0!==U&&U.Iframe)f(gapi.iframes.getContext());else{if(null===(ee=Fr().gapi)||void 0===ee||!ee.load){const mt=un("iframefcb");return Fr()[mt]=()=>{gapi.load?Ge():g(Oe(v,"network-request-failed"))},he(`${function Wt(){return me.gapiScript}()}?onload=${mt}`).catch(Ft=>g(Ft))}Ge()}}).catch(f=>{throw gd=null,f})}(v),gd}(v),g=Fr().gapi;return oe(g,v,"internal-error"),f.open({where:document.body,url:Nv(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vc,dontclear:!0},I=>new Promise(function(){var U=(0,u.c)(function*(ee,Ge){yield I.restyle({setHideOnLeave:!1});const mt=Oe(v,"network-request-failed"),Ft=Fr().setTimeout(()=>{Ge(mt)},Ni.get());function In(){Fr().clearTimeout(Ft),ee(I)}I.ping(In).then(In,()=>{Ge(mt)})});return function(ee,Ge){return U.apply(this,arguments)}}()))}),Ia.apply(this,arguments)}const Bl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wu{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ba="__/auth/handler",cl="emulator/auth/handler",_c=encodeURIComponent("fac");function Us(v,f,g,I,U,ee){return _h.apply(this,arguments)}function _h(){return(_h=(0,u.c)(function*(v,f,g,I,U,ee){oe(v.config.authDomain,v,"auth-domain-config-required"),oe(v.config.apiKey,v,"invalid-api-key");const Ge={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:I,v:le.SDK_VERSION,eventId:U};if(f instanceof li){f.setDefaultLanguage(v.languageCode),Ge.providerId=f.providerId||"",(0,K.t7)(f.getCustomParameters())||(Ge.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Sn,Bn]of Object.entries(ee||{}))Ge[Sn]=Bn}if(f instanceof Po){const Sn=f.getScopes().filter(Bn=>""!==Bn);Sn.length>0&&(Ge.scopes=Sn.join(","))}v.tenantId&&(Ge.tid=v.tenantId);const mt=Ge;for(const Sn of Object.keys(mt))void 0===mt[Sn]&&delete mt[Sn];const Ft=yield v._getAppCheckToken(),In=Ft?`#${_c}=${encodeURIComponent(Ft)}`:"";return`${function Lf({config:v}){return v.emulator?De(v,cl):`https://${v.authDomain}/${Ba}`}(v)}?${(0,K.ik)(mt).slice(1)}${In}`})).apply(this,arguments)}const $a="webStorageSupport",Tu=class yc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ts,this._completeRedirectFn=yu,this._overrideRedirectResult=Ao}_openPopup(f,g,I,U){var ee=this;return(0,u.c)(function*(){var Ge;je(null===(Ge=ee.eventManagers[f._key()])||void 0===Ge?void 0:Ge.manager,"_initialize() not called before _openPopup()");const mt=yield Us(f,g,I,ot(),U);return function na(v,f,g,I=500,U=600){const ee=Math.max((window.screen.availHeight-U)/2,0).toString(),Ge=Math.max((window.screen.availWidth-I)/2,0).toString();let mt="";const Ft=Object.assign(Object.assign({},Bl),{width:I.toString(),height:U.toString(),top:ee,left:Ge}),In=(0,K.Su)().toLowerCase();g&&(mt=Zn(In)?"_blank":g),ji(In)&&(f=f||"http://localhost",Ft.scrollbars="yes");const Sn=Object.entries(Ft).reduce(($i,[vi,xr])=>`${$i}${vi}=${xr},`,"");if(function zn(v=(0,K.Su)()){var f;return bn(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(In)&&"_self"!==mt)return function ul(v,f){const g=document.createElement("a");g.href=v,g.target=f;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(I)}(f||"",mt),new wu(null);const Bn=window.open(f||"",mt,Sn);oe(Bn,v,"popup-blocked");try{Bn.focus()}catch{}return new wu(Bn)}(f,mt,ks())})()}_openRedirect(f,g,I,U){var ee=this;return(0,u.c)(function*(){return yield ee._originValidation(f),function Ls(v){Fr().location.href=v}(yield Us(f,g,I,ot(),U)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:U,promise:ee}=this.eventManagers[g];return U?Promise.resolve(U):(je(ee,"If manager is not set, promise should be"),ee)}const I=this.initAndGetManager(f);return this.eventManagers[g]={promise:I},I.catch(()=>{delete this.eventManagers[g]}),I}initAndGetManager(f){var g=this;return(0,u.c)(function*(){const I=yield function Vs(v){return Ia.apply(this,arguments)}(f),U=new qi(f);return I.register("authEvent",ee=>(oe(null==ee?void 0:ee.authEvent,f,"invalid-auth-event"),{status:U.onEvent(ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:U},g.iframes[f._key()]=I,U})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send($a,{type:$a},U=>{var ee;const Ge=null===(ee=null==U?void 0:U[0])||void 0===ee?void 0:ee[$a];void 0!==Ge&&g(!!Ge),Ve(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Of(v){return Ua.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return ir()||rr()||bn()}};class Ff{constructor(f){this.factorId=f}_process(f,g,I){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,I);case"signin":return this._finalizeSignIn(f,g.credential);default:return Se("unexpected MultiFactorSessionType")}}}class Ga extends Ff{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ga(f)}_finalizeEnroll(f,g,I){return function gs(v,f){return Ie(v,"POST","/v2/accounts/mfaEnrollment:finalize",nt(v,f))}(f,{idToken:g,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function A(v,f){return Ie(v,"POST","/v2/accounts/mfaSignIn:finalize",nt(v,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let dl=(()=>{class v{constructor(){}static assertion(g){return Ga._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var ja="@firebase/auth";class yh{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,u.c)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(I=>{f((null==I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fl(){return window}(0,K.sX)("authIdTokenMaxAge"),function q(v){me=v}({loadJS:v=>new Promise((f,g)=>{const I=document.createElement("script");I.setAttribute("src",v),I.onload=f,I.onerror=U=>{const ee=Oe("internal-error");ee.customData=U,g(ee)},I.type="text/javascript",I.charset="UTF-8",function Ha(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(I)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Ov(v){(0,le._registerComponent)(new ce.Yl("auth",(f,{options:g})=>{const I=f.getProvider("app").getImmediate(),U=f.getProvider("heartbeat"),ee=f.getProvider("app-check-internal"),{apiKey:Ge,authDomain:mt}=I.options;oe(Ge&&!Ge.includes(":"),"invalid-api-key",{appName:I.name});const Ft={apiKey:Ge,authDomain:mt,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bi(v)},In=new lr(I,U,ee,Ft);return function Ot(v,f){const g=(null==f?void 0:f.persistence)||[],I=(Array.isArray(g)?g:[g]).map(Pn);null!=f&&f.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(I,null==f?void 0:f.popupRedirectResolver)}(In,g),In},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,I)=>{f.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new ce.Yl("auth-internal",f=>{const g=Dr(f.getProvider("auth").getImmediate());return new yh(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(ja,"1.6.0",function hl(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(v)),(0,le.registerVersion)(ja,"1.6.0","esm2017")}("Browser");function yd(){return yd=(0,u.c)(function*(v,f,g){var I;const{BuildInfo:U}=fl();je(f.sessionId,"AuthEvent did not contain a session ID");const ee=yield function Uf(v){return Ed.apply(this,arguments)}(f.sessionId),Ge={};return bn()?Ge.ibi=U.packageName:ct()?Ge.apn=U.packageName:Ve(v,"operation-not-supported-in-this-environment"),U.displayName&&(Ge.appDisplayName=U.displayName),Ge.sessionId=ee,Us(v,g,f.type,void 0,null!==(I=f.eventId)&&void 0!==I?I:void 0,Ge)}),yd.apply(this,arguments)}function Au(){return(Au=(0,u.c)(function*(v){const{BuildInfo:f}=fl(),g={};bn()?g.iosBundleId=f.packageName:ct()?g.androidPackageName=f.packageName:Ve(v,"operation-not-supported-in-this-environment"),yield mi(v,g)})).apply(this,arguments)}function Ru(){return(Ru=(0,u.c)(function*(v,f,g){const{cordova:I}=fl();let U=()=>{};try{yield new Promise((ee,Ge)=>{let mt=null;function Ft(){var Bn;ee();const $i=null===(Bn=I.plugins.browsertab)||void 0===Bn?void 0:Bn.close;"function"==typeof $i&&$i(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function In(){mt||(mt=window.setTimeout(()=>{Ge(Oe(v,"redirect-cancelled-by-user"))},2e3))}function Sn(){"visible"===(null==document?void 0:document.visibilityState)&&In()}f.addPassiveListener(Ft),document.addEventListener("resume",In,!1),ct()&&document.addEventListener("visibilitychange",Sn,!1),U=()=>{f.removePassiveListener(Ft),document.removeEventListener("resume",In,!1),document.removeEventListener("visibilitychange",Sn,!1),mt&&window.clearTimeout(mt)}})}finally{U()}})).apply(this,arguments)}function Ed(){return(Ed=(0,u.c)(function*(v){const f=function Mu(v){if(je(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const f=new ArrayBuffer(v.length),g=new Uint8Array(f);for(let I=0;I<v.length;I++)g[I]=v.charCodeAt(I);return g}(v),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(U=>U.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Eh extends qi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,u.c)(function*(){yield f.initPromise})()}}function Cc(v){return pl.apply(this,arguments)}function pl(){return(pl=(0,u.c)(function*(v){const f=yield ra()._get(Ji(v));return f&&(yield ra()._remove(Ji(v))),f})).apply(this,arguments)}function Bf(){const v=[];for(let g=0;g<20;g++){const I=Math.floor(62*Math.random());v.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(I))}return v.join("")}function ra(){return Pn(Zs)}function Ji(v){return Rr("authEvent",v.config.apiKey,v.name)}function Ta(v){if(null==v||!v.includes("?"))return{};const[f,...g]=v.split("?");return(0,K.aw)(g.join("?"))}const Gf=class rs{constructor(){this._redirectPersistence=ts,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=yu,this._overrideRedirectResult=Ao}_initialize(f){var g=this;return(0,u.c)(function*(){const I=f._key();let U=g.eventManagers.get(I);return U||(U=new Eh(f),g.eventManagers.set(I,U),g.attachCallbackListeners(f,U)),U})()}_openPopup(f){Ve(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,I,U){var ee=this;return(0,u.c)(function*(){!function Pg(v){var f,g,I,U,ee,Ge,mt,Ft,In,Sn;const Bn=fl();oe("function"==typeof(null===(f=null==Bn?void 0:Bn.universalLinks)||void 0===f?void 0:f.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oe(typeof(null===(g=null==Bn?void 0:Bn.BuildInfo)||void 0===g?void 0:g.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oe("function"==typeof(null===(ee=null===(U=null===(I=null==Bn?void 0:Bn.cordova)||void 0===I?void 0:I.plugins)||void 0===U?void 0:U.browsertab)||void 0===ee?void 0:ee.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(Ft=null===(mt=null===(Ge=null==Bn?void 0:Bn.cordova)||void 0===Ge?void 0:Ge.plugins)||void 0===mt?void 0:mt.browsertab)||void 0===Ft?void 0:Ft.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(Sn=null===(In=null==Bn?void 0:Bn.cordova)||void 0===In?void 0:In.InAppBrowser)||void 0===Sn?void 0:Sn.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const Ge=yield ee._initialize(f);yield Ge.initialized(),Ge.resetRedirect(),function Ag(){mu.clear()}(),yield ee._originValidation(f);const mt=function Gl(v,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:Bf(),postBody:null,tenantId:v.tenantId,error:Oe(v,"no-auth-event")}}(f,I,U);yield function jl(v,f){return ra()._set(Ji(v),f)}(f,mt);const Ft=yield function Ec(v,f,g){return yd.apply(this,arguments)}(f,mt,g),In=yield function wa(v){const{cordova:f}=fl();return new Promise(g=>{f.plugins.browsertab.isAvailable(I=>{let U=null;I?f.plugins.browsertab.openUrl(v):U=f.InAppBrowser.open(v,function xn(v=(0,K.Su)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(U)})})}(Ft);return function Su(v,f,g){return Ru.apply(this,arguments)}(f,Ge,In)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Id(v){return Au.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:I,handleOpenURL:U,BuildInfo:ee}=fl(),Ge=setTimeout((0,u.c)(function*(){yield Cc(f),g.onEvent(Cd())}),500),mt=function(){var Sn=(0,u.c)(function*(Bn){clearTimeout(Ge);const $i=yield Cc(f);let vi=null;$i&&null!=Bn&&Bn.url&&(vi=function Hl(v,f){var g,I;const U=function $f(v){const f=Ta(v),g=f.link?decodeURIComponent(f.link):void 0,I=Ta(g).link,U=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Ta(U).link||U||I||g||v}(f);if(U.includes("/__/auth/callback")){const ee=Ta(U),Ge=ee.firebaseError?function Wl(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(ee.firebaseError)):null,mt=null===(I=null===(g=null==Ge?void 0:Ge.code)||void 0===g?void 0:g.split("auth/"))||void 0===I?void 0:I[1],Ft=mt?Oe(mt):null;return Ft?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Ft,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:U,postBody:null}}return null}($i,Bn.url)),g.onEvent(vi||Cd())});return function($i){return Sn.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,mt);const Ft=U,In=`${ee.packageName.toLowerCase()}://`;fl().handleOpenURL=function(){var Sn=(0,u.c)(function*(Bn){if(Bn.toLowerCase().startsWith(In)&&mt({url:Bn}),"function"==typeof Ft)try{Ft(Bn)}catch($i){console.error($i)}});return function(Bn){return Sn.apply(this,arguments)}}()}};function Cd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Oe("no-auth-event")}}function za(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function wc(v=(0,K.Su)()){return!("file:"!==za()&&"ionic:"!==za()&&"capacitor:"!==za()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Td(){try{const v=self.localStorage,f=ks();if(v)return v.setItem(f,"1"),v.removeItem(f),!function is(v=(0,K.Su)()){return function qa(){return(0,K.Uv)()&&11===(null==document?void 0:document.documentMode)}()||function Ng(v=(0,K.Su)()){return/Edge\/\d+/.test(v)}(v)}()||(0,K.yy)()}catch{return zl()&&(0,K.yy)()}return!1}function zl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function xu(){return(function Ch(){return"http:"===za()||"https:"===za()}()||(0,K.Cc)()||wc())&&!function jf(){return(0,K.AL)()||(0,K.yW)()}()&&Td()&&!zl()}function ia(){return wc()&&typeof document<"u"}function ql(){return(ql=(0,u.c)(function*(){return!!ia()&&new Promise(v=>{const f=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),v(!0)})})})).apply(this,arguments)}const Yo={LOCAL:"local",NONE:"none",SESSION:"session"},hr=oe,Ad="persistence";function Tc(v){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,u.c)(function*(v){yield v._initializationPromise;const f=Ka(),g=Rr(Ad,v.config.apiKey,v.name);f&&f.setItem(g,v._getPersistence())})).apply(this,arguments)}function Ka(){var v;try{return(null===(v=function bd(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const Og=oe;class ba{constructor(){this.browserResolver=Pn(Tu),this.cordovaResolver=Pn(Gf),this.underlyingResolver=null,this._redirectPersistence=ts,this._completeRedirectFn=yu,this._overrideRedirectResult=Ao}_initialize(f){var g=this;return(0,u.c)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,I,U){var ee=this;return(0,u.c)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._openPopup(f,g,I,U)})()}_openRedirect(f,g,I,U){var ee=this;return(0,u.c)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._openRedirect(f,g,I,U)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return ia()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Og(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,u.c)(function*(){if(f.underlyingResolver)return;const g=yield function oa(){return ql.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Dh(v){return v.unwrap()}function Yl(v){return Ql(v)}function Ql(v){const{_tokenResponse:f}=v instanceof K.kx?v.customData:v;if(!f)return null;if(!(v instanceof K.kx)&&"temporaryProof"in f&&"phoneNumber"in f)return Wr.credentialFromResult(v);const g=f.providerId;if(!g||g===ze.PASSWORD)return null;let I;switch(g){case ze.GOOGLE:I=js;break;case ze.FACEBOOK:I=Gs;break;case ze.GITHUB:I=Ms;break;case ze.TWITTER:I=xo;break;default:const{oauthIdToken:U,oauthAccessToken:ee,oauthTokenSecret:Ge,pendingToken:mt,nonce:Ft}=f;return ee||Ge||U||mt?mt?g.startsWith("saml.")?no._create(g,mt):zi._fromParams({providerId:g,signInMethod:g,pendingToken:mt,idToken:U,accessToken:ee}):new wo(g).credential({idToken:U,accessToken:ee,rawNonce:Ft}):null}return v instanceof K.kx?I.credentialFromError(v):I.credentialFromResult(v)}function Go(v,f){return f.catch(g=>{throw g instanceof K.kx&&function kg(v,f){var g;const I=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null==f?void 0:f.code))f.resolver=new Ou(v,function ol(v,f){var g;const I=(0,K.Yj)(v),U=f;return oe(f.customData.operationType,I,"argument-error"),oe(null===(g=U.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,I,"argument-error"),ps._fromError(I,U)}(v,f));else if(I){const U=Ql(f),ee=f;U&&(ee.credential=U,ee.tenantId=I.tenantId||void 0,ee.email=I.email||void 0,ee.phoneNumber=I.phoneNumber||void 0)}}(v,g),g}).then(g=>{const U=g.user;return{operationType:g.operationType,credential:Yl(g),additionalUserInfo:St(g),user:os.getOrCreate(U)}})}function Bs(v,f){return Md.apply(this,arguments)}function Md(){return(Md=(0,u.c)(function*(v,f){const g=yield f;return{verificationId:g.verificationId,confirm:I=>Go(v,g.confirm(I))}})).apply(this,arguments)}class Ou{constructor(f,g){this.resolver=g,this.auth=function Nu(v){return v.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Go(Dh(this.auth),this.resolver.resolveSignIn(f))}}class os{constructor(f){this._delegate=f,this.multiFactor=function fa(v){const f=(0,K.Yj)(v);return Ol.has(f)||Ol.set(f,Fo._fromUser(f)),Ol.get(f)}(f)}static getOrCreate(f){return os.USER_MAP.has(f)||os.USER_MAP.set(f,new os(f)),os.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,u.c)(function*(){return Go(g.auth,Xr(g._delegate,f))})()}linkWithPhoneNumber(f,g){var I=this;return(0,u.c)(function*(){return Bs(I.auth,function xf(v,f,g){return Bo.apply(this,arguments)}(I._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,u.c)(function*(){return Go(g.auth,function Fa(v,f,g){return gu.apply(this,arguments)}(g._delegate,f,ba))})()}linkWithRedirect(f){var g=this;return(0,u.c)(function*(){return yield Tc(Dr(g.auth)),Pv(g._delegate,f,ba)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,u.c)(function*(){return Go(g.auth,yi(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Bs(this.auth,function Nf(v,f,g){return hh.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Go(this.auth,function Fs(v,f,g){return pu.apply(this,arguments)}(this._delegate,f,ba))}reauthenticateWithRedirect(f){var g=this;return(0,u.c)(function*(){return yield Tc(Dr(g.auth)),Sg(g._delegate,f,ba)})()}sendEmailVerification(f){return function ri(v,f){return rl.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,u.c)(function*(){return yield function w(v,f){return E.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function Oa(v,f){return To((0,K.Yj)(v),f,null)}(this._delegate,f)}updatePassword(f){return function fo(v,f){return To((0,K.Yj)(v),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function hc(v,f){return tt.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function ha(v,f){return Ys.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function Ks(v,f,g){return Oo.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}os.USER_MAP=new WeakMap;const gl=oe;let Lg=(()=>{class v{constructor(g,I){if(this.app=g,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:U}=g.options;gl(U,"invalid-api-key",{appName:g.name}),gl(U,"invalid-api-key",{appName:g.name});const ee=typeof window<"u"?ba:void 0;this._delegate=I.initialize({options:{persistence:bc(U,g.name),popupRedirectResolver:ee}}),this._delegate._updateErrorMap(Ae),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?os.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,I){!function Qt(v,f,g){const I=Dr(v);oe(I._canInitEmulator,I,"emulator-config-failed"),oe(/^https?:\/\//.test(f),I,"invalid-emulator-scheme");const U=!(null==g||!g.disableWarnings),ee=$t(f),{host:Ge,port:mt}=function wt(v){const f=$t(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!g)return{host:"",port:null};const I=g[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(I);if(U){const ee=U[1];return{host:ee,port:Ht(I.substr(ee.length+1))}}{const[ee,Ge]=I.split(":");return{host:ee,port:Ht(Ge)}}}(f);I.config.emulator={url:`${ee}//${Ge}${null===mt?"":`:${mt}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Ge,port:mt,protocol:ee.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function rn(){function v(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,g,I)}applyActionCode(g){return function hi(v,f){return er.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return da(this._delegate,g)}confirmPasswordReset(g,I){return function zs(v,f,g){return tl.apply(this,arguments)}(this._delegate,g,I)}createUserWithEmailAndPassword(g,I){var U=this;return(0,u.c)(function*(){return Go(U._delegate,function ac(v,f,g){return nl.apply(this,arguments)}(U._delegate,g,I))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function xl(v,f){return qs.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Ml(v,f){const g=Yi.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,u.c)(function*(){gl(xu(),g._delegate,"operation-not-supported-in-this-environment");const I=yield function Mg(v,f){return _u.apply(this,arguments)}(g._delegate,ba);return I?Go(g._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Dd(v,f){Dr(v)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,I,U){const{next:ee,error:Ge,complete:mt}=Fi(g,I,U);return this._delegate.onAuthStateChanged(ee,Ge,mt)}onIdTokenChanged(g,I,U){const{next:ee,error:Ge,complete:mt}=Fi(g,I,U);return this._delegate.onIdTokenChanged(ee,Ge,mt)}sendSignInLinkToEmail(g,I){return function lc(v,f,g){return qo.apply(this,arguments)}(this._delegate,g,I)}sendPasswordResetEmail(g,I){return function Na(v,f,g){return es.apply(this,arguments)}(this._delegate,g,I||void 0)}setPersistence(g){var I=this;return(0,u.c)(function*(){let U;switch(function Sd(v,f){hr(Object.values(Yo).includes(f),v,"invalid-persistence-type"),(0,K.AL)()?hr(f!==Yo.SESSION,v,"unsupported-persistence-type"):(0,K.yW)()?hr(f===Yo.NONE,v,"unsupported-persistence-type"):zl()?hr(f===Yo.NONE||f===Yo.LOCAL&&(0,K.yy)(),v,"unsupported-persistence-type"):hr(f===Yo.NONE||Td(),v,"unsupported-persistence-type")}(I._delegate,g),g){case Yo.SESSION:U=ts;break;case Yo.LOCAL:U=(yield Pn(b)._isAvailable())?b:Zs;break;case Yo.NONE:U=nr;break;default:return Ve("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(U)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Go(this._delegate,function hs(v){return xa.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Go(this._delegate,Wn(this._delegate,g))}signInWithCustomToken(g){return Go(this._delegate,function wi(v,f){return Jo.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,I){return Go(this._delegate,function Ps(v,f,g){return Wn((0,K.Yj)(v),_i.credential(f,g)).catch(function(){var I=(0,u.c)(function*(U){throw"auth/password-does-not-meet-requirements"===U.code&&ca(v),U});return function(U){return I.apply(this,arguments)}}())}(this._delegate,g,I))}signInWithEmailLink(g,I){return Go(this._delegate,function sd(v,f,g){return Pl.apply(this,arguments)}(this._delegate,g,I))}signInWithPhoneNumber(g,I){return Bs(this._delegate,function Ts(v,f,g){return fu.apply(this,arguments)}(this._delegate,g,I))}signInWithPopup(g){var I=this;return(0,u.c)(function*(){return gl(xu(),I._delegate,"operation-not-supported-in-this-environment"),Go(I._delegate,function vs(v,f,g){return dd.apply(this,arguments)}(I._delegate,g,ba))})()}signInWithRedirect(g){var I=this;return(0,u.c)(function*(){return gl(xu(),I._delegate,"operation-not-supported-in-this-environment"),yield Tc(I._delegate),fd(I._delegate,g,ba)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function od(v,f){return Rl.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Yo,v})();function Fi(v,f,g){let I=v;"function"!=typeof v&&({next:I,error:f,complete:g}=v);const U=I;return{next:Ge=>U(Ge&&os.getOrCreate(Ge)),error:f,complete:g}}function bc(v,f){const g=function Kl(v,f){const g=Ka();if(!g)return[];const I=Rr(Ad,v,f);switch(g.getItem(I)){case Yo.NONE:return[nr];case Yo.LOCAL:return[b,ts];case Yo.SESSION:return[ts];default:return[]}}(v,f);if(typeof self<"u"&&!g.includes(b)&&g.push(b),typeof window<"u")for(const I of[Zs,ts])g.includes(I)||g.push(I);return g.includes(nr)||g.push(nr),g}class ku{constructor(){this.providerId="phone",this._delegate=new Wr(Dh(z.c.auth()))}static credential(f,g){return Wr.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}ku.PHONE_SIGN_IN_METHOD=Wr.PHONE_SIGN_IN_METHOD,ku.PROVIDER_ID=Wr.PROVIDER_ID;const sa=oe;class Fg{constructor(f,g,I=z.c.app()){var U;sa(null===(U=I.options)||void 0===U?void 0:U.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new ma(I.auth(),f,g),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function wh(v){v.INTERNAL.registerComponent(new ce.Yl("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),I=f.getProvider("auth");return new Lg(g,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:_i,FacebookAuthProvider:Gs,GithubAuthProvider:Ms,GoogleAuthProvider:js,OAuthProvider:wo,SAMLAuthProvider:Ho,PhoneAuthProvider:ku,PhoneMultiFactorGenerator:dl,RecaptchaVerifier:Fg,TwitterAuthProvider:xo,Auth:Lg,AuthCredential:pn,Error:K.kx}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.5.2")}(z.c)},1528:(on,it,k)=>{"use strict";function u(K,le,be,pe,ce,We,ze){try{var ge=K[We](ze),ue=ge.value}catch(Re){return void be(Re)}ge.done?le(ue):Promise.resolve(ue).then(pe,ce)}function z(K){return function(){var le=this,be=arguments;return new Promise(function(pe,ce){var We=K.apply(le,be);function ze(ue){u(We,pe,ce,ze,ge,"next",ue)}function ge(ue){u(We,pe,ce,ze,ge,"throw",ue)}ze(void 0)})}}k.d(it,{c:()=>z})},4580:(on,it,k)=>{"use strict";function u(be){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pe){return typeof pe}:function(pe){return pe&&"function"==typeof Symbol&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe})(be)}function le(be,pe,ce){return(pe=function K(be){var pe=function z(be,pe){if("object"!=u(be)||!be)return be;var ce=be[Symbol.toPrimitive];if(void 0!==ce){var We=ce.call(be,pe||"default");if("object"!=u(We))return We;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===pe?String:Number)(be)}(be,"string");return"symbol"==u(pe)?pe:String(pe)}(pe))in be?Object.defineProperty(be,pe,{value:ce,enumerable:!0,configurable:!0,writable:!0}):be[pe]=ce,be}k.d(it,{c:()=>le})},1316:(on,it,k)=>{"use strict";function le(De,fe){var we={};for(var Ne in De)Object.prototype.hasOwnProperty.call(De,Ne)&&fe.indexOf(Ne)<0&&(we[Ne]=De[Ne]);if(null!=De&&"function"==typeof Object.getOwnPropertySymbols){var nt=0;for(Ne=Object.getOwnPropertySymbols(De);nt<Ne.length;nt++)fe.indexOf(Ne[nt])<0&&Object.prototype.propertyIsEnumerable.call(De,Ne[nt])&&(we[Ne[nt]]=De[Ne[nt]])}return we}function be(De,fe,we,Ne){var Lt,nt=arguments.length,Ie=nt<3?fe:null===Ne?Ne=Object.getOwnPropertyDescriptor(fe,we):Ne;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ie=Reflect.decorate(De,fe,we,Ne);else for(var tn=De.length-1;tn>=0;tn--)(Lt=De[tn])&&(Ie=(nt<3?Lt(Ie):nt>3?Lt(fe,we,Ie):Lt(fe,we))||Ie);return nt>3&&Ie&&Object.defineProperty(fe,we,Ie),Ie}function Re(De,fe,we,Ne){return new(we||(we=Promise))(function(Ie,Lt){function tn(_n){try{Rt(Ne.next(_n))}catch(kn){Lt(kn)}}function Zt(_n){try{Rt(Ne.throw(_n))}catch(kn){Lt(kn)}}function Rt(_n){_n.done?Ie(_n.value):function nt(Ie){return Ie instanceof we?Ie:new we(function(Lt){Lt(Ie)})}(_n.value).then(tn,Zt)}Rt((Ne=Ne.apply(De,fe||[])).next())})}function Ke(De){return this instanceof Ke?(this.v=De,this):new Ke(De)}function Ve(De,fe,we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var nt,Ne=we.apply(De,fe||[]),Ie=[];return nt={},Lt("next"),Lt("throw"),Lt("return"),nt[Symbol.asyncIterator]=function(){return this},nt;function Lt(Hn){Ne[Hn]&&(nt[Hn]=function(Le){return new Promise(function(_t,yt){Ie.push([Hn,Le,_t,yt])>1||tn(Hn,Le)})})}function tn(Hn,Le){try{!function Zt(Hn){Hn.value instanceof Ke?Promise.resolve(Hn.value.v).then(Rt,_n):kn(Ie[0][2],Hn)}(Ne[Hn](Le))}catch(_t){kn(Ie[0][3],_t)}}function Rt(Hn){tn("next",Hn)}function _n(Hn){tn("throw",Hn)}function kn(Hn,Le){Hn(Le),Ie.shift(),Ie.length&&tn(Ie[0][0],Ie[0][1])}}function Qe(De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,fe=De[Symbol.asyncIterator];return fe?fe.call(De):(De=function rt(De){var fe="function"==typeof Symbol&&Symbol.iterator,we=fe&&De[fe],Ne=0;if(we)return we.call(De);if(De&&"number"==typeof De.length)return{next:function(){return De&&Ne>=De.length&&(De=void 0),{value:De&&De[Ne++],done:!De}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(De),we={},Ne("next"),Ne("throw"),Ne("return"),we[Symbol.asyncIterator]=function(){return this},we);function Ne(Ie){we[Ie]=De[Ie]&&function(Lt){return new Promise(function(tn,Zt){!function nt(Ie,Lt,tn,Zt){Promise.resolve(Zt).then(function(Rt){Ie({value:Rt,done:tn})},Lt)}(tn,Zt,(Lt=De[Ie](Lt)).done,Lt.value)})}}}k.d(it,{U1:()=>Ke,UN:()=>be,kH:()=>Re,mA:()=>Qe,o7:()=>Ve,sX:()=>le}),"function"==typeof SuppressedError&&SuppressedError}},on=>{on(on.s=356)}]);